import{j as x}from"./jsx-runtime-Nms4Y4qS.js";import{r as s}from"./index-BwDkhjyp.js";import{L as a}from"./motion-D3fQgylo.js";import{u as f}from"./index-NLnnGRqa.js";const y=s.createContext(null),C=t=>!t.isLayoutDirty&&t.willUpdate(!1);function p(){const t=new Set,o=new WeakMap,r=()=>t.forEach(C);return{add:e=>{t.add(e),o.set(e,e.addEventListener("willUpdate",r))},remove:e=>{t.delete(e);const n=o.get(e);n&&(n(),o.delete(e)),r()},dirty:r}}const d=t=>t===!0,L=t=>d(t===!0)||t==="id",E=({children:t,id:o,inherit:r=!0})=>{const e=s.useContext(a),n=s.useContext(y),[i,l]=f(),u=s.useRef(null),c=e.id||n;u.current===null&&(L(r)&&c&&(o=o?c+"-"+o:c),u.current={id:o,group:d(r)&&e.group||p()});const m=s.useMemo(()=>({...u.current,forceRender:i}),[l]);return x.jsx(a.Provider,{value:m,children:t})};export{E as L};
