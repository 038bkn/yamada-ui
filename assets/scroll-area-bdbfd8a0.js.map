{"version":3,"file":"scroll-area-bdbfd8a0.js","sources":["../../packages/components/scroll-area/src/scroll-area.tsx"],"sourcesContent":["import type { CSSUIObject, HTMLUIProps, ThemeProps } from \"@yamada-ui/core\"\nimport {\n  ui,\n  forwardRef,\n  omitThemeProps,\n  useComponentStyle,\n} from \"@yamada-ui/core\"\nimport { cx, handlerAll, merge } from \"@yamada-ui/utils\"\nimport type { UIEvent } from \"react\"\nimport { useCallback, useEffect, useMemo, useRef, useState } from \"react\"\n\ntype ScrollAreaOptions = {\n  /**\n   * Scrollbar visibility type.\n   *\n   * @default 'hover'\n   */\n  type?: \"always\" | \"scroll\" | \"hover\" | \"never\"\n  /**\n   * Props for inner element.\n   */\n  innerProps?: HTMLUIProps<\"div\">\n  /**\n   * Delay in milliseconds before scrollbars are hidden.\n   *\n   * @default 1000\n   */\n  scrollHideDelay?: number\n  /**\n   * Callback function for when the scroll position changes.\n   */\n  onScrollPositionChange?: ({ x, y }: { x: number; y: number }) => void\n}\n\nexport type ScrollAreaProps = HTMLUIProps<\"div\"> &\n  ThemeProps<\"ScrollArea\"> &\n  ScrollAreaOptions\n\nconst neverStyles: CSSUIObject = {\n  scrollbarWidth: \"none\",\n  _scrollbar: { display: \"none\" },\n  \"&::-webkit-scrollbar\": { display: \"none\" },\n}\n\nconst hiddenStyles: CSSUIObject = {\n  _scrollbarTrack: { bg: \"transparent\" },\n  \"&::-webkit-scrollbar-track\": { bg: \"transparent\" },\n  _scrollbarThumb: { bg: \"transparent\" },\n  \"&::-webkit-scrollbar-thumb\": { bg: \"transparent\" },\n  _light: {\n    _scrollbarTrack: { bg: \"transparent\" },\n    \"&::-webkit-scrollbar-track\": { bg: \"transparent\" },\n    _scrollbarThumb: { bg: \"transparent\" },\n    \"&::-webkit-scrollbar-thumb\": { bg: \"transparent\" },\n  },\n  _dark: {\n    _scrollbarTrack: { bg: \"transparent\" },\n    \"&::-webkit-scrollbar-track\": { bg: \"transparent\" },\n    _scrollbarThumb: { bg: \"transparent\" },\n    \"&::-webkit-scrollbar-thumb\": { bg: \"transparent\" },\n  },\n}\n\nexport const ScrollArea = forwardRef<ScrollAreaProps, \"div\">((props, ref) => {\n  const [styles, mergedProps] = useComponentStyle(\"ScrollArea\", props)\n  const {\n    className,\n    type = \"hover\",\n    overflow = \"overlay\",\n    scrollHideDelay = 1000,\n    onScrollPositionChange,\n    children,\n    innerProps,\n    ...rest\n  } = omitThemeProps(mergedProps)\n  const [isHovered, setIsHovered] = useState<boolean>(false)\n  const [isScrolling, setisScrolling] = useState<boolean>(false)\n  const isAlways = type === \"always\"\n  const isNever = type === \"never\"\n\n  const hoverTimeout = useRef<any>(undefined)\n  const scrollTimeout = useRef<any>(undefined)\n\n  const onMouseEnter = useCallback(() => {\n    if (type !== \"hover\") return\n\n    clearTimeout(hoverTimeout.current)\n\n    setIsHovered(true)\n  }, [type])\n\n  const onMouseLeave = useCallback(() => {\n    if (type !== \"hover\") return\n\n    hoverTimeout.current = setTimeout(\n      () => setIsHovered(false),\n      scrollHideDelay,\n    )\n  }, [scrollHideDelay, type])\n\n  const onScroll = useCallback(\n    (ev: UIEvent<HTMLDivElement>) => {\n      onScrollPositionChange?.({\n        x: (ev.target as HTMLDivElement).scrollLeft,\n        y: (ev.target as HTMLDivElement).scrollTop,\n      })\n\n      if (type !== \"scroll\") return\n\n      if (!isScrolling) setisScrolling(true)\n\n      clearTimeout(scrollTimeout.current)\n\n      scrollTimeout.current = setTimeout(\n        () => setisScrolling(false),\n        scrollHideDelay,\n      )\n    },\n    [isScrolling, onScrollPositionChange, scrollHideDelay, type],\n  )\n\n  useEffect(() => {\n    return () => {\n      if (hoverTimeout.current) clearTimeout(hoverTimeout.current)\n      if (scrollTimeout.current) clearTimeout(scrollTimeout.current)\n    }\n  }, [])\n\n  const css: CSSUIObject = useMemo(() => {\n    const baseStyle = { overflow, ...styles }\n\n    if (isNever) {\n      return merge(baseStyle, neverStyles)\n    } else {\n      return merge(\n        baseStyle,\n        !isAlways && !isHovered && !isScrolling ? hiddenStyles : {},\n      )\n    }\n  }, [isAlways, isHovered, isNever, isScrolling, overflow, styles])\n\n  return (\n    <ui.div\n      ref={ref}\n      className={cx(\"ui-scroll-area\", className)}\n      __css={css}\n      {...rest}\n      onMouseEnter={handlerAll(rest.onMouseEnter, onMouseEnter)}\n      onMouseLeave={handlerAll(rest.onMouseLeave, onMouseLeave)}\n      onScroll={handlerAll(rest.onScroll, onScroll)}\n    >\n      {innerProps ? (\n        <ui.div className=\"ui-scroll-area__inner\" {...innerProps}>\n          {children}\n        </ui.div>\n      ) : (\n        children\n      )}\n    </ui.div>\n  )\n})\n"],"names":["neverStyles","hiddenStyles","ScrollArea","forwardRef","props","ref","styles","mergedProps","useComponentStyle","className","type","overflow","scrollHideDelay","onScrollPositionChange","children","innerProps","rest","omitThemeProps","isHovered","setIsHovered","useState","isScrolling","setisScrolling","isAlways","isNever","hoverTimeout","useRef","scrollTimeout","onMouseEnter","useCallback","onMouseLeave","onScroll","ev","useEffect","css","useMemo","baseStyle","merge","jsx","ui","cx","handlerAll"],"mappings":"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"}