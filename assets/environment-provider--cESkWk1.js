import{j as s}from"./jsx-runtime-CKrituN3.js";import{r as n}from"./index-CBqU2yxZ.js";import{b as m}from"./factory-J7SfSsVY.js";const a={getDocument:()=>document,getWindow:()=>window},c=n.createContext(a),f=({children:o,environment:e,disabled:r})=>{const u=n.useRef(null),i=n.useMemo(()=>e||{getDocument:()=>{var t;return((t=u.current)==null?void 0:t.ownerDocument)??document},getWindow:()=>{var t;return((t=u.current)==null?void 0:t.ownerDocument.defaultView)??window}},[e]),d=!r||!e;return s.jsxs(c.Provider,{value:i,children:[o,d?s.jsx("span",{id:"__ui_dev",hidden:!0,ref:u}):null]})};f.displayName="EnvironmentProvider";const w=({isDefer:o}={})=>{const[,e]=n.useReducer(r=>r+1,0);return m(()=>{o&&e()},[o]),n.useContext(c)};export{f as E,w as u};
