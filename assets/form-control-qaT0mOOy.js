import{j as o}from"./jsx-runtime-Nms4Y4qS.js";import{r as F}from"./index-BwDkhjyp.js";import{l as L,t as U,w as q,b as C,c as h,d as u,x as g,h as D}from"./factory-R2Y4PRbz.js";import{f as x}from"./forward-ref-BmTAT9U5.js";import{a as W}from"./use-component-style-DhC_P_n8.js";import{o as X}from"./theme-provider-DgHPuWDh.js";const[Y,y]=L({strict:!1,name:"FormControlContext"}),[Z,R]=L({strict:!1,name:"FormControlStyleContext"}),ls=x(({id:t,...r},a)=>{const[i,l]=W("FormControl",r),{className:n,isRequired:c=!1,isDisabled:d=!1,isInvalid:m=!1,isReadOnly:e=!1,isReplace:f=!0,label:s,helperMessage:_,errorMessage:p,children:b,requiredIndicator:v,optionalIndicator:I,labelProps:j,helperMessageProps:V,errorMessageProps:w,...A}=X(l);t??(t=F.useId());const O=F.useId(),[P,E]=F.useState(!1),M=U(b),[T]=q(M,N),[k]=q(M,S),[z]=q(M,H),G=!!T,J=!!k,K=!!z,Q={...i.container};return o.jsx(Y,{value:{id:t,labelId:O,isFocused:P,isRequired:c,isDisabled:d,isInvalid:m,isReadOnly:e,isReplace:f,onFocus:()=>E(!0),onBlur:()=>E(!1)},children:o.jsx(Z,{value:i,children:o.jsxs(C.div,{ref:a,className:h("ui-form__control",n),"data-focus":u(P),"data-disabled":u(d),"data-invalid":u(m),"data-readonly":u(e),__css:Q,...A,children:[!G&&s?o.jsx(N,{requiredIndicator:v,optionalIndicator:I,...j,children:s}):null,b,!J&&_?o.jsx(S,{...V,children:_}):null,!K&&p?o.jsx(H,{...w,children:p}):null]})})})}),ns=({id:t,disabled:r,readOnly:a,required:i,isDisabled:l,isReadOnly:n,isRequired:c,isInvalid:d,...m})=>{const e=y(),f=t??(e==null?void 0:e.id),s=e==null?void 0:e.labelId,_=r??l??(e==null?void 0:e.isDisabled),p=a??n??(e==null?void 0:e.isReadOnly),b=i??c??(e==null?void 0:e.isRequired),v=d??(e==null?void 0:e.isInvalid);return{id:f,labelId:s,isDisabled:_,isReadOnly:p,isRequired:b,isInvalid:v,...m}},ds=({id:t,disabled:r,readOnly:a,required:i,isDisabled:l,isReadOnly:n,isRequired:c,isInvalid:d,onFocus:m,onBlur:e,...f})=>{const s=y();return r??(r=l??(s==null?void 0:s.isDisabled)),i??(i=c??(s==null?void 0:s.isRequired)),a??(a=n??(s==null?void 0:s.isReadOnly)),d??(d=s==null?void 0:s.isInvalid),{id:t??(s==null?void 0:s.id),disabled:r,required:i,readOnly:a,"aria-disabled":g(r),"aria-readonly":g(a),"aria-required":g(i),"aria-invalid":g(d),"data-readonly":u(a),onFocus:D(s==null?void 0:s.onFocus,m),onBlur:D(s==null?void 0:s.onBlur,e),...r||a?{_hover:{},_active:{},_focus:{},_invalid:{},_focusVisible:{}}:{},...f}},$=["disabled","required","readOnly","aria-disabled","aria-readonly","aria-required","aria-invalid","data-readonly","onFocus","onBlur","_hover","_active","_focus","_invalid","_focusVisible"],ss=$,cs=({omit:t=[],pick:r=[]}={})=>{let a=ss;return r.length&&(a=a.filter(i=>r.includes(i))),t.length&&(a=a.filter(i=>!t.includes(i))),a},N=x(({id:t,className:r,htmlFor:a,isRequired:i,requiredIndicator:l=null,optionalIndicator:n=null,children:c,...d},m)=>{const{id:e,labelId:f,isRequired:s,isFocused:_,isDisabled:p,isInvalid:b,isReadOnly:v}=y()??{},I=R()??{};t??(t=f),i??(i=s);const j={display:"block",pointerEvents:v?"none":void 0,...I.label};return o.jsxs(C.label,{ref:m,id:t,className:h("ui-form__label",r),"data-focus":u(_),"data-disabled":u(p),"data-readonly":u(v),"data-invalid":u(b),htmlFor:a??e,__css:j,style:{cursor:p?"not-allowed":void 0},...d,children:[c,i?l?o.jsx(B,{children:l}):o.jsx(B,{}):n]})}),B=x(({className:t,children:r,...a},i)=>{const n={...(R()??{}).requiredIndicator};return F.isValidElement(r)?r:o.jsx(C.span,{ref:i,className:h("ui-form__required-indicator",t),role:"presentation","aria-hidden":!0,__css:n,...a,children:r??o.jsx(o.Fragment,{children:"*"})})}),S=x(({className:t,...r},a)=>{const{id:i,isInvalid:l,isReplace:n}=y()??{},c=R()??{};if(n&&l)return null;const d={...c.helperMessage};return o.jsx(C.span,{ref:a,className:h("ui-form__helper-message",t),__css:d,"aria-describedby":i,...r})}),H=x(({className:t,...r},a)=>{const{isInvalid:i}=y()??{},l=R()??{};if(!i)return null;const n={...l.errorMessage};return o.jsx(C.span,{ref:a,className:h("ui-form__error-message",t),"aria-live":"polite",__css:n,...r})});export{H as E,ls as F,S as H,N as L,B as R,ns as a,Y as b,Z as c,y as d,R as e,ss as f,cs as g,ds as u};
