import{j as n}from"./jsx-runtime-Nms4Y4qS.js";import{u as ue}from"./index-6iPGEe4i.js";import{u as m}from"./index-CwsNPHBe.js";import{u as pe}from"./index-qTz9fmf8.js";import{u as me}from"./index-Dg-m_leh.js";import{r as o}from"./index-BwDkhjyp.js";import{A as fe}from"./index-Ms_xn5rh.js";import{P as de}from"./container-portal-HerNt1yQ.js";import{m as xe}from"./motion-Bd6WkMzw.js";import{s as f}from"./slide-fade-BMCVwM0D.js";import{s as he}from"./scale-fade-BIJ1WRrF.js";import{f as Pe}from"./forward-ref-BmTAT9U5.js";import{u as ve}from"./use-component-style-p12qS94K.js";import{o as be}from"./theme-provider-BmJ-9UWz.js";import{y as z,a as ge,h as u,z as F,b as v,c as Oe}from"./factory-CJEIqePD.js";const we=(d="scale",x)=>{const i={reverse:!0,duration:x,enter:{visibility:"visible"},transitionEnd:{exit:{visibility:"hidden"}}};switch(d){case"scale":return{...he,custom:{...i,scale:.95}};case"top":return{...f,custom:{...i,offsetY:-16}};case"right":return{...f,custom:{...i,offsetX:16}};case"left":return{...f,custom:{...i,offsetX:-16}};case"bottom":return{...f,custom:{...i,offsetY:16}}}},Be=Pe(({z:d,zIndex:x,portalProps:i,withPortal:A=!0,...N},S)=>{let[{z:W,zIndex:B,...X},Y]=ve("Tooltip",N);const{className:_,children:b,label:h,placement:K,modifiers:L,gutter:M,offset:Z,openDelay:g=0,closeDelay:O=0,isDisabled:w,closeOnClick:C,closeOnScroll:q,closeOnMouseDown:G=!1,closeOnPointerDown:H=!1,closeOnEsc:J=!0,animation:y,duration:Q,isOpen:U,defaultIsOpen:V,onOpen:$,onClose:ee,...oe}=be(Y),D=H||G,T=o.useId(),{isOpen:t,onOpen:k,onClose:E}=ue({isOpen:U,defaultIsOpen:V,onOpen:$,onClose:ee}),s=o.useRef(null),c=o.useRef(),l=o.useRef(),{referenceRef:j,getPopperProps:te,transformOrigin:re}=me({enabled:t,placement:K,modifiers:L,gutter:M,offset:Z}),a=o.useCallback(()=>{l.current&&(clearTimeout(l.current),l.current=void 0),E()},[E]),p=o.useCallback(()=>{if(!w&&!c.current){t&&a();const e=z(s.current);c.current=e.setTimeout(k,g)}},[w,t,g,a,k]),r=o.useCallback(()=>{c.current&&(clearTimeout(c.current),c.current=void 0);const e=z(s.current);l.current=e.setTimeout(a,O)},[O,a]),I=o.useCallback(()=>t&&C?r():void 0,[t,C,r]),R=o.useCallback(()=>t&&D?r():void 0,[t,D,r]),ne=o.useCallback(e=>t&&e.key==="Escape"?r():void 0,[t,r]),se=o.useCallback((e={},ae=null)=>({...e,ref:ge(s,ae,j),onPointerEnter:u(e.onPointerEnter,p),onClick:u(e.onClick,I),onPointerDown:u(e.onPointerDown,R),onFocus:u(e.onFocus,p),onBlur:u(e.onBlur,r)}),[j,I,R,p,r]);if(m(()=>F(s.current),"keydown",e=>J?ne(e):void 0),m(()=>F(s.current),"scroll",()=>t&&q?a():void 0),m(()=>s.current,"pointerleave",e=>{e.pointerType!=="touch"&&r()}),m(()=>s.current,"touchstart",()=>{t?r():p()},{passive:!0}),pe({ref:s,handler:()=>{r()}}),o.useEffect(()=>()=>{clearTimeout(c.current),clearTimeout(l.current)},[]),!h)return n.jsx(n.Fragment,{children:b});const P=o.Children.only(b),ie=o.cloneElement(P,se({...P.props,"aria-describedby":T},P.ref)),ce={position:"relative",...X},le=x??d??B??W;return n.jsxs(n.Fragment,{children:[ie,n.jsx(v.span,{id:T,style:{border:"0px",clip:"rect(0px, 0px, 0px, 0px)",height:"1px",width:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},children:h}),n.jsx(fe,{children:t?n.jsx(de,{isDisabled:!A,...i,children:n.jsx(v.div,{...te(),zIndex:le,pointerEvents:"none",children:n.jsx(v.div,{as:xe.div,ref:S,className:Oe("ui-tooltip",_),role:"tooltip",style:{transformOrigin:re},...y!=="none"?we(y,Q):{},initial:"exit",animate:t?"enter":"exit",exit:"exit",__css:ce,...oe,children:h})})}):null})]})});export{Be as T};
