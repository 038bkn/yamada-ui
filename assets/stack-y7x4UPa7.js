import{a as x,j as b}from"./jsx-runtime-5BUNAZ9W.js";import{r as n}from"./index-4g5l5LRQ.js";import{f as H}from"./forward-ref-A-8Arhkk.js";import{s as N,v as W,u as L,a as M,w as F}from"./factory-qmA5MQgQ.js";const V=H(({direction:s="column",justify:e,align:l,wrap:C,gap:o="md",divider:m,className:w,children:R,...j},S)=>{const f=t=>t==="column"||t==="column-reverse",z=n.useMemo(()=>({w:N(s,t=>f(t)?"100%":"fix-content"),h:N(s,t=>f(t)?"fix-content":"100%"),borderLeftWidth:N(s,t=>f(t)?0:"1px"),borderBottomWidth:N(s,t=>f(t)?"1px":0)}),[s]),v=W(R),E=m?v.map((t,p)=>{const c=typeof t.key<"u"?t.key:p,h=n.cloneElement(m,{__css:z});return x(n.Fragment,{children:[p?h:null,t]},c)}):v,_=n.useMemo(()=>({display:"flex",flexDirection:s,justifyContent:e,alignItems:l,flexWrap:C,gap:o}),[l,s,C,o,e]);return b(L.div,{ref:S,className:M("ui-stack",w),__css:_,...j,children:E})}),P=H(({className:s,...e},l)=>b(V,{ref:l,className:M("ui-stack--horizontal",s),direction:"row",align:"center",...e})),q=H(({className:s,...e},l)=>b(V,{ref:l,className:M("ui-stack--vertical",s),direction:"column",align:"stretch",w:"100%",...e})),A=H(({className:s,direction:e="bottom",startIndex:l=0,gap:C="md",reverse:o=!1,fit:m=!0,children:w,...R},j)=>{const S=n.useRef(new Map),[f,z]=n.useState({width:0,height:0}),v={minWidth:`${f.width}px`,minHeight:`${f.height}px`},E={position:"relative",overflow:"hidden",var:[{name:"space",token:"spaces",value:C}],...m?v:{}},_=n.useCallback(c=>e.includes("top")?{[o?"top":"bottom"]:c}:e.includes("bottom")?{[o?"bottom":"top"]:c}:{[o?"bottom":"top"]:0},[e,o]),t=n.useCallback(c=>e.includes("left")?{[o?"left":"right"]:c}:e.includes("right")?{[o?"right":"left"]:c}:{[o?"right":"left"]:0},[e,o]),p=n.useMemo(()=>W(w).map((r,i)=>{const g=n.createRef();S.current.set(i,g);const y=r.key??i,d=l+i,u=`calc(var(--ui-space) * ${i})`;let a={};a={...a,position:"absolute",zIndex:d},a={...a,..._(u)},a={...a,...t(u)};const k={...r.props,ref:F(r.ref,g),__css:a},$=n.cloneElement(r,k);return b(n.Fragment,{children:$},y)}),[w,l,_,t]);return n.useEffect(()=>{if(!m)return;let c=e.includes("left"),h=e.includes("top"),r=0,i=0;o&&(c=!c,h=!h);for(const g of S.current.values()){if(!g.current)continue;let{offsetParent:y,offsetWidth:d,offsetHeight:u,offsetTop:a,offsetLeft:k}=g.current;c&&(k=y.offsetWidth-k-d),h&&(a=y.offsetHeight-a-u),d+=k,u+=a,d>r&&(r=d),u>i&&(i=u)}z({width:r,height:i})},[p,e,o,m]),b(L.div,{ref:j,className:M("ui-stack--depth",s),__css:E,...R,children:p})});export{P as H,V as S,q as V,A as Z};
