import{a as ee,j as b}from"./jsx-runtime-29545a09.js";import{T as te,l as se,U as O,m as T,V as x,B as ne,W as oe,X as j,a as I,k as N,x as H,C as q,Y as re,z as ae,Z as C,_ as ce,y as P}from"./factory-5f559ecf.js";import{r as l}from"./index-76fb7be0.js";const _=()=>!!(typeof window<"u"&&window.document&&window.document.createElement),ie=()=>{var e;return((e=navigator.userAgentData)==null?void 0:e.platform)??navigator.platform},de=e=>_()&&e.test(navigator.vendor),W=e=>_()&&e.test(ie()),Re=()=>W(/^mac/),ue=()=>W(/mac|iphone|ipad|ipod/i),Be=()=>ue()&&de(/apple/i),G=e=>e!=null&&typeof e=="object"&&"nodeType"in e&&e.nodeType===Node.ELEMENT_NODE,L=e=>{if(!G(e))return!1;const t=e.ownerDocument.defaultView??window;return e instanceof t.HTMLElement},Q=e=>e.parentElement&&Q(e.parentElement)?!0:e.hidden,le=e=>!!e.getAttribute("disabled")||!!e.getAttribute("aria-disabled"),me=e=>e.offsetWidth>0&&e.offsetHeight>0,U=e=>e.hasAttribute("tabindex"),pe=e=>{const t=e.getAttribute("contenteditable");return t!=="false"&&t!=null},De=(e,t)=>e===t||(e==null?void 0:e.contains(t)),Ie=e=>e.relatedTarget??e.currentTarget.ownerDocument.activeElement,Ne=e=>e?"":void 0,He=e=>e?!0:void 0,fe=["input:not(:disabled):not([disabled])","select:not(:disabled):not([disabled])","textarea:not(:disabled):not([disabled])","embed","iframe","object","a[href]","area[href]","button:not(:disabled):not([disabled])","[tabindex]","audio[controls]","video[controls]","*[tabindex]:not([aria-disabled])","*[contenteditable]"],be=fe.join(),qe=e=>{const t=Array.from(e.querySelectorAll(be));return t.unshift(e),t.filter(s=>K(s)&&me(s))},K=e=>{if(!L(e)||Q(e)||le(e))return!1;const{localName:t}=e;if(["input","select","textarea","button"].indexOf(t)>=0)return!0;const n={a:()=>e.hasAttribute("href"),audio:()=>e.hasAttribute("controls"),video:()=>e.hasAttribute("controls")};return t in n?n[t]():pe(e)?!0:U(e)},he=e=>U(e)&&e.tabIndex===-1,Pe=e=>e?L(e)&&K(e)&&!he(e):!1,We=e=>{var t;return((t=Y(e))==null?void 0:t.defaultView)??window},Y=e=>G(e)?e.ownerDocument:document,ge=e=>Y(e).activeElement,Ge=e=>ge(e)===e,Se=(e,t="")=>e.replace(/\s+/g,t),h=(e,...t)=>t.join(` ${e} `).replace(/calc/g,""),M=(...e)=>`calc(${h("+",...e)})`,$=(...e)=>`calc(${h("-",...e)})`,k=(...e)=>`calc(${h("*",...e)})`,F=(...e)=>`calc(${h("/",...e)})`,z=e=>e!=null&&!isNaN(parseFloat(e.toString()))?String(e).startsWith("-")?String(e).slice(1):`-${e}`:k(e,-1),m=Object.assign(e=>({add:(...t)=>m(M(e,...t)),subtract:(...t)=>m($(e,...t)),multiply:(...t)=>m(k(e,...t)),divide:(...t)=>m(F(e,...t)),negate:()=>m(z(e))}),{add:M,subtract:$,multiply:k,divide:F,negate:z}),E=(e,t)=>{const s=["@media screen"];return e&&s.push("and",`(min-width: ${e}px)`),t&&s.push("and",`(max-width: ${t}px)`),s.length>1?s.join(" "):void 0},ye=e=>Object.entries(e).map(([t,s],n,o)=>{let[,c]=o[n-1]??[];return s=t!=="base"?s:void 0,{breakpoint:t,minW:c,maxW:s,maxWQuery:E(void 0,s),minWQuery:E(c),minMaxQuery:E(c,s)}}),Te=e=>{const s=_()?parseFloat(window.getComputedStyle(document.documentElement).fontSize):16;return Object.fromEntries(Object.entries(e).map(([n,o])=>o.includes("px")?(o=parseFloat(o),[n,o]):(o=parseFloat(o),o=o*s,[n,o])).sort((n,o)=>n[1]-o[1]))},Ee=e=>{if(!e)return;e.base="9999px",e=Te(e);const t=te(e),s=ye(e);return{keys:t,isResponsive:n=>{const o=Object.keys(n);return o.length>0&&o.every(c=>t.includes(c))},queries:s}},ke=(e,t)=>{const s=`--${[t,Se(e,"-")].filter(Boolean).join("-")}`,n=`var(${s})`;return{variable:s,reference:n}},R=(e,t)=>{const s=e.replace(/\./g,"-");return ke(s,t)},ve=(e,t="ui")=>{let s={},n={};for(let[o,{isSemantic:c,value:i}]of Object.entries(e)){const{variable:r,reference:u}=R(o,t);let[a,d]=se(i)?[...i]:[i];if(o.startsWith("gradients")&&(a=O(a,{__cssMap:s}),d=O(d,{__cssMap:s})),!c){if(o.startsWith("spaces")){const p=o.split("."),[g,...f]=p,A=`${g}.-${f.join(".")}`,S=m.negate(a),y=m.negate(u);s[A]={value:S,var:r,ref:y}}n[r]=a,d&&(n=T(n,{[x._dark]:{[r]:d}})),s[o]={value:a,var:r,ref:u};continue}const V=(p="")=>{const[g]=o.split("."),f=[g,p].join(".");if(!e[f])return[,p];const{variable:S,reference:y}=R(f,t);return[S,y]},[Z,J]=V(a);if(n=T(n,{[r]:J}),d){const[,p]=V(d);n=T(n,{[x._dark]:{[r]:p}})}s[o]={value:Z??a,var:r,ref:u}}return{cssMap:s,cssVars:n}},v="ui-theme-scheme",X=!!(globalThis!=null&&globalThis.document),B=e=>({ssr:!1,type:"localStorage",get:t=>{if(!X)return t;try{return localStorage.getItem(e)||t}catch{return t}},set:t=>{try{localStorage.setItem(e,String(t))}catch{}}}),D=(e,t)=>{const s=e.match(new RegExp(`(^| )${t}=([^;]+)`));return s==null?void 0:s[2]},w=(e,t)=>({ssr:!!t,type:"cookie",get:s=>t?D(t,e):X&&D(document.cookie,e)||s,set:s=>{document.cookie=`${e}=${s}; max-age=31536000; path=/`}}),we=e=>w(v,e),je={localStorage:B(v),cookieStorage:w(v),createLocalStorage:B,cookieStorageSSR:we,createCookieStorage:w},{localStorage:_e}=je,Le=({theme:e,config:t,themeSchemeManager:s=_e,children:n})=>{const[o,c]=l.useState(s.get(t==null?void 0:t.initialThemeScheme)),i=l.useMemo(()=>ne(o)?e:e[o],[e,o]),r=l.useCallback(a=>{const d=t!=null&&t.disableTransitionOnChange?Ae():void 0;document.documentElement.dataset.theme=a,d==null||d(),c(a),s.set(a)},[t,s]),u=l.useMemo(()=>xe(i,t),[i,t]);return l.useEffect(()=>{const a=s.get();a&&r(a)},[r,s]),ee(oe,{theme:{themeScheme:o,changeThemeScheme:r,...u},children:[b(Ve,{}),n]})},Ve=()=>b(j,{styles:({__cssVars:e})=>({":host, :root, [data-mode]":e})}),Qe=()=>{const{colorMode:e}=I();return b(j,{styles:t=>{let s=N(t,"styles.resetStyle",{});const n=H(s,{theme:t,colorMode:e});if(n)return q(n)(t)}})},Ue=()=>{const{colorMode:e}=I();return b(j,{styles:t=>{let s=N(t,"styles.globalStyle",{});const n=H(s,{theme:t,colorMode:e});if(n)return q(n)(t)}})},Ke=()=>{const{themeScheme:e,changeThemeScheme:t,...s}=l.useContext(re);if(!s)throw Error("useTheme: `theme` is undefined. Seems you forgot to wrap your app in `<UIProvider />`");return l.useMemo(()=>({themeScheme:e,changeThemeScheme:t,theme:s}),[t,s,e])},Ae=()=>{const e=document.createElement("style"),t=document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}");return e.appendChild(t),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),requestAnimationFrame(()=>{requestAnimationFrame(()=>{document.head.removeChild(e)})})}},Oe=["borders","colors","fonts","fontSizes","fontWeights","gradients","letterSpacings","lineHeights","radii","shadows","sizes","spaces","transitions","zIndices"],xe=(e,t)=>{var a;const s=Me(e),n=Ce(s),o=(a=t==null?void 0:t.var)==null?void 0:a.prefix,c=s.breakpoints,{cssMap:i,cssVars:r}=ve(n,o);return Object.assign(s,{__config:t,__cssVars:{...{},...r},__cssMap:i,__breakpoints:Ee(c)}),s},Ce=e=>{const s=ae(e,Oe),n=e.semantics??{},o=Object.entries(C(s)??{}).map(([i,r])=>[i,{isSemantic:!1,value:r}]),c=Object.entries(C(n)??{}).map(([i,r])=>[i,{isSemantic:!0,value:r}]);return ce([...o,...c])},Me=e=>P(e,["__cssMap","__cssVar","__breakpoints"]),Ye=e=>P(e,["size","variant","colorScheme"]);export{Ue as G,Qe as R,Le as T,He as a,qe as b,_ as c,Ne as d,Be as e,ge as f,Y as g,Pe as h,De as i,We as j,G as k,Re as l,Ie as m,Ge as n,Ye as o,L as p,le as q,Ke as u};
//# sourceMappingURL=theme-ee3e3fce.js.map
