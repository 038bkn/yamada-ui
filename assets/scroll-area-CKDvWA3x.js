import{j as d}from"./jsx-runtime-X2b_N9AH.js";import{r}from"./index-uCp2LrAq.js";import{i as D,v as K,m as L,h as y,a as W,d as f,u as I,c as X}from"./factory-0Lglu3Ih.js";import{f as N}from"./forward-ref-Dr5Hqd9a.js";import{u as Y}from"./use-component-style-lFSlOadu.js";import{o as B}from"./theme-provider-DZ-B-vNc.js";const F={scrollbarWidth:"none",_scrollbar:{display:"none"},"&::-webkit-scrollbar":{display:"none"}},G={_scrollbarTrack:{bg:"transparent"},"&::-webkit-scrollbar-track":{bg:"transparent"},_scrollbarThumb:{bg:"transparent"},"&::-webkit-scrollbar-thumb":{bg:"transparent"},_light:{_scrollbarTrack:{bg:"transparent"},"&::-webkit-scrollbar-track":{bg:"transparent"},_scrollbarThumb:{bg:"transparent"},"&::-webkit-scrollbar-thumb":{bg:"transparent"}},_dark:{_scrollbarTrack:{bg:"transparent"},"&::-webkit-scrollbar-track":{bg:"transparent"},_scrollbarThumb:{bg:"transparent"},"&::-webkit-scrollbar-thumb":{bg:"transparent"}},"@-moz-document url-prefix()":{scrollbarColor:"transparent transparent",_light:{scrollbarColor:"transparent transparent"},_dark:{scrollbarColor:"transparent transparent"}}},rr=N((v,a)=>{const[o,g]=Y("ScrollArea",v),{type:e="hover",overflow:T="overlay",scrollHideDelay:c=1e3,onScrollPositionChange:u,...n}=B(g),[l,x]=r.useState(!1),[t,S]=r.useState(!1),_=e==="always",w=e==="never",M=D()&&K(/apple/i),i=r.useRef(void 0),b=r.useRef(void 0),m=r.useRef(null),p=r.useRef({x:0,y:0});r.useLayoutEffect(()=>{!m.current||!M||(m.current.scrollLeft=p.current.x,m.current.scrollTop=p.current.y)});const E=r.useCallback(()=>{e==="hover"&&(clearTimeout(i.current),x(!0))},[e]),R=r.useCallback(()=>{e==="hover"&&(i.current=setTimeout(()=>x(!1),c))},[c,e]),A=r.useCallback(s=>{const P=s.target,{scrollLeft:h,scrollTop:k}=P,{x:$,y:q}=p.current,z=Math.abs(h-$)<=5&&Math.abs(k-q)<=5;u==null||u({x:h,y:k}),p.current={x:h,y:k},!(e!=="scroll"||z)&&(t||S(!0),clearTimeout(b.current),b.current=setTimeout(()=>S(!1),c))},[t,u,c,e]);r.useEffect(()=>()=>{i.current&&clearTimeout(i.current),b.current&&clearTimeout(b.current)},[]);const j=r.useMemo(()=>{const s={overflow:T,...o};return w?L(s,F):L(s,!_&&!l&&!t?G:{})},[_,l,w,t,T,o]),C=r.useMemo(()=>({__css:j,...n,onMouseEnter:y(n.onMouseEnter,E),onMouseLeave:y(n.onMouseLeave,R),onScroll:y(n.onScroll,A)}),[j,E,R,A,n]);if(M){const s=`${l}-${t}`;return d.jsx(H,{ref:W(a,m),"data-key":s,"data-hovered":f(l),"data-scrolling":f(t),...C},s)}else return d.jsx(H,{ref:a,"data-hovered":f(l),"data-scrolling":f(t),...C})}),H=N(({className:v,innerProps:a,children:o,...g},e)=>d.jsx(I.div,{ref:e,className:X("ui-scroll-area",v),tabIndex:0,...g,children:a?d.jsx(I.div,{className:"ui-scroll-area__inner",...a,children:o}):o}));export{rr as S};
