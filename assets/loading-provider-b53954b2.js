import{a as f,j as A,F as ve}from"./jsx-runtime-03b4ddbf.js";import{u as V}from"./index-2f1549ef.js";import{r as a}from"./index-76fb7be0.js";import{L as H}from"./loading-6fc37ca1.js";import{M as Z}from"./motion-519043e1.js";import{m as me}from"./motion-90200a2f.js";import{d as Q,a0 as P,B as he,y as ge,M as pe}from"./factory-5c69ebb0.js";import{A as ye}from"./index-033cf86e.js";import{P as Se}from"./container-portal-74757e9f.js";var x=function(){return x=Object.assign||function(n){for(var t,r=1,o=arguments.length;r<o;r++){t=arguments[r];for(var c in t)Object.prototype.hasOwnProperty.call(t,c)&&(n[c]=t[c])}return n},x.apply(this,arguments)};function ee(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]]);return t}function Ce(e,n,t){if(t||arguments.length===2)for(var r=0,o=n.length,c;r<o;r++)(c||!(r in n))&&(c||(c=Array.prototype.slice.call(n,0,r)),c[r]=n[r]);return e.concat(c||Array.prototype.slice.call(n))}var F="right-scroll-bar-position",W="width-before-scroll-bar",be="with-scroll-bars-hidden",we="--removed-body-scroll-bar-size";function Re(e,n){return typeof e=="function"?e(n):e&&(e.current=n),e}function xe(e,n){var t=a.useState(function(){return{value:e,callback:n,facade:{get current(){return t.value},set current(r){var o=t.value;o!==r&&(t.value=r,t.callback(r,o))}}}})[0];return t.callback=n,t.facade}function Ee(e,n){return xe(n||null,function(t){return e.forEach(function(r){return Re(r,t)})})}function Le(e){return e}function ke(e,n){n===void 0&&(n=Le);var t=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:e},useMedium:function(c){var i=n(c,r);return t.push(i),function(){t=t.filter(function(u){return u!==i})}},assignSyncMedium:function(c){for(r=!0;t.length;){var i=t;t=[],i.forEach(c)}t={push:function(u){return c(u)},filter:function(){return t}}},assignMedium:function(c){r=!0;var i=[];if(t.length){var u=t;t=[],u.forEach(c),i=t}var h=function(){var v=i;i=[],v.forEach(c)},g=function(){return Promise.resolve().then(h)};g(),t={push:function(v){i.push(v),g()},filter:function(v){return i=i.filter(v),t}}}};return o}function Ne(e){e===void 0&&(e={});var n=ke(null);return n.options=x({async:!0,ssr:!1},e),n}var ne=function(e){var n=e.sideCar,t=ee(e,["sideCar"]);if(!n)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=n.read();if(!r)throw new Error("Sidecar medium not found");return a.createElement(r,x({},t))};ne.isSideCarExport=!0;function Pe(e,n){return e.useMedium(n),ne}var te=Ne(),X=function(){},z=a.forwardRef(function(e,n){var t=a.useRef(null),r=a.useState({onScrollCapture:X,onWheelCapture:X,onTouchMoveCapture:X}),o=r[0],c=r[1],i=e.forwardProps,u=e.children,h=e.className,g=e.removeScrollBar,v=e.enabled,S=e.shards,w=e.sideCar,R=e.noIsolation,m=e.inert,l=e.allowPinchZoom,s=e.as,p=s===void 0?"div":s,C=ee(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),y=w,b=Ee([t,n]),d=x(x({},C),o);return a.createElement(a.Fragment,null,v&&a.createElement(y,{sideCar:te,removeScrollBar:g,shards:S,noIsolation:R,inert:m,setCallbacks:c,allowPinchZoom:!!l,lockRef:t}),i?a.cloneElement(a.Children.only(u),x(x({},d),{ref:b})):a.createElement(p,x({},d,{className:h,ref:b}),u))});z.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};z.classNames={fullWidth:W,zeroRight:F};var U,Be=function(){if(U)return U;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Me(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var n=Be();return n&&e.setAttribute("nonce",n),e}function Te(e,n){e.styleSheet?e.styleSheet.cssText=n:e.appendChild(document.createTextNode(n))}function _e(e){var n=document.head||document.getElementsByTagName("head")[0];n.appendChild(e)}var Ie=function(){var e=0,n=null;return{add:function(t){e==0&&(n=Me())&&(Te(n,t),_e(n)),e++},remove:function(){e--,!e&&n&&(n.parentNode&&n.parentNode.removeChild(n),n=null)}}},Oe=function(){var e=Ie();return function(n,t){a.useEffect(function(){return e.add(n),function(){e.remove()}},[n&&t])}},re=function(){var e=Oe(),n=function(t){var r=t.styles,o=t.dynamic;return e(r,o),null};return n},Fe={left:0,top:0,right:0,gap:0},Y=function(e){return parseInt(e||"",10)||0},We=function(e){var n=window.getComputedStyle(document.body),t=n[e==="padding"?"paddingLeft":"marginLeft"],r=n[e==="padding"?"paddingTop":"marginTop"],o=n[e==="padding"?"paddingRight":"marginRight"];return[Y(t),Y(r),Y(o)]},je=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Fe;var n=We(e),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:n[0],top:n[1],right:n[2],gap:Math.max(0,r-t+n[2]-n[0])}},Ae=re(),ze=function(e,n,t,r){var o=e.left,c=e.top,i=e.right,u=e.gap;return t===void 0&&(t="margin"),`
  .`.concat(be,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([n&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(c,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(F,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(W,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(F," .").concat(F,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(W," .").concat(W,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body {
    `).concat(we,": ").concat(u,`px;
  }
`)},Xe=function(e){var n=e.noRelative,t=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r,c=a.useMemo(function(){return je(o)},[o]);return a.createElement(Ae,{styles:ze(c,!n,o,t?"":"!important")})},D=!1;if(typeof window<"u")try{var M=Object.defineProperty({},"passive",{get:function(){return D=!0,!0}});window.addEventListener("test",M,M),window.removeEventListener("test",M,M)}catch{D=!1}var k=D?{passive:!1}:!1,Ye=function(e){return e.tagName==="TEXTAREA"},ae=function(e,n){var t=window.getComputedStyle(e);return t[n]!=="hidden"&&!(t.overflowY===t.overflowX&&!Ye(e)&&t[n]==="visible")},De=function(e){return ae(e,"overflowY")},Ve=function(e){return ae(e,"overflowX")},q=function(e,n){var t=n;do{typeof ShadowRoot<"u"&&t instanceof ShadowRoot&&(t=t.host);var r=oe(e,t);if(r){var o=ce(e,t),c=o[1],i=o[2];if(c>i)return!0}t=t.parentNode}while(t&&t!==document.body);return!1},He=function(e){var n=e.scrollTop,t=e.scrollHeight,r=e.clientHeight;return[n,t,r]},Ze=function(e){var n=e.scrollLeft,t=e.scrollWidth,r=e.clientWidth;return[n,t,r]},oe=function(e,n){return e==="v"?De(n):Ve(n)},ce=function(e,n){return e==="v"?He(n):Ze(n)},Qe=function(e,n){return e==="h"&&n==="rtl"?-1:1},$e=function(e,n,t,r,o){var c=Qe(e,window.getComputedStyle(n).direction),i=c*r,u=t.target,h=n.contains(u),g=!1,v=i>0,S=0,w=0;do{var R=ce(e,u),m=R[0],l=R[1],s=R[2],p=l-s-c*m;(m||p)&&oe(e,u)&&(S+=p,w+=m),u=u.parentNode}while(!h&&u!==document.body||h&&(n.contains(u)||n===u));return(v&&(o&&S===0||!o&&i>S)||!v&&(o&&w===0||!o&&-i>w))&&(g=!0),g},T=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},J=function(e){return[e.deltaX,e.deltaY]},K=function(e){return e&&"current"in e?e.current:e},Ge=function(e,n){return e[0]===n[0]&&e[1]===n[1]},Ue=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},qe=0,N=[];function Je(e){var n=a.useRef([]),t=a.useRef([0,0]),r=a.useRef(),o=a.useState(qe++)[0],c=a.useState(function(){return re()})[0],i=a.useRef(e);a.useEffect(function(){i.current=e},[e]),a.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var l=Ce([e.lockRef.current],(e.shards||[]).map(K),!0).filter(Boolean);return l.forEach(function(s){return s.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),l.forEach(function(s){return s.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var u=a.useCallback(function(l,s){if("touches"in l&&l.touches.length===2)return!i.current.allowPinchZoom;var p=T(l),C=t.current,y="deltaX"in l?l.deltaX:C[0]-p[0],b="deltaY"in l?l.deltaY:C[1]-p[1],d,E=l.target,L=Math.abs(y)>Math.abs(b)?"h":"v";if("touches"in l&&L==="h"&&E.type==="range")return!1;var B=q(L,E);if(!B)return!0;if(B?d=L:(d=L==="v"?"h":"v",B=q(L,E)),!B)return!1;if(!r.current&&"changedTouches"in l&&(y||b)&&(r.current=d),!d)return!0;var G=r.current||d;return $e(G,s,l,G==="h"?y:b,!0)},[]),h=a.useCallback(function(l){var s=l;if(!(!N.length||N[N.length-1]!==c)){var p="deltaY"in s?J(s):T(s),C=n.current.filter(function(d){return d.name===s.type&&d.target===s.target&&Ge(d.delta,p)})[0];if(C&&C.should){s.cancelable&&s.preventDefault();return}if(!C){var y=(i.current.shards||[]).map(K).filter(Boolean).filter(function(d){return d.contains(s.target)}),b=y.length>0?u(s,y[0]):!i.current.noIsolation;b&&s.cancelable&&s.preventDefault()}}},[]),g=a.useCallback(function(l,s,p,C){var y={name:l,delta:s,target:p,should:C};n.current.push(y),setTimeout(function(){n.current=n.current.filter(function(b){return b!==y})},1)},[]),v=a.useCallback(function(l){t.current=T(l),r.current=void 0},[]),S=a.useCallback(function(l){g(l.type,J(l),l.target,u(l,e.lockRef.current))},[]),w=a.useCallback(function(l){g(l.type,T(l),l.target,u(l,e.lockRef.current))},[]);a.useEffect(function(){return N.push(c),e.setCallbacks({onScrollCapture:S,onWheelCapture:S,onTouchMoveCapture:w}),document.addEventListener("wheel",h,k),document.addEventListener("touchmove",h,k),document.addEventListener("touchstart",v,k),function(){N=N.filter(function(l){return l!==c}),document.removeEventListener("wheel",h,k),document.removeEventListener("touchmove",h,k),document.removeEventListener("touchstart",v,k)}},[]);var R=e.removeScrollBar,m=e.inert;return a.createElement(a.Fragment,null,m?a.createElement(c,{styles:Ue(o)}):null,R?a.createElement(Xe,{gapMode:"margin"}):null)}const Ke=Pe(te,Je);var ie=a.forwardRef(function(e,n){return a.createElement(z,x({},e,{ref:n,sideCar:Ke}))});ie.classNames=z.classNames;const en=ie,le=a.createContext({}),_=()=>({isLoading:a.createRef(),start:a.createRef(),finish:a.createRef(),update:a.createRef(),force:a.createRef()}),I=e=>({isLoading:()=>{var n,t;return((t=(n=e.current.isLoading).current)==null?void 0:t.call(n))??!1},start:n=>{var t,r;return(r=(t=e.current.start).current)==null?void 0:r.call(t,n)},finish:()=>{var n,t;return(t=(n=e.current.finish).current)==null?void 0:t.call(n)},update:n=>{var t,r;return(r=(t=e.current.update).current)==null?void 0:r.call(t,n)},force:n=>{var t,r;return(r=(t=e.current.force).current)==null?void 0:r.call(t,n)}}),nn=e=>e+1,tn=e=>e===0?e:e-1,hn=({screen:e,page:n,background:t,custom:r,children:o})=>{const c=a.useRef(_()),i=a.useRef(_()),u=a.useRef(_()),h=a.useRef(_()),g=I(c),v=I(i),S=I(u),w=I(h),R={screen:g,page:v,background:S,custom:w};return A(le.Provider,{value:R,children:[o,f(O,{controlRefs:c,...e,component:(e==null?void 0:e.component)??(m=>f(se,{...m}))}),f(O,{controlRefs:i,...n,component:(n==null?void 0:n.component)??(m=>f(de,{...m}))}),f(O,{controlRefs:u,...t,blockScrollOnMount:(t==null?void 0:t.blockScrollOnMount)??!1,component:(t==null?void 0:t.component)??(m=>f(fe,{...m}))}),f(O,{controlRefs:h,blockScrollOnMount:(t==null?void 0:t.blockScrollOnMount)??!1,...r,component:r==null?void 0:r.component})]})},O=({controlRefs:e,appendToParentPortal:n,containerRef:t,allowPinchZoom:r=!1,blockScrollOnMount:o=!0,initialState:c,duration:i=null,icon:u,text:h,component:g})=>{const v=a.useRef(!1),[{loadingCount:S,message:w,duration:R},m]=a.useState({loadingCount:c?1:0,message:void 0,duration:i}),{isLoading:l,start:s,finish:p,update:C,force:y}=a.useMemo(()=>({isLoading:()=>v.current,start:({message:d,duration:E=i}={})=>{v.current=!0,m(({loadingCount:L})=>({loadingCount:nn(L),message:d,duration:E}))},update:d=>m(E=>({...E,...d})),finish:()=>{v.current=!1,m(({loadingCount:d})=>({loadingCount:tn(d),message:void 0,duration:i}))},force:({loadingCount:d=0,message:E,duration:L=i})=>{v.current=!!d,m({loadingCount:d,message:E,duration:L})}}),[i]);P(e.current.isLoading,l),P(e.current.start,s),P(e.current.finish,p),P(e.current.update,C),P(e.current.force,y);const b={initialState:c,icon:u,text:h,message:w,duration:R,onFinish:p};return he(()=>{(c||ge(i))&&m({loadingCount:c?1:0,message:void 0,duration:i})},[c,i]),f(ye,{initial:!1,children:S?f(Se,{appendToParentPortal:n,containerRef:t,children:f(en,{allowPinchZoom:r,enabled:o,forwardProps:!0,children:f(a.Fragment,{children:f(rn,{component:g,...b})})})}):null})},rn=({component:e,...n})=>typeof e=="function"?e(n):f(ve,{}),$=({message:e,...n})=>e?pe(e)?e:f(Q.p,{...n,children:e}):null,an=(e="fade")=>({initial:{opacity:0,scale:e==="scaleFade"?.95:void 0},animate:{opacity:1,scale:e==="scaleFade"?1:void 0,transition:{duration:.4,ease:[.4,0,.2,1]}},exit:{opacity:0,scale:e==="scaleFade"?.95:void 0,transition:{duration:.4,ease:[.4,0,1,1]}}}),ue=(e="fill")=>({position:"fixed",top:0,right:0,bottom:0,left:0,zIndex:"beerus",bg:e==="fill"?["white","black"]:"blackAlpha.600",w:"100vw",h:"100vh",p:"md",display:"flex",justifyContent:"center",alignItems:"center"}),j=(e,n="fade")=>({initial:e?!1:"initial",animate:"animate",exit:"exit",variants:an(n)}),se=a.memo(({initialState:e,icon:n,text:t,message:r,duration:o,onFinish:c})=>{const i={maxW:"md",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"sm"};return V(c,o),f(Z,{className:"ui-loading-screen",...j(e),__css:ue(),children:A(Q.div,{__css:i,children:[f(H,{size:"6xl",...n}),f($,{message:r,noOfLines:3,...t})]})})});se.displayName="ScreenComponent";const de=a.memo(({initialState:e,icon:n,text:t,message:r,duration:o,onFinish:c})=>{const i={bg:["white","black"],maxW:"md",p:"md",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"sm",rounded:"md",boxShadow:["lg","dark-lg"]};return V(c,o),f(Z,{className:"ui-loading-page",...j(e),__css:ue("transparent"),children:A(Q.div,{as:me.div,className:"ui-loading-page__inner",...j(e,"scaleFade"),__css:i,children:[f(H,{size:"6xl",...n}),f($,{message:r,noOfLines:3,...t})]})})});de.displayName="PageComponent";const fe=a.memo(({initialState:e,icon:n,text:t,message:r,duration:o,onFinish:c})=>{const i={position:"fixed",right:"md",bottom:"md",zIndex:"beerus",bg:["white","black"],maxW:"sm",p:"sm",display:"flex",justifyContent:"center",alignItems:"center",gap:"sm",rounded:"md",boxShadow:["3xl","dark-lg"]};return V(c,o),A(Z,{className:"ui-loading-background",...j(e,"scaleFade"),__css:i,children:[f(H,{size:"xl",...n}),f($,{message:r,fontSize:"sm",noOfLines:1,...t})]})});fe.displayName="BackgroundComponent";const gn=()=>{const{screen:e,page:n,background:t,custom:r}=a.useContext(le);return{screen:e,page:n,background:t,custom:r}};export{hn as L,gn as u};
//# sourceMappingURL=loading-provider-b53954b2.js.map
