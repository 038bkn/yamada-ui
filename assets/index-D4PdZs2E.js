import{a as G}from"./index-_rFdYV1q.js";import{r}from"./index-CBqU2yxZ.js";import{a as B,x as H}from"./factory-HTeyK_fA.js";const P=p=>{const{tagName:e,isContentEditable:k}=p.target;return e!=="INPUT"&&e!=="TEXTAREA"&&k!==!0},W=({ref:p,isDisabled:e,isFocusable:k,clickOnEnter:h=!0,clickOnSpace:b=!0,focusOnClick:x=!0,onMouseDown:l,onMouseUp:n,onClick:g,onKeyDown:s,onKeyUp:c,tabIndex:I,onMouseOver:d,onMouseLeave:m,...N}={})=>{const[a,y]=r.useState(!0),[i,f]=r.useState(!1),u=G(),R=a?I:I||0,C=e&&!k,o=t=>{t&&t.tagName!=="BUTTON"&&y(!1)},A=r.useCallback(t=>{if(e){t.stopPropagation(),t.preventDefault();return}x&&t.currentTarget.focus(),g==null||g(t)},[e,x,g]),T=r.useCallback(t=>{i&&P(t)&&(t.preventDefault(),t.stopPropagation(),f(!1),u.remove(document,"keyup",T,!1))},[i,u]),V=r.useCallback(t=>{s==null||s(t),!(e||t.defaultPrevented||t.metaKey)&&(!P(t.nativeEvent)||a||(b&&t.key===" "&&(t.preventDefault(),f(!0)),h&&t.key==="Enter"&&(t.preventDefault(),t.currentTarget.click()),u.add(document,"keyup",T,!1)))},[e,a,s,h,b,u,T]),X=r.useCallback(t=>{c==null||c(t),!(e||t.defaultPrevented||t.metaKey)&&(!P(t.nativeEvent)||a||b&&t.key===" "&&(t.preventDefault(),f(!1),t.currentTarget.click()))},[b,a,e,c]),E=r.useCallback(t=>{t.button===0&&(f(!1),u.remove(document,"mouseup",E,!1))},[u]),j=r.useCallback(t=>{if(t.button===0){if(e){t.stopPropagation(),t.preventDefault();return}a||f(!0),t.currentTarget.focus({preventScroll:!0}),u.add(document,"mouseup",E,!1),l==null||l(t)}},[e,a,l,u,E]),q=r.useCallback(t=>{t.button===0&&(a||f(!1),n==null||n(t))},[n,a]),z=r.useCallback(t=>{if(e){t.preventDefault();return}d==null||d(t)},[e,d]),F=r.useCallback(t=>{i&&(t.preventDefault(),f(!1)),m==null||m(t)},[i,m]);return a?{...N,ref:B(p,o),type:"button","aria-disabled":C?void 0:e,disabled:C,onClick:A,onMouseDown:l,onMouseUp:n,onKeyUp:c,onKeyDown:s,onMouseOver:d,onMouseLeave:m}:{...N,ref:B(p,o),role:"button","data-active":H(i),"aria-disabled":e?"true":void 0,tabIndex:C?void 0:R,onClick:A,onMouseDown:j,onMouseUp:q,onKeyUp:X,onKeyDown:V,onMouseOver:z,onMouseLeave:F}};export{W as u};
