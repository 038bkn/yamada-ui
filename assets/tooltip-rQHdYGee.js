import{j as s}from"./emotion-use-insertion-effect-with-fallbacks.browser.esm-CIjPhCfQ.js";import{u as ae}from"./index-Bk4iHozM.js";import{u as d}from"./index-C2A1EDXj.js";import{u as ue}from"./index-xFj5_Hpi.js";import{u as pe}from"./index-CzMJJlyi.js";import{r as o}from"./index-BwDkhjyp.js";import{A as me}from"./index-CSNxn7VS.js";import{P as de}from"./container-portal-udGf7b7Z.js";import{m as fe}from"./motion-Ceh1Zhyk.js";import{s as f}from"./slide-fade-CanhXW_J.js";import{s as xe}from"./scale-fade-DukJCf2b.js";import{f as he}from"./forward-ref-BmTAT9U5.js";import{u as be}from"./use-component-style-C3e1SZSW.js";import{o as ge}from"./theme-provider-DKpED47L.js";import{z as R,a as ve,h as p,A as z,b as g,c as Pe}from"./factory-DqlmaKnk.js";const Ce=(l="scale",x)=>{const i={reverse:!0,duration:x,enter:{visibility:"visible"},transitionEnd:{exit:{visibility:"hidden"}}};switch(l){case"scale":return{...xe,custom:{...i,scale:.95}};case"top":return{...f,custom:{...i,offsetY:-16}};case"right":return{...f,custom:{...i,offsetX:16}};case"left":return{...f,custom:{...i,offsetX:-16}};case"bottom":return{...f,custom:{...i,offsetY:16}}}},We=he(({closeOnPointerDown:l,z:x,zIndex:i,portalProps:F,withPortal:A=!0,...N},S)=>{let[{z:W,zIndex:B,...X},Y]=be("Tooltip",N);const{className:_,children:v,label:h,placement:K,modifiers:L,gutter:M,offset:Z,openDelay:P=0,closeDelay:C=0,isDisabled:O,closeOnClick:w,closeOnScroll:q,closeOnMouseDown:G,closeOnEsc:H=!0,animation:y,duration:J,isOpen:Q,defaultIsOpen:U,onOpen:V,onClose:$,...ee}=ge(Y);l=G;const T=o.useId(),{isOpen:t,onOpen:k,onClose:D}=ae({isOpen:Q,defaultIsOpen:U,onOpen:V,onClose:$}),n=o.useRef(null),c=o.useRef(),a=o.useRef(),{referenceRef:E,getPopperProps:oe,transformOrigin:te}=pe({enabled:t,placement:K,modifiers:L,gutter:M,offset:Z}),u=o.useCallback(()=>{a.current&&(clearTimeout(a.current),a.current=void 0),D()},[D]),m=o.useCallback(()=>{if(!O&&!c.current){t&&u();const e=R(n.current);c.current=e.setTimeout(k,P)}},[O,t,P,u,k]),r=o.useCallback(()=>{c.current&&(clearTimeout(c.current),c.current=void 0);const e=R(n.current);a.current=e.setTimeout(u,C)},[C,u]),j=o.useCallback(()=>t&&w?r():void 0,[t,w,r]),I=o.useCallback(()=>t&&l?r():void 0,[t,l,r]),re=o.useCallback(e=>t&&e.key==="Escape"?r():void 0,[t,r]),se=o.useCallback((e={},le=null)=>({...e,ref:ve(n,le,E),onPointerEnter:p(e.onPointerEnter,m),onClick:p(e.onClick,j),onPointerDown:p(e.onPointerDown,I),onFocus:p(e.onFocus,m),onBlur:p(e.onBlur,r)}),[E,j,I,m,r]);if(d(()=>z(n.current),"keydown",e=>H?re(e):void 0),d(()=>z(n.current),"scroll",()=>t&&q?u():void 0),d(()=>n.current,"pointerleave",e=>{e.pointerType!=="touch"&&r()}),d(()=>n.current,"touchstart",()=>{t?r():m()},{passive:!0}),ue({ref:n,handler:()=>{r()}}),o.useEffect(()=>()=>{clearTimeout(c.current),clearTimeout(a.current)},[]),!h)return s.jsx(s.Fragment,{children:v});const b=o.Children.only(v),ne=o.cloneElement(b,se({...b.props,"aria-describedby":T},b.ref)),ie={position:"relative",...X},ce=i??x??B??W;return s.jsxs(s.Fragment,{children:[ne,s.jsx(g.span,{id:T,style:{border:"0px",clip:"rect(0px, 0px, 0px, 0px)",height:"1px",width:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},children:h}),s.jsx(me,{children:t?s.jsx(de,{isDisabled:!A,...F,children:s.jsx(g.div,{...oe(),zIndex:ce,pointerEvents:"none",children:s.jsx(g.div,{as:fe.div,ref:S,className:Pe("ui-tooltip",_),role:"tooltip",style:{transformOrigin:te},...y!=="none"?Ce(y,J):{},initial:"exit",animate:t?"enter":"exit",exit:"exit",__css:ie,...ee,children:h})})}):null})]})});export{We as T};
