import{u as C}from"./index-d68d7549.js";import{a as b}from"./index-d467ae88.js";import{r as d}from"./index-76fb7be0.js";import{u as A,j as w}from"./theme-provider-29c1af7d.js";import{a as S,n as a,l as $,y as E,C as M,k as h,D as k,E as j}from"./factory-bced6cdc.js";const y=(t,r)=>(o,s)=>{const e=h(o,`${t}.${r}`);if(a(e)){const[n,m]=e;return s==="light"?n:m}else return e},F=t=>(r,o)=>Object.entries(t).reduce((s,[e,n])=>(e==="duration"&&(n=y("transitions.duration",n)(r,o)??n),e==="timingFunction"&&(n=y("transitions.easing",n)(r,o)??n),s[e]=n,s),{}),V=(t,r)=>(o,s)=>{const e=k(t)(o),{duration:n="0s",timingFunction:m="ease",delay:f="0s",iterationCount:l="1",direction:i="normal",fillMode:c="none",playState:u="running"}=F(r)(o,s);return`${j(e)} ${n} ${m} ${f} ${l} ${i} ${c} ${u}`},g=t=>(r,o)=>{let s;M(t)?s=h(r,`animations.${t}`,{}):s=t;const{keyframes:e={},...n}=s??{};return V(e,n)(r,o)},R=t=>{const{theme:r}=A(),{colorMode:o}=S();return a(t)?t.map(s=>g(s)(r,o)).join(", "):g(t)(r,o)},W=(t,r)=>{const{theme:o}=A(),{colorMode:s}=S(),e=d.useRef($(r)?void 0:a(r)?r.map(String):String(r)),n=d.useRef(new Map),[m,f]=d.useState(()=>{for(const[i,c]of Object.entries(t)){if(n.current.has(i))return;a(c)?n.current.set(i,c.map(u=>g(u)(o,s)).join(", ")):n.current.set(i,g(c)(o,s))}return a(e.current)?e.current.map(i=>n.current.get(i)).join(", "):n.current.get(e.current??"")}),l=d.useCallback(i=>{const c=(()=>!$(e.current)&&a(t)?a(e.current)?e.current.map(Number):Number(e.current):e.current)(),u=E(i,c);e.current=a(u)?u.map(String):String(u),a(e.current)?f(e.current.map(p=>n.current.get(p)).join(", ")):f(n.current.get(e.current??""))},[t]);return[m,l]},z=({isOpen:t,ref:r})=>{const[o,s]=d.useState(t),[e,{on:n}]=C();return d.useEffect(()=>{e||(s(t),n())},[t,e,n]),b(()=>r.current,"animationend",()=>s(t)),{present:!(t?!1:!o),onAnimationComplete(){var i;const f=w(r.current),l=new f.CustomEvent("animationend",{bubbles:!0});(i=r.current)==null||i.dispatchEvent(l)}}};export{W as a,z as b,R as u};
//# sourceMappingURL=index-a4211bfd.js.map
