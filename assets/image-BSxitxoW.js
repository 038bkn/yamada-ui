import{j as f}from"./jsx-runtime-CKrituN3.js";import{r as u}from"./index-CBqU2yxZ.js";import{u as I,s as F}from"./use-image-CVdKPe1A.js";import{f as S}from"./forward-ref-DuAegr0M.js";import{u as g,a as b,o as x}from"./factory-jQ8alorc.js";const y=S((o,e)=>{let{fallback:s,src:d,srcSet:k,loading:t,ignoreFallback:a,crossOrigin:i,className:c,fallbackStrategy:j="beforeLoadOrError",referrerPolicy:p,size:l,fit:m,...r}=o;a=t!=null||a||!s;const E=I({...o,crossOrigin:i,ignoreFallback:a}),n=u.useMemo(()=>({boxSize:l,objectFit:m}),[l,m]);return F(E,j)?u.isValidElement(s)?s:f.jsx(g.img,{ref:e,className:b("ui-image--fallback",c),src:s,__css:n,...a?r:x(r,["onError","onLoad"])}):f.jsx(g.img,{ref:e,src:d,srcSet:k,crossOrigin:i,loading:t,referrerPolicy:p,className:b("ui-image",c),__css:n,...a?r:x(r,["onError","onLoad"])})});export{y as I};
