import{j as u,F as j,a as re}from"./jsx-runtime-TtYKBvr-.js";import{u as se}from"./index-i7ZCpLvT.js";import{u as g}from"./index-lit7Cjpy.js";import{u as ne}from"./index-OQT3J4hP.js";import{r as o}from"./index-IybTgENJ.js";import{A as ie}from"./index-dKw0visz.js";import{P as ce}from"./container-portal-DLVNRIJZ.js";import{m as le}from"./motion-RGBG165B.js";import{s as f}from"./slide-fade-Wiy06Yyq.js";import{s as ae}from"./scale-fade-RLDv8pHw.js";import{f as ue}from"./forward-ref-6T0UNPU-.js";import{a as me}from"./use-component-style-Ji6G5y4B.js";import{o as fe}from"./theme-provider-xH9zRqO9.js";import{y as z,z as I,w as pe,h as m,o as A,u as N,a as de}from"./factory-ilkGXtBr.js";const ve=(c="scale",p)=>{const s={reverse:!0,duration:p,enter:{visibility:"visible"},transitionEnd:{exit:{visibility:"hidden"}}};switch(c){case"scale":return{...ae,custom:{...s,scale:.95}};case"top":return{...f,custom:{...s,offsetY:-16}};case"right":return{...f,custom:{...s,offsetX:16}};case"left":return{...f,custom:{...s,offsetX:-16}};case"bottom":return{...f,custom:{...s,offsetY:16}}}},Fe=ue(({closeOnPointerDown:c,zIndex:p,portalProps:s,withPortal:W=!0,...B},S)=>{const[h,X]=me("Tooltip",B),{className:Y,children:b,label:y,placement:_,modifiers:K,gutter:L,offset:M,openDelay:C=0,closeDelay:P=0,isDisabled:T,closeOnClick:k,closeOnScroll:q,closeOnMouseDown:G,closeOnEsc:H=!0,animation:w,duration:J,...x}=fe(X);c=G;const{isOpen:t,onOpen:D,onClose:O}=se(x),n=o.useRef(null),i=o.useRef(),l=o.useRef(),{referenceRef:E,getPopperProps:Q,transformOrigin:U}=ne({enabled:t,placement:_,modifiers:K,gutter:L,offset:M}),a=o.useCallback(()=>{l.current&&(clearTimeout(l.current),l.current=void 0),O()},[O]),d=o.useCallback(()=>{if(!T&&!i.current){t&&a();const e=z(n.current);i.current=e.setTimeout(D,C)}},[T,t,C,a,D]),r=o.useCallback(()=>{i.current&&(clearTimeout(i.current),i.current=void 0);const e=z(n.current);l.current=e.setTimeout(a,P)},[P,a]),R=o.useCallback(()=>t&&k?r():void 0,[t,k,r]),F=o.useCallback(()=>t&&c?r():void 0,[t,c,r]),V=o.useCallback(e=>t&&e.key==="Escape"?r():void 0,[t,r]);g(()=>I(n.current),"keydown",e=>H?V(e):void 0),g(()=>I(n.current),"scroll",()=>t&&q?a():void 0),g(()=>n.current,"pointerleave",r),o.useEffect(()=>()=>{clearTimeout(i.current),clearTimeout(l.current)},[]);const Z=o.useCallback((e={},oe=null)=>({...e,ref:pe(n,oe,E),onPointerEnter:m(e.onPointerEnter,te=>te.pointerType!=="touch"?d():void 0),onClick:m(e.onClick,R),onPointerDown:m(e.onPointerDown,F),onFocus:m(e.onFocus,d),onBlur:m(e.onBlur,r)}),[E,R,F,d,r]),v=o.Children.only(b),$=o.cloneElement(v,Z(v.props,v.ref)),ee={position:"relative",...A(h,["zIndex"])};return y?re(j,{children:[$,u(ie,{children:t?u(ce,{isDisabled:!W,...s,children:u(N.div,{...Q(),zIndex:p??h.zIndex,pointerEvents:"none",children:u(N.div,{as:le.div,ref:S,className:de("ui-tooltip",Y),style:{transformOrigin:U},...w!=="none"?ve(w,J):{},initial:"exit",animate:t?"enter":"exit",exit:"exit",__css:ee,...A(x,["isOpen","defaultIsOpen","onOpen","onClose"]),children:y})})}):null})]}):u(j,{children:b})});export{Fe as T};
