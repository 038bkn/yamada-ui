{"version":3,"file":"breadcrumb.stories-01a59672.js","sources":["../../packages/components/breadcrumb/src/breadcrumb.tsx"],"sourcesContent":["import {\n  ui,\n  forwardRef,\n  HTMLUIProps,\n  omitThemeProps,\n  ThemeProps,\n  CSSUIObject,\n  useMultiComponentStyle,\n  CSSUIProps,\n} from '@yamada-ui/core'\nimport { cx, createContext, getValidChildren } from '@yamada-ui/utils'\nimport { cloneElement } from 'react'\n\nconst [BreadcrumbProvider, useBreadcrumb] = createContext<\n  Record<string, CSSUIObject>\n>({\n  name: `BreadcrumbContext`,\n  errorMessage: `useBreadcrumb returned is 'undefined'. Seems you forgot to wrap the components in \"<Breadcrumb />\" `,\n})\n\ntype BreadcrumbOptions = {\n  /**\n   * The visual separator between each breadcrumb item.\n   *\n   * @default '/'\n   */\n  separator?: string | JSX.Element\n  /**\n   * The left and right margin applied to the separator.\n   *\n   * @default 'sm'\n   */\n  gap?: CSSUIProps['mx']\n  /**\n   * Props for ol element.\n   */\n  listProps?: HTMLUIProps<'ol'>\n}\n\nexport type BreadcrumbProps = Omit<HTMLUIProps<'nav'>, 'gap'> &\n  ThemeProps<'Breadcrumb'> &\n  BreadcrumbOptions\n\nexport const Breadcrumb = forwardRef<BreadcrumbProps, 'nav'>((props, ref) => {\n  const [styles, mergedProps] = useMultiComponentStyle('Breadcrumb', props)\n\n  const {\n    className,\n    children,\n    separator = '/',\n    gap = 'sm',\n    listProps,\n    ...rest\n  } = omitThemeProps(mergedProps)\n\n  const css: CSSUIObject = {\n    display: 'flex',\n    alignItems: 'center',\n    ...styles.list,\n  }\n\n  const validChildren = getValidChildren(children)\n  const count = validChildren.length\n\n  const cloneChildren = validChildren.map((child, index) =>\n    cloneElement(child, {\n      separator,\n      gap,\n      isLastChild: count === index + 1,\n    }),\n  )\n\n  return (\n    <BreadcrumbProvider value={styles}>\n      <ui.nav\n        ref={ref}\n        className={cx('ui-breadcrumb', className)}\n        __css={styles.container}\n        {...rest}\n      >\n        <ui.ol className='ui-breadcrumb-list' {...listProps} __css={css}>\n          {cloneChildren}\n        </ui.ol>\n      </ui.nav>\n    </BreadcrumbProvider>\n  )\n})\n\ntype BreadcrumbItemOptions = Pick<BreadcrumbProps, 'separator' | 'gap'> & {\n  /**\n   * If `true`, change to span element.\n   *\n   * @default false\n   */\n  isCurrentPage?: boolean\n  /**\n   * If `true`, not show separator.\n   *\n   * @default false\n   */\n  isLastChild?: boolean\n}\n\nexport type BreadcrumbItemProps = HTMLUIProps<'li'> & BreadcrumbItemOptions\n\nexport const BreadcrumbItem = forwardRef<BreadcrumbItemOptions, 'li'>(\n  (\n    {\n      className,\n      children,\n      separator,\n      isCurrentPage,\n      isLastChild,\n      gap,\n      ...rest\n    },\n    ref,\n  ) => {\n    const styles = useBreadcrumb()\n\n    const validChildren = getValidChildren(children)\n\n    const cloneChildren = validChildren.map((child) => {\n      if (child.type === BreadcrumbLink) {\n        return cloneElement(child, {\n          isCurrentPage,\n        })\n      }\n\n      if (child.type === BreadcrumbSeparator) {\n        return cloneElement(child, {\n          gap,\n          children: child.props.children || separator,\n        })\n      }\n\n      return child\n    })\n\n    const css: CSSUIObject = {\n      display: 'inline-flex',\n      alignItems: 'center',\n      ...styles.item,\n    }\n\n    return (\n      <ui.li\n        ref={ref}\n        className={cx('ui-breadcrumb-item', className)}\n        __css={css}\n        {...rest}\n      >\n        {cloneChildren}\n        {!isLastChild ? (\n          <BreadcrumbSeparator gap={gap}>{separator}</BreadcrumbSeparator>\n        ) : null}\n      </ui.li>\n    )\n  },\n)\n\ntype BreadcrumbLinkOptions = {\n  /**\n   * If `true`, change to span element.\n   *\n   * @default false\n   */\n  isCurrentPage?: boolean\n}\n\nexport type BreadcrumbLinkProps = HTMLUIProps<'a'> & BreadcrumbLinkOptions\n\nexport const BreadcrumbLink = forwardRef<BreadcrumbLinkProps, 'a'>(\n  ({ className, children, isCurrentPage, ...rest }, ref) => {\n    const styles = useBreadcrumb()\n\n    return (\n      <ui.a\n        ref={ref}\n        as={!isCurrentPage ? 'a' : 'span'}\n        aria-current={isCurrentPage ? 'page' : undefined}\n        className={cx('ui-breadcrumb-link', className)}\n        __css={styles.link}\n        {...rest}\n      >\n        {children}\n      </ui.a>\n    )\n  },\n)\n\ntype BreadcrumbSeparatorOptions = {\n  /**\n   * The CSS `margin-inline-start`, and `margin-inline-end` property.\n   */\n  gap?: CSSUIProps['mx']\n}\n\nexport type BreadcrumbSeparatorProps = HTMLUIProps<'span'> &\n  BreadcrumbSeparatorOptions\n\nexport const BreadcrumbSeparator = forwardRef<BreadcrumbSeparatorProps, 'span'>(\n  ({ children, gap: mx, ...rest }, ref) => {\n    const styles = useBreadcrumb()\n    const css: CSSUIObject = {\n      mx,\n      ...styles.separator,\n    }\n\n    return (\n      <ui.span\n        ref={ref}\n        className='ui-breadcrumb-link-separator'\n        __css={css}\n        {...rest}\n      >\n        {children}\n      </ui.span>\n    )\n  },\n)\n"],"names":["BreadcrumbProvider","useBreadcrumb","createContext","Breadcrumb","forwardRef","props","ref","styles","mergedProps","useMultiComponentStyle","className","children","separator","gap","listProps","rest","omitThemeProps","css","validChildren","getValidChildren","count","cloneChildren","child","index","cloneElement","jsx","ui","cx","BreadcrumbItem","isCurrentPage","isLastChild","BreadcrumbLink","BreadcrumbSeparator","jsxs","mx"],"mappings":"0iBAaA,KAAM,CAACA,EAAoBC,CAAa,EAAIC,EAE1C,CACA,KAAM,oBACN,aAAc,qGAChB,CAAC,EAyBYC,EAAaC,EAAmC,CAACC,EAAOC,IAAQ,CAC3E,KAAM,CAACC,EAAQC,CAAW,EAAIC,EAAuB,aAAcJ,CAAK,EAElE,CACJ,UAAAK,EACA,SAAAC,EACA,UAAAC,EAAY,IACZ,IAAAC,EAAM,KACN,UAAAC,EACA,GAAGC,CAAA,EACDC,EAAeR,CAAW,EAExBS,EAAmB,CACvB,QAAS,OACT,WAAY,SACZ,GAAGV,EAAO,IAAA,EAGNW,EAAgBC,EAAiBR,CAAQ,EACzCS,EAAQF,EAAc,OAEtBG,EAAgBH,EAAc,IAAI,CAACI,EAAOC,IAC9CC,EAAA,aAAaF,EAAO,CAClB,UAAAV,EACA,IAAAC,EACA,YAAaO,IAAUG,EAAQ,CAAA,CAChC,CAAA,EAID,OAAAE,EAACzB,EAAmB,CAAA,MAAOO,EACzB,SAAAkB,EAACC,EAAG,IAAH,CACC,IAAApB,EACA,UAAWqB,EAAG,gBAAiBjB,CAAS,EACxC,MAAOH,EAAO,UACb,GAAGQ,EAEJ,SAAAU,EAACC,EAAG,GAAH,CAAM,UAAU,qBAAsB,GAAGZ,EAAW,MAAOG,EACzD,SACHI,CAAA,CAAA,CAAA,CAEJ,CAAA,CAAA,CAEJ,CAAC,EAmBYO,EAAiBxB,EAC5B,CACE,CACE,UAAAM,EACA,SAAAC,EACA,UAAAC,EACA,cAAAiB,EACA,YAAAC,EACA,IAAAjB,EACA,GAAGE,GAELT,IACG,CACH,MAAMC,EAASN,IAIToB,EAFgBF,EAAiBR,CAAQ,EAEX,IAAKW,GACnCA,EAAM,OAASS,EACVP,EAAAA,aAAaF,EAAO,CACzB,cAAAO,CAAA,CACD,EAGCP,EAAM,OAASU,EACVR,EAAAA,aAAaF,EAAO,CACzB,IAAAT,EACA,SAAUS,EAAM,MAAM,UAAYV,CAAA,CACnC,EAGIU,CACR,EAEKL,EAAmB,CACvB,QAAS,cACT,WAAY,SACZ,GAAGV,EAAO,IAAA,EAIV,OAAA0B,EAACP,EAAG,GAAH,CACC,IAAApB,EACA,UAAWqB,EAAG,qBAAsBjB,CAAS,EAC7C,MAAOO,EACN,GAAGF,EAEH,SAAA,CAAAM,EACCS,EAEE,KADFL,EAACO,EAAoB,CAAA,IAAAnB,EAAW,UAAU,CAAA,CACxC,CAAA,CAAA,CAGV,CACF,EAaakB,EAAiB3B,EAC5B,CAAC,CAAE,UAAAM,EAAW,SAAAC,EAAU,cAAAkB,EAAe,GAAGd,GAAQT,IAAQ,CACxD,MAAMC,EAASN,IAGb,OAAAwB,EAACC,EAAG,EAAH,CACC,IAAApB,EACA,GAAKuB,EAAsB,OAAN,IACrB,eAAcA,EAAgB,OAAS,OACvC,UAAWF,EAAG,qBAAsBjB,CAAS,EAC7C,MAAOH,EAAO,KACb,GAAGQ,EAEH,SAAAJ,CAAA,CAAA,CAGP,CACF,EAYaqB,EAAsB5B,EACjC,CAAC,CAAE,SAAAO,EAAU,IAAKuB,EAAI,GAAGnB,GAAQT,IAAQ,CACvC,MAAMC,EAASN,IACTgB,EAAmB,CACvB,GAAAiB,EACA,GAAG3B,EAAO,SAAA,EAIV,OAAAkB,EAACC,EAAG,KAAH,CACC,IAAApB,EACA,UAAU,+BACV,MAAOW,EACN,GAAGF,EAEH,SAAAJ,CAAA,CAAA,CAGP,CACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}