import{j as f}from"./jsx-runtime-Nms4Y4qS.js";import{r as g}from"./index-BwDkhjyp.js";import{u as y,s as _}from"./use-image-BN-ZX9Me.js";import{f as h}from"./forward-ref-BmTAT9U5.js";import{u as L}from"./use-component-style-j75HgCyZ.js";import{o as N}from"./theme-provider-DvoMT5nL.js";import{b as u,c as b,R as O}from"./factory-CSM9sPSx.js";const q=h((a,e)=>{const[t,{size:m,...p}]=L("Image",a);let{fit:i,fallback:r,src:d,srcSet:x,loading:c,ignoreFallback:s,crossOrigin:k,className:l,fallbackStrategy:I="beforeLoadOrError",onError:j,onLoad:E,referrerPolicy:F,...o}=N(p);s=c!=null||s||!r;const n=g.useMemo(()=>({...t,boxSize:m,objectFit:i}),[t,m,i]),S=y({...a,ignoreFallback:s});return _(S,I)?g.isValidElement(r)?r:f.jsx(u.img,{ref:e,className:b("ui-image--fallback",l),src:r,__css:n,...s?{...o,onError:j,onLoad:E}:o}):f.jsx(u.img,{ref:e,src:d,srcSet:x,crossOrigin:k,loading:c,referrerPolicy:F,className:b("ui-image",l),__css:n,...s?o:O(o,["onError","onLoad"])})});export{q as I};
