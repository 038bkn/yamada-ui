import{j as r,a as xe}from"./jsx-runtime-2xDJh5tt.js";import{u as Ue}from"./index-B_vOIzCR.js";import{r as n}from"./index-CBqU2yxZ.js";import{d as ee,i as Fe,a as Ve,b as Qe,C as Ze}from"./ja-B7ZU7Svz.js";import{u as qe}from"./index-DffFcysT.js";import{u as Ge}from"./index-DLflEqxP.js";import{u as Je}from"./index-BdxuPiOo.js";import{u as Xe,g as $e}from"./form-control-D1mB1xBr.js";import{p as et,P as tt,b as ot,a as nt}from"./popover-content-Bq6YhX0Z.js";import{u as at,o as st}from"./theme-provider-BSSgazaQ.js";import{Q as rt,Z as it,_ as lt,o as ct,a3 as ut,R as pt,w as te,h as Y,K as Ee,c as dt,e as ft,a4 as mt,u as W,a as L,v as Ct,f as Pt}from"./factory-DpmudyXM.js";import{P as ht}from"./container-portal-DybmBGje.js";import{b as gt,a as kt}from"./icon-BPDO9FjE.js";import{f as oe}from"./forward-ref-DuAegr0M.js";import{u as yt}from"./use-component-style-C8HPJoXa.js";const bt=m=>{var we;const{theme:l}=at();let{id:c,closeOnBlur:p=!0,closeOnEsc:C=!0,placement:d="bottom-start",duration:s=.2,enableMultiple:f,enableRange:g,value:P,defaultValue:I,onChange:R,type:w,defaultType:D,onChangeType:T,month:O,defaultMonth:S,onChangeMonth:M,firstDayOfWeek:N,amountOfMonths:j,paginateBy:H,withWeekdays:z,disableOutsideDays:x,hiddenOutsideDays:k,minDate:u,maxDate:h,locale:t,yearFormat:i,monthFormat:F,weekdayFormat:ae,dateFormat:se,weekendDays:re,today:ie,excludeDate:y,calendarVariant:le,calendarSize:ce,calendarColorScheme:ue,holidays:pe,withHeader:de,withControls:fe,withLabel:me,maxSelectValues:Ce,selectMonthWith:Pe,calendarProps:he,allowInput:b=!0,allowInputBeyond:U=!1,parseDate:Q,pattern:Re=/[^0-9\-\/]/g,inputFormat:Z="YYYY/MM/DD",autoFocus:K=!0,isOpen:Se,defaultIsOpen:Te,onOpen:Me,onClose:Ne,onClear:q,onEnter:ge,onDelete:ke,...v}=Xe(m);t??(t=((we=l.__config.date)==null?void 0:we.locale)??"en");const V=rt(v,$e({omit:["aria-readonly"]})),[ye,je]=it(ct(v,[...et]),[...lt,"aria-readonly"]),{disabled:G,readOnly:J}=V,{isOpen:a,onOpen:be,onClose:E}=Ge({isOpen:Se,defaultIsOpen:Te,onOpen:Me,onClose:Ne}),X=n.useRef(null),A=n.useRef(null),He=n.useCallback(e=>{let o=(Q==null?void 0:Q(e))??ee(e,Z,t).toDate();if(o!=null&&!(y!=null&&y(o)))return U||(h&&Fe(o,h)&&(o=h),u&&Ve(o,u)&&(o=u)),o},[U,y,Z,t,h,u,Q]),ze=n.useCallback(e=>{if(e!=null&&!(y!=null&&y(e)))return U||(h&&Fe(e,h)&&(e=h),u&&Ve(e,u)&&(e=u)),ee(e).locale(t??"en").format(Z)},[U,y,Z,t,h,u]),_=n.useCallback(()=>{var e;G||J||(be(),K&&b&&((e=A.current)==null||e.focus()))},[K,b,G,J,be]),ve=n.useCallback(()=>{var e;a?K&&b&&((e=A.current)==null||e.focus()):_()},[K,b,a,_]),_e=n.useCallback(()=>{a||_()},[a,_]),De=n.useCallback(e=>{const o=ut(e);pt(X.current,o)||p&&a&&E()},[p,a,E]),Oe=n.useCallback(e=>{if(e.key===" "&&(e.key=e.code),G||J)return;const $={Space:a?void 0:B=>{B.preventDefault(),B.stopPropagation(),_()},Enter:a?ge:B=>{B.preventDefault(),B.stopPropagation(),_()},Escape:C?B=>{B.preventDefault(),B.stopPropagation(),E()}:void 0,Backspace:ke}[e.key];$&&$(e)},[C,G,J,a,E,ge,ke,_]),Ie=n.useCallback(e=>{var o;e.stopPropagation(),q==null||q(),K&&b&&a&&((o=A.current)==null||o.focus())},[K,b,a,q]);Je({ref:X,handler:E,enabled:a&&p});const Ke=n.useCallback((e={},o=null)=>({ref:te(X,o),...ye,...e,...V,onClick:Y(e.onClick,v.onClick,ve),onBlur:Y(e.onBlur,v.onBlur,De)}),[ye,V,De,ve,v]),Ye=n.useCallback(e=>({...v,...e,isOpen:a,onOpen:_,onClose:E,placement:d,duration:s,trigger:"never",closeOnButton:!1,closeOnBlur:!1}),[s,a,E,_,d,v]),Ae=n.useCallback((e={},o=null)=>{const $={...e.style,...b?{}:{cursor:"pointer"}};return{ref:te(A,o),tabIndex:b?-1:0,...e,...V,style:$,"data-active":Ee(a),"aria-expanded":Ee(a),onFocus:Y(e.onFocus,v.onFocus,_e),onKeyDown:Y(e.onKeyDown,v.onKeyDown,Oe)}},[b,V,a,v,_e,Oe]),We=n.useCallback(e=>({...e,type:w,defaultType:D,onChangeType:T,month:O,defaultMonth:S,onChangeMonth:M,firstDayOfWeek:N,amountOfMonths:j,paginateBy:H,withWeekdays:z,disableOutsideDays:x,hiddenOutsideDays:k,yearFormat:i,monthFormat:F,weekdayFormat:ae,dateFormat:se,weekendDays:re,today:ie,holidays:pe,withHeader:de,withControls:fe,withLabel:me,maxSelectValues:Ce,variant:le,size:ce,colorScheme:ue,...he,value:P,defaultValue:I,onChange:R,minDate:u,maxDate:h,excludeDate:y,locale:t,selectMonthWith:Pe,enableMultiple:f,enableRange:g}),[k,Ce,f,g,j,ue,he,ce,le,se,S,D,I,x,y,N,pe,t,h,u,O,F,R,M,T,H,ie,w,P,ae,re,fe,de,me,z,i,Pe]),Le=n.useCallback(({clear:e,...o})=>({...o,...V,onClick:Y(o.onClick,e?Ie:void 0)}),[V,Ie]);return{id:c,allowInput:b,pattern:Re,inputProps:je,formControlProps:V,containerRef:X,inputRef:A,isOpen:a,onOpen:_,onClose:E,dateToString:ze,stringToDate:He,getContainerProps:Ke,getPopoverProps:Ye,getFieldProps:Ae,getCalendarProps:We,getIconProps:Le}},[vt,ne]=dt({strict:!1,name:"DatePickerContext"}),_t=({value:m,defaultValue:l,onChange:c,placeholder:p,closeOnSelect:C=!0,...d})=>{const[s,f]=qe({value:m,defaultValue:l,onChange:c,onUpdate:(t,i)=>!Qe(t,i)}),{inputRef:g,id:P,allowInput:I,pattern:R,inputProps:w,formControlProps:D,onClose:T,dateToString:O,stringToDate:S,getContainerProps:M,getPopoverProps:N,getFieldProps:j,getCalendarProps:H,getIconProps:z}=bt({...d,value:s,defaultValue:l,onChange:t=>{const i=O(t);f(t),k(i),C&&t&&T()},onClear:()=>{f(void 0),k(void 0)},onClose:()=>{var i;const t=O(s);k(t),(i=d.onClose)==null||i.call(d)}}),[x,k]=n.useState(O(s)),u=n.useCallback(t=>{let i=t.target.value;i=i.replace(R,"");const F=S(i);k(i),F&&ee(F).isValid()?f(F):f(void 0)},[R,S,k,f]);ft(()=>{if(g.current&&mt(g.current))return;const t=O(s);k(t)},[s]);const h=n.useCallback((t={},i=null)=>{const F={...t.style,...w.style,...I?{}:{pointerEvents:"none"}};return{placeholder:p,...D,...w,...t,ref:i,style:F,id:P,tabIndex:I?0:-1,value:x??"",cursor:D.readOnly?"default":"text",pointerEvents:D.disabled?"none":"auto",onChange:Y(t.onChange,u)}},[w,I,p,D,P,x,u]);return{value:s,getContainerProps:M,getPopoverProps:N,getFieldProps:j,getInputProps:h,getIconProps:z,getCalendarProps:H}},Yt=oe((m,l)=>{const[c,p]=yt("DatePicker",m);let{className:C,isClearable:d=!0,color:s,h:f,height:g,minH:P,minHeight:I,containerProps:R,inputProps:w,iconProps:D,clearIconProps:T,portalProps:O={isDisabled:!0},...S}=st(p);const{getPopoverProps:M,getContainerProps:N,getCalendarProps:j,getFieldProps:H,getInputProps:z,getIconProps:x,value:k}=_t(S);f??(f=g),P??(P=I);const u={w:"100%",h:"fit-content",color:s,...c.container};return r(vt,{value:c,children:r(tt,{...M(),children:xe(W.div,{className:L("ui-date-picker",C),__css:u,...N(R),children:[xe(W.div,{className:"ui-date-picker__inner",__css:{position:"relative",...c.inner},children:[r(Dt,{...H({h:f,minH:P},l),inputProps:z(w)}),d&&k?r(It,{...x({clear:!0,...T})}):r(Be,{...x({clear:!1,...D})})]}),r(ht,{...O,children:r(ot,{className:"ui-date-picker__popover",__css:{...c.list},children:r(Ze,{className:"ui-date-picker__calendar",...j()})})})]})})})}),Dt=oe(({className:m,h:l,minH:c,inputProps:p,...C},d)=>{const s=ne(),{ref:f,...g}=p,P={pe:"2rem",h:l,minH:c,display:"flex",alignItems:"center",...s.field};return r(nt,{children:r(W.div,{className:L("ui-date-picker__field",m),__css:P,...C,children:r(W.input,{ref:te(d,f),className:"ui-date-picker__field__input",display:"inline-block",w:"100%",...g})})})}),Be=oe(({className:m,children:l,__css:c,...p},C)=>{const s={position:"absolute",top:"50%",transform:"translateY(-50%)",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",cursor:"pointer",...ne().icon,...c},g=Ct(l).map(P=>n.cloneElement(P,{focusable:!1,"aria-hidden":!0,style:{maxWidth:"1em",maxHeight:"1em",color:"currentColor"}}));return r(W.div,{ref:C,className:L("ui-date-picker__icon",m),__css:s,...p,children:Pt(l)?g:r(Ot,{})})}),Ot=({className:m,...l})=>r(gt,{className:L("ui-date-picker__icon__calendar",m),viewBox:"0 0 24 24",...l,children:r("path",{fill:"currentColor",d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"})}),It=({className:m,children:l,...c})=>{const p=n.useRef(null),C=ne(),d=c.disabled,s=Ue({ref:p,isDisabled:d,...c});return r(Be,{"aria-label":"Clear value",className:L("ui-date-picker__icon--clear",m),__css:C.clearIcon,...s,children:l??r(kt,{w:"0.5em",h:"0.5em"})})};export{Yt as D,vt as a,Dt as b,It as c,Be as d,ne as e,bt as u};
