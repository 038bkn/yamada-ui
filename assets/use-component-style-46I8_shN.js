import{r as O}from"./index-IybTgENJ.js";import{g as z}from"./_commonjsHelpers-4gQjN7DL.js";import{e as A,g as B,m as l,q as C,o as F,f as Q,T as p,j as R,U as v,x as E}from"./factory-4UsipNZi.js";import{u as P}from"./theme-provider-gSdpxlBZ.js";var V=typeof Element<"u",T=typeof Map=="function",$=typeof Set=="function",U=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function S(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,s;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!S(e[r],t[r]))return!1;return!0}var f;if(T&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(f=e.entries();!(r=f.next()).done;)if(!t.has(r.value[0]))return!1;for(f=e.entries();!(r=f.next()).done;)if(!S(r.value[1],t.get(r.value[0])))return!1;return!0}if($&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(f=e.entries();!(r=f.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(U&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,s[r]))return!1;if(V&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!((s[r]==="_owner"||s[r]==="__v"||s[r]==="__o")&&e.$$typeof)&&!S(e[s[r]],t[s[r]]))return!1;return!0}return e!==e&&t!==t}var D=function(t,n){try{return S(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const x=z(D),w=(e,t,n)=>({isMulti:r})=>{let s={};if(Q(e)){const[f,u]=e,a=m(t[f],n)({isMulti:r,query:p._light}),i=m(t[u],n)({isMulti:r,query:p._dark});s=l(a,i)}else if(R(e))if(v(e).length===1&&"base"in e)s=m(t[e.base],n)({isMulti:r});else{const{queries:f=[]}=n.theme.__breakpoints??{},u=f.filter(({breakpoint:o})=>o!=="base"&&v(e).includes(o)),a=u.sort((o,c)=>(o.minW??0)-(c.minW??0))[0],i=u.sort((o,c)=>(c.minW??0)-(o.minW??0))[0],j=f.filter(({minW:o})=>(o??0)>((i==null?void 0:i.minW)??0)).sort((o,c)=>(o.minW??0)-(c.minW??0))[0];s=Object.entries(e).reduce((o,[c,y=""])=>{var d;if(c==="base"){const h=j.minWQuery,g=m(t[y],n)({isMulti:r,query:h});o=l(o,g)}else{const h=c===a.breakpoint,g=(d=f==null?void 0:f.find(({breakpoint:_})=>_===c))==null?void 0:d[h?"maxWQuery":"minMaxQuery"],W=m(t[y],n)({isMulti:r,query:g});o=l(o,W)}return o},{})}else s=m(t[e],n)({isMulti:r});return s},m=(e,t)=>({isMulti:n,query:r})=>{let s=E(e,t);if(n)for(const[f,u]of Object.entries(s??{})){const a=E(u,t);r?s=l(s,{[f]:{[r]:a}}):s=l(s,{[f]:a})}else if(r)return{[r]:s};return s},q=(e,t,n=!1)=>{const{theme:r,themeScheme:s}=P(),{colorMode:f}=A(),u=B(r,`components.${e}`),a=O.useRef({}),i=O.useRef({});if(t=l((u==null?void 0:u.defaultProps)??{},C(t)),u){const o=F(t,["children"]);let c=m(u.baseStyle??{},{theme:r,colorMode:f,themeScheme:s,...o})({isMulti:n});const y=w(t.variant,u.variants??{},{theme:r,colorMode:f,themeScheme:s,...o})({isMulti:n}),d=w(t.size,u.sizes??{},{theme:r,colorMode:f,themeScheme:s,...o})({isMulti:n});c=l(c,d),c=l(c,y),x(i.current,c)||(i.current=c)}return x(a.current,t)||(a.current=t),[i.current,a.current]},L=(e,t)=>q(e,t),M=(e,t)=>q(e,t,!0);export{L as a,M as u};
