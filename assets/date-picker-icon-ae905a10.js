import{a as b}from"./jsx-runtime-03b4ddbf.js";import{a as Oe}from"./popover-content-4385bd9b.js";import{f as xe}from"./forward-ref-8b7d2a6f.js";import{k as Se,D as He,Y as Ke,Z as Me,A as Te,a1 as ze,C as Ue,B as Ze,a2 as qe,x as he,t as x,v as ye,d as S,e as A,p as Fe,M as Ge}from"./factory-c9bc4a28.js";import{u as Je}from"./index-78c604bb.js";import{r as o}from"./index-76fb7be0.js";import{u as Le}from"./index-d3c30489.js";import{u as Qe}from"./index-690e5404.js";import{d as O,i as Ee,a as Ve,b as Xe}from"./ja-97254d71.js";import{u as $e,f as De}from"./form-control-eb3b7686.js";import{u as We}from"./theme-provider-a03ffa08.js";import{b as we,a as en}from"./icon-e1655999.js";const[bn,H]=Se({strict:!1,name:"DatePickerContext"}),gn=({parseDate:r,defaultIsOpen:a,closeOnBlur:l=!0,closeOnEsc:g=!0,placement:m="bottom-start",duration:_=.2,defaultValue:u,type:R,defaultType:j,onChangeType:I,month:K,defaultMonth:M,onChangeMonth:T,firstDayOfWeek:z,amountOfMonths:U,paginateBy:Z,withWeekdays:q,disableOutsideDays:F,minDate:f,maxDate:d,locale:v,inputFormat:Y="YYYY/MM/DD",yearFormat:G,monthFormat:J,weekdayFormat:L,dateFormat:Q,weekendDays:X,today:$,excludeDate:D,calendarVariant:W,calendarSize:w,calendarColorScheme:ee,holidays:ne,withHeader:se,withControls:oe,withLabel:te,calendarProps:ce,placeholder:re,closeOnSelect:ie=!0,allowInput:C=!0,pattern:ae=/[^0-9\-\/]/g,...s})=>{var ve;const{theme:Re}=We();s=$e(s),v??(v=((ve=Re.__config.date)==null?void 0:ve.locale)??"en");const{id:le}=s,t=He(s,De),[ue,B]=Ke(Te(s,["id","value","onChange"]),Me),fe=o.useCallback(e=>{let n=r?r(e):O(e,Y,v).toDate();return n==null||(d&&Ee(n,d)&&(n=d),f&&Ve(n,f)&&(n=f)),n},[Y,v,d,f,r]),E=o.useCallback(e=>{if(e!=null)return d&&Ee(e,d)&&(e=d),f&&Ve(e,f)&&(e=f),O(e).locale(v??"en").format(Y)},[Y,v,d,f]),[c,de]=o.useState(a??!1),[P,h]=Le({value:s.value,defaultValue:u,onChange:s.onChange,onUpdate:(e,n)=>!Xe(e,n)}),[Ce,V]=o.useState(E(P)),N=o.useRef(null),y=o.useRef(null),k=o.useCallback(()=>{var e;t.disabled||t.readOnly||(de(!0),C&&y.current&&y.current.focus(),(e=s.onOpen)==null||e.call(s))},[C,t,s]),i=o.useCallback(()=>{var e;de(!1),(e=s.onClose)==null||e.call(s)},[s]),ke=o.useCallback(e=>{e.stopPropagation(),h(null),V(void 0)},[h]),pe=o.useCallback(()=>{c?C&&y.current&&y.current.focus():k()},[C,c,k]),be=o.useCallback(()=>{c||k()},[c,k]),ge=o.useCallback(e=>{const n=ze(e);if(Ue(N.current,n)||!l)return;const p=E(P);V(p),c&&i()},[l,E,c,i,P]),me=o.useCallback(e=>{if(e.key===" "&&(e.key=e.code),t.disabled||t.readOnly)return;const p={Space:c?k:i,Enter:c?k:i,Escape:g?i:void 0}[e.key];p&&(e.preventDefault(),e.stopPropagation(),p(e))},[g,t,c,i,k]),Pe=o.useCallback(e=>{const n=E(e);h(e),V(n),ie&&e&&i()},[ie,E,i,h]),_e=o.useCallback(e=>{let n=e.target.value;n=n.replace(ae,"");const p=fe(n);V(n),O(p).isValid()?h(p):h(null)},[ae,fe,V,h]);Ze(()=>{if(y.current&&qe(y.current))return;const e=E(P);V(e)},[P]),Qe({ref:N,handler:i,enabled:l});const je=o.useCallback((e={},n=null)=>({ref:he(N,n),...ue,...e,...t,onClick:x(e.onClick,s.onClick,pe),onBlur:x(e.onBlur,s.onBlur,ge)}),[ue,t,ge,pe,s]),Ie=o.useCallback(e=>({...s,...e,isOpen:c,onOpen:k,onClose:i,placement:m,duration:_,trigger:"never",closeOnButton:!1}),[_,c,i,k,m,s]),Ye=o.useCallback((e={},n=null)=>{const p={...e.style,...C?{}:{cursor:"pointer"}};return{ref:he(n,y),tabIndex:C?-1:0,...e,...t,style:p,"data-active":ye(c),"aria-expanded":ye(c),onFocus:x(e.onFocus,s.onFocus,be),onKeyDown:x(e.onKeyDown,s.onKeyDown,me)}},[C,t,c,s,be,me]),Ae=o.useCallback((e={})=>{const n={...e.style,...B.style,...C?{}:{pointerEvents:"none"}};return{placeholder:re,...t,...B,...e,style:n,id:le,tabIndex:C?0:-1,value:Ce??"",cursor:t.readOnly?"default":"text",pointerEvents:t.disabled?"none":"auto",onChange:x(e.onChange,_e)}},[B,C,re,t,le,Ce,_e]),Be=o.useCallback(e=>({...e,type:R,defaultType:j,onChangeType:I,month:K,defaultMonth:M,onChangeMonth:T,firstDayOfWeek:z,amountOfMonths:U,paginateBy:Z,withWeekdays:q,disableOutsideDays:F,yearFormat:G,monthFormat:J,weekdayFormat:L,dateFormat:Q,weekendDays:X,today:$,holidays:ne,withHeader:se,withControls:oe,withLabel:te,variant:W,size:w,colorScheme:ee,...ce,value:P,defaultValue:u,onChange:Pe,minDate:f,maxDate:d,excludeDate:D,locale:v}),[U,ee,ce,w,W,Q,M,j,u,F,D,z,ne,v,d,f,K,J,Pe,T,I,Z,$,R,P,L,X,oe,se,te,q,G]),Ne=o.useCallback(({clear:e,...n}={})=>({...n,...t,onClick:x(n.onClick,e?ke:void 0)}),[t,ke]);return{value:P,getContainerProps:je,getPopoverProps:Ie,getFieldProps:Ye,getInputProps:Ae,getIconProps:Ne,getCalendarProps:Be}},mn=xe(({className:r,h:a,minH:l,inputProps:g,...m},_)=>{const u=H(),R={paddingEnd:"2rem",h:a,minH:l,display:"flex",alignItems:"center",...u.field,cursor:"text",...u.feild};return b(Oe,{children:b(S.div,{className:A("ui-date-picker__field",r),__css:R,...m,children:b(S.input,{ref:_,className:"ui-date-picker__field__input",display:"inline-block",w:"full",...g})})})}),nn=xe(({className:r,children:a,__css:l,...g},m)=>{const u={position:"absolute",top:"50%",transform:"translateY(-50%)",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",cursor:"pointer",...H().icon,...l},j=Fe(a).map(I=>o.cloneElement(I,{focusable:!1,"aria-hidden":!0,style:{maxWidth:"1em",maxHeight:"1em",color:"currentColor"}}));return b(S.div,{ref:m,className:A("ui-date-picker__icon",r),__css:u,...g,children:Ge(a)?j:b(sn,{})})}),sn=({className:r,...a})=>b(we,{className:A("ui-date-picker__icon__calendar",r),viewBox:"0 0 24 24",...a,children:b("path",{fill:"currentColor",d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"})}),Pn=({className:r,children:a,...l})=>{const g=o.useRef(null),m=H(),_=l.disabled,u=Je({ref:g,isDisabled:_,...l});return b(nn,{className:A("ui-date-picker__icon--clear",r),__css:m.clearIcon,...u,children:a??b(en,{w:"0.5em",h:"0.5em"})})};export{bn as D,mn as a,Pn as b,nn as c,gn as u};
//# sourceMappingURL=date-picker-icon-ae905a10.js.map
