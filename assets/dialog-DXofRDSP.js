import{j as l}from"./jsx-runtime-X2b_N9AH.js";import{u as nt}from"./index-BOq3qL6F.js";import{r as g,R as qt}from"./index-uCp2LrAq.js";import{R as Vt}from"./Combination-DoJiKxax.js";import{S as Kt}from"./slide-BL4iJdk6.js";import{m as Yt}from"./motion-BNFRb361.js";import{f as Xt}from"./fade-CerVYwWU.js";import{f as C}from"./forward-ref-Dr5Hqd9a.js";import{ap as Zt,K as Jt,l as Se,t as ae,x as B,s as Qt,c as D,b as V,h as ot,a2 as zt,a3 as er,j as he}from"./factory-C0k1XOS4.js";import{C as tr}from"./close-button-DTKtpwJt.js";import{a as je}from"./use-component-style-C4YdD-0K.js";import{o as Be}from"./theme-provider-BBihJJCn.js";import{A as rr}from"./index-DSHhgXSs.js";import{P as nr}from"./container-portal-BTcKXCIS.js";import{_ as Oe,a as or,b as ar}from"./defineProperty-DWka64vn.js";import{d as Ne,c as sr,u as ur}from"./component-IvP1ueaU.js";import{M as cr}from"./motion-Q3KpEpwi.js";import{B as be}from"./button-CF6wtOZF.js";import{s as ue}from"./slide-fade-BU2eihth.js";import{s as ir}from"./scale-fade-DXq3KkLV.js";var De="data-focus-lock",at="data-focus-lock-disabled",lr="data-no-focus-lock",dr="data-autofocus-inside",fr="data-no-autofocus",ye={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"},st=Ne({},function(e){var t=e.target,r=e.currentTarget;return{target:t,currentTarget:r}}),ut=Ne(),vr=Ne(),mr=sr({async:!0,ssr:typeof document<"u"}),pr=g.createContext(void 0),hr=[],Ae=g.forwardRef(function(t,r){var n,o=g.useState(),a=o[0],s=o[1],i=g.useRef(),f=g.useRef(!1),u=g.useRef(null),m=g.useState({}),c=m[1],v=t.children,p=t.disabled,d=p===void 0?!1:p,h=t.noFocusGuards,x=h===void 0?!1:h,y=t.persistentFocus,F=y===void 0?!1:y,w=t.crossFrame,E=w===void 0?!0:w,k=t.autoFocus,M=k===void 0?!0:k;t.allowTextSelection;var A=t.group,P=t.className,S=t.whiteList,T=t.hasPositiveIndices,b=t.shards,_=b===void 0?hr:b,O=t.as,L=O===void 0?"div":O,j=t.lockProps,H=j===void 0?{}:j,R=t.sideCar,W=t.returnFocus,I=W===void 0?!1:W,me=t.focusOptions,X=t.onActivation,pe=t.onDeactivation,jt=g.useState({}),Bt=jt[0],Nt=g.useCallback(function(U){var Z=U.captureFocusRestore;if(!u.current){var J,G=(J=document)==null?void 0:J.activeElement;u.current=G,G!==document.body&&(u.current=Z(G))}i.current&&X&&X(i.current),f.current=!0,c()},[X]),At=g.useCallback(function(){f.current=!1,pe&&pe(i.current),c()},[pe]),Tt=g.useCallback(function(U){var Z=u.current;if(Z){var J=(typeof Z=="function"?Z():Z)||document.body,G=typeof I=="function"?I(J):I;if(G){var Ye=typeof G=="object"?G:void 0;u.current=null,U?Promise.resolve().then(function(){return J.focus(Ye)}):J.focus(Ye)}}},[I]),Lt=g.useCallback(function(U){f.current&&st.useMedium(U)},[]),Wt=ut.useMedium,Ut=g.useCallback(function(U){i.current!==U&&(i.current=U,s(U))},[]),Ht=Oe((n={},n[at]=d&&"disabled",n[De]=A,n),H),Ke=x!==!0,Rt=Ke&&x!=="tail",Gt=ur([r,Ut]),$t=g.useMemo(function(){return{observed:i,shards:_,enabled:!d,active:f.current}},[d,f.current,_,a]);return g.createElement(g.Fragment,null,Ke&&[g.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:d?-1:0,style:ye}),T?g.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:d?-1:1,style:ye}):null],!d&&g.createElement(R,{id:Bt,sideCar:mr,observed:a,disabled:d,persistentFocus:F,crossFrame:E,autoFocus:M,whiteList:S,shards:_,onActivation:Nt,onDeactivation:At,returnFocus:Tt,focusOptions:me}),g.createElement(L,Oe({ref:Gt},Ht,{className:P,onBlur:Wt,onFocus:Lt}),g.createElement(pr.Provider,{value:$t},v)),Rt&&g.createElement("div",{"data-focus-guard":!0,tabIndex:d?-1:0,style:ye}))});Ae.propTypes={};function ke(e,t){return ke=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},ke(e,t)}function br(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ke(e,t)}function yr(e,t){function r(n){return n.displayName||n.name||"Component"}return function(o){var a=[],s;function i(){s=e(a.map(function(u){return u.props})),t(s)}var f=function(u){br(m,u);function m(){return u.apply(this,arguments)||this}m.peek=function(){return s};var c=m.prototype;return c.componentDidMount=function(){a.push(this),i()},c.componentDidUpdate=function(){i()},c.componentWillUnmount=function(){var p=a.indexOf(this);a.splice(p,1),i()},c.render=function(){return qt.createElement(o,this.props)},m}(g.PureComponent);return or(f,"displayName","SideEffect("+r(o)+")"),f}}var N=function(e){for(var t=Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t},q=function(e){return Array.isArray(e)?e:[e]},ct=function(e){return Array.isArray(e)?e[0]:e},gr=function(e){if(e.nodeType!==Node.ELEMENT_NODE)return!1;var t=window.getComputedStyle(e,null);return!t||!t.getPropertyValue?!1:t.getPropertyValue("display")==="none"||t.getPropertyValue("visibility")==="hidden"},it=function(e){return e.parentNode&&e.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?e.parentNode.host:e.parentNode},lt=function(e){return e===document||e&&e.nodeType===Node.DOCUMENT_NODE},xr=function(e){return e.hasAttribute("inert")},wr=function(e,t){return!e||lt(e)||!gr(e)&&!xr(e)&&t(it(e))},dt=function(e,t){var r=e.get(t);if(r!==void 0)return r;var n=wr(t,dt.bind(void 0,e));return e.set(t,n),n},_r=function(e,t){return e&&!lt(e)?Or(e)?t(it(e)):!1:!0},ft=function(e,t){var r=e.get(t);if(r!==void 0)return r;var n=_r(t,ft.bind(void 0,e));return e.set(t,n),n},vt=function(e){return e.dataset},Cr=function(e){return e.tagName==="BUTTON"},mt=function(e){return e.tagName==="INPUT"},pt=function(e){return mt(e)&&e.type==="radio"},Fr=function(e){return!((mt(e)||Cr(e))&&(e.type==="hidden"||e.disabled))},Or=function(e){var t=e.getAttribute(fr);return![!0,"true",""].includes(t)},Te=function(e){var t;return!!(e&&(!((t=vt(e))===null||t===void 0)&&t.focusGuard))},Ee=function(e){return!Te(e)},Dr=function(e){return!!e},kr=function(e,t){var r=Math.max(0,e.tabIndex),n=Math.max(0,t.tabIndex),o=r-n,a=e.index-t.index;if(o){if(!r)return 1;if(!n)return-1}return o||a},Er=function(e){return e.tabIndex<0&&!e.hasAttribute("tabindex")?0:e.tabIndex},Le=function(e,t,r){return N(e).map(function(n,o){var a=Er(n);return{node:n,index:o,tabIndex:r&&a===-1?(n.dataset||{}).focusGuard?0:-1:a}}).filter(function(n){return!t||n.tabIndex>=0}).sort(kr)},Pr=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"],We=Pr.join(","),Ir="".concat(We,", [data-focus-guard]"),ht=function(e,t){return N((e.shadowRoot||e).children).reduce(function(r,n){return r.concat(n.matches(t?Ir:We)?[n]:[],ht(n))},[])},Mr=function(e,t){var r;return e instanceof HTMLIFrameElement&&(!((r=e.contentDocument)===null||r===void 0)&&r.body)?te([e.contentDocument.body],t):[e]},te=function(e,t){return e.reduce(function(r,n){var o,a=ht(n,t),s=(o=[]).concat.apply(o,a.map(function(i){return Mr(i,t)}));return r.concat(s,n.parentNode?N(n.parentNode.querySelectorAll(We)).filter(function(i){return i===n}):[])},[])},Sr=function(e){var t=e.querySelectorAll("[".concat(dr,"]"));return N(t).map(function(r){return te([r])}).reduce(function(r,n){return r.concat(n)},[])},Ue=function(e,t){return N(e).filter(function(r){return dt(t,r)}).filter(function(r){return Fr(r)})},Xe=function(e,t){return t===void 0&&(t=new Map),N(e).filter(function(r){return ft(t,r)})},He=function(e,t,r){return Le(Ue(te(e,r),t),!0,r)},le=function(e,t){return Le(Ue(te(e),t),!1)},jr=function(e,t){return Ue(Sr(e),t)},$=function(e,t){return e.shadowRoot?$(e.shadowRoot,t):Object.getPrototypeOf(e).contains!==void 0&&Object.getPrototypeOf(e).contains.call(e,t)?!0:N(e.children).some(function(r){var n;if(r instanceof HTMLIFrameElement){var o=(n=r.contentDocument)===null||n===void 0?void 0:n.body;return o?$(o,t):!1}return $(r,t)})},Br=function(e){for(var t=new Set,r=e.length,n=0;n<r;n+=1)for(var o=n+1;o<r;o+=1){var a=e[n].compareDocumentPosition(e[o]);(a&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&t.add(o),(a&Node.DOCUMENT_POSITION_CONTAINS)>0&&t.add(n)}return e.filter(function(s,i){return!t.has(i)})},bt=function(e){return e.parentNode?bt(e.parentNode):e},Re=function(e){var t=q(e);return t.filter(Boolean).reduce(function(r,n){var o=n.getAttribute(De);return r.push.apply(r,o?Br(N(bt(n).querySelectorAll("[".concat(De,'="').concat(o,'"]:not([').concat(at,'="disabled"])')))):[n]),r},[])},Nr=function(e){try{return e()}catch{return}},ne=function(e){if(e===void 0&&(e=document),!(!e||!e.activeElement)){var t=e.activeElement;return t.shadowRoot?ne(t.shadowRoot):t instanceof HTMLIFrameElement&&Nr(function(){return t.contentWindow.document})?ne(t.contentWindow.document):t}},Ar=function(e,t){return e===t},Tr=function(e,t){return!!N(e.querySelectorAll("iframe")).some(function(r){return Ar(r,t)})},yt=function(e,t){return t===void 0&&(t=ne(ct(e).ownerDocument)),!t||t.dataset&&t.dataset.focusGuard?!1:Re(e).some(function(r){return $(r,t)||Tr(r,t)})},Lr=function(e){e===void 0&&(e=document);var t=ne(e);return t?N(e.querySelectorAll("[".concat(lr,"]"))).some(function(r){return $(r,t)}):!1},Wr=function(e,t){return t.filter(pt).filter(function(r){return r.name===e.name}).filter(function(r){return r.checked})[0]||e},Ge=function(e,t){return pt(e)&&e.name?Wr(e,t):e},Ur=function(e){var t=new Set;return e.forEach(function(r){return t.add(Ge(r,e))}),e.filter(function(r){return t.has(r)})},Ze=function(e){return e[0]&&e.length>1?Ge(e[0],e):e[0]},Je=function(e,t){return e.indexOf(Ge(t,e))},Pe="NEW_FOCUS",Hr=function(e,t,r,n,o){var a=e.length,s=e[0],i=e[a-1],f=Te(n);if(!(n&&e.indexOf(n)>=0)){var u=n!==void 0?r.indexOf(n):-1,m=o?r.indexOf(o):u,c=o?e.indexOf(o):-1;if(u===-1)return c!==-1?c:Pe;if(c===-1)return Pe;var v=u-m,p=r.indexOf(s),d=r.indexOf(i),h=Ur(r),x=n!==void 0?h.indexOf(n):-1,y=x-(o?h.indexOf(o):u);if(!v&&c>=0||t.length===0)return c;var F=Je(e,t[0]),w=Je(e,t[t.length-1]);if(u<=p&&f&&Math.abs(v)>1)return w;if(u>=d&&f&&Math.abs(v)>1)return F;if(v&&Math.abs(y)>1)return c;if(u<=p)return w;if(u>d)return F;if(v)return Math.abs(v)>1?c:(a+c+v)%a}},Rr=function(e){return function(t){var r,n=(r=vt(t))===null||r===void 0?void 0:r.autofocus;return t.autofocus||n!==void 0&&n!=="false"||e.indexOf(t)>=0}},Qe=function(e,t,r){var n=e.map(function(a){var s=a.node;return s}),o=Xe(n.filter(Rr(r)));return o&&o.length?Ze(o):Ze(Xe(t))},Ie=function(e,t){return t===void 0&&(t=[]),t.push(e),e.parentNode&&Ie(e.parentNode.host||e.parentNode,t),t},ge=function(e,t){for(var r=Ie(e),n=Ie(t),o=0;o<r.length;o+=1){var a=r[o];if(n.indexOf(a)>=0)return a}return!1},gt=function(e,t,r){var n=q(e),o=q(t),a=n[0],s=!1;return o.filter(Boolean).forEach(function(i){s=ge(s||i,i)||s,r.filter(Boolean).forEach(function(f){var u=ge(a,f);u&&(!s||$(u,s)?s=u:s=ge(u,s))})}),s},ze=function(e,t){return e.reduce(function(r,n){return r.concat(jr(n,t))},[])},Gr=function(e,t){var r=new Map;return t.forEach(function(n){return r.set(n.node,n)}),e.map(function(n){return r.get(n)}).filter(Dr)},$r=function(e,t){var r=ne(q(e).length>0?document:ct(e).ownerDocument),n=Re(e).filter(Ee),o=gt(r||e,e,n),a=new Map,s=le(n,a),i=s.filter(function(d){var h=d.node;return Ee(h)});if(i[0]){var f=le([o],a).map(function(d){var h=d.node;return h}),u=Gr(f,i),m=u.map(function(d){var h=d.node;return h}),c=u.filter(function(d){var h=d.tabIndex;return h>=0}).map(function(d){var h=d.node;return h}),v=Hr(m,c,f,r,t);if(v===Pe){var p=Qe(s,c,ze(n,a))||Qe(s,m,ze(n,a));if(p)return{node:p};console.warn("focus-lock: cannot find any node to move focus into");return}return v===void 0?v:u[v]}},qr=function(e){var t=Re(e).filter(Ee),r=gt(e,e,t),n=Le(te([r],!0),!0,!0),o=te(t,!1);return n.map(function(a){var s=a.node,i=a.index;return{node:s,index:i,lockItem:o.indexOf(s)>=0,guard:Te(s)}})},$e=function(e,t){e&&("focus"in e&&e.focus(t),"contentWindow"in e&&e.contentWindow&&e.contentWindow.focus())},xe=0,we=!1,xt=function(e,t,r){r===void 0&&(r={});var n=$r(e,t);if(!we&&n){if(xe>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),we=!0,setTimeout(function(){we=!1},1);return}xe++,$e(n.node,r.focusOptions),xe--}};function re(e){if(!e)return null;if(typeof WeakRef>"u")return function(){return e||null};var t=e?new WeakRef(e):null;return function(){return(t==null?void 0:t.deref())||null}}var Vr=function(e){if(!e)return null;for(var t=[],r=e;r&&r!==document.body;)t.push({current:re(r),parent:re(r.parentElement),left:re(r.previousElementSibling),right:re(r.nextElementSibling)}),r=r.parentElement;return{element:re(e),stack:t,ownerDocument:e.ownerDocument}},Kr=function(e){var t,r,n,o,a;if(e)for(var s=e.stack,i=e.ownerDocument,f=new Map,u=0,m=s;u<m.length;u++){var c=m[u],v=(t=c.parent)===null||t===void 0?void 0:t.call(c);if(v&&i.contains(v)){for(var p=(r=c.left)===null||r===void 0?void 0:r.call(c),d=c.current(),h=v.contains(d)?d:void 0,x=(n=c.right)===null||n===void 0?void 0:n.call(c),y=He([v],f),F=(a=(o=h??(p==null?void 0:p.nextElementSibling))!==null&&o!==void 0?o:x)!==null&&a!==void 0?a:p;F;){for(var w=0,E=y;w<E.length;w++){var k=E[w];if(F!=null&&F.contains(k.node))return k.node}F=F.nextElementSibling}if(y.length)return y[0].node}}},Yr=function(e){var t=Vr(e);return function(){return Kr(t)}},Xr=function(e,t,r){if(!e||!t)return console.error("no element or scope given"),{};var n=q(t);if(n.every(function(s){return!$(s,e)}))return console.error("Active element is not contained in the scope"),{};var o=r?He(n,new Map):le(n,new Map),a=o.findIndex(function(s){var i=s.node;return i===e});if(a!==-1)return{prev:o[a-1],next:o[a+1],first:o[0],last:o[o.length-1]}},Zr=function(e,t){var r=t?He(q(e),new Map):le(q(e),new Map);return{first:r[0],last:r[r.length-1]}},Jr=function(e){return Object.assign({scope:document.body,cycle:!0,onlyTabbable:!0},e)},wt=function(e,t,r){t===void 0&&(t={});var n=Jr(t),o=Xr(e,n.scope,n.onlyTabbable);if(o){var a=r(o,n.cycle);a&&$e(a.node,n.focusOptions)}},Qr=function(e,t){t===void 0&&(t={}),wt(e,t,function(r,n){var o=r.next,a=r.first;return o||n&&a})},zr=function(e,t){t===void 0&&(t={}),wt(e,t,function(r,n){var o=r.prev,a=r.last;return o||n&&a})},_t=function(e,t,r){var n,o=Zr(e,(n=t.onlyTabbable)!==null&&n!==void 0?n:!0),a=o[r];a&&$e(a.node,t.focusOptions)},en=function(e,t){t===void 0&&(t={}),_t(e,t,"first")},tn=function(e,t){t===void 0&&(t={}),_t(e,t,"last")};function qe(e){setTimeout(e,1)}var rn=function(t){return t&&"current"in t?t.current:t},nn=function(){return document&&document.activeElement===document.body},on=function(){return nn()||Lr()},z=null,Q=null,ee=null,oe=!1,an=function(){return!0},sn=function(t){return(z.whiteList||an)(t)},un=function(t,r){ee={observerNode:t,portaledElement:r}},cn=function(t){return ee&&ee.portaledElement===t};function et(e,t,r,n){var o=null,a=e;do{var s=n[a];if(s.guard)s.node.dataset.focusAutoGuard&&(o=s);else if(s.lockItem){if(a!==e)return;o=null}else break}while((a+=r)!==t);o&&(o.node.tabIndex=0)}var ln=function(t){return t?!!oe:oe==="meanwhile"},dn=function e(t,r,n){return r&&(r.host===t&&(!r.activeElement||n.contains(r.activeElement))||r.parentNode&&e(t,r.parentNode,n))},fn=function(t,r){return r.some(function(n){return dn(t,n,n)})},de=function(){var t=!1;if(z){var r=z,n=r.observed,o=r.persistentFocus,a=r.autoFocus,s=r.shards,i=r.crossFrame,f=r.focusOptions,u=n||ee&&ee.portaledElement,m=document&&document.activeElement;if(u){var c=[u].concat(s.map(rn).filter(Boolean));if((!m||sn(m))&&(o||ln(i)||!on()||!Q&&a)&&(u&&!(yt(c)||m&&fn(m,c)||cn(m))&&(document&&!Q&&m&&!a?(m.blur&&m.blur(),document.body.focus()):(t=xt(c,Q,{focusOptions:f}),ee={})),oe=!1,Q=document&&document.activeElement),document&&m!==document.activeElement&&document.querySelector("[data-focus-auto-guard]")){var v=document&&document.activeElement,p=qr(c),d=p.map(function(h){var x=h.node;return x}).indexOf(v);d>-1&&(p.filter(function(h){var x=h.guard,y=h.node;return x&&y.dataset.focusAutoGuard}).forEach(function(h){var x=h.node;return x.removeAttribute("tabIndex")}),et(d,p.length,1,p),et(d,-1,-1,p))}}}return t},Ct=function(t){de()&&t&&(t.stopPropagation(),t.preventDefault())},Ve=function(){return qe(de)},vn=function(t){var r=t.target,n=t.currentTarget;n.contains(r)||un(n,r)},mn=function(){return null},Ft=function(){oe="just",qe(function(){oe="meanwhile"})},pn=function(){document.addEventListener("focusin",Ct),document.addEventListener("focusout",Ve),window.addEventListener("blur",Ft)},hn=function(){document.removeEventListener("focusin",Ct),document.removeEventListener("focusout",Ve),window.removeEventListener("blur",Ft)};function bn(e){return e.filter(function(t){var r=t.disabled;return!r})}var Ot={moveFocusInside:xt,focusInside:yt,focusNextElement:Qr,focusPrevElement:zr,focusFirstElement:en,focusLastElement:tn,captureFocusRestore:Yr};function yn(e){var t=e.slice(-1)[0];t&&!z&&pn();var r=z,n=r&&t&&t.id===r.id;z=t,r&&!n&&(r.onDeactivation(),e.filter(function(o){var a=o.id;return a===r.id}).length||r.returnFocus(!t)),t?(Q=null,(!n||r.observed!==t.observed)&&t.onActivation(Ot),de(),qe(de)):(hn(),Q=null)}st.assignSyncMedium(vn);ut.assignMedium(Ve);vr.assignMedium(function(e){return e(Ot)});const gn=yr(bn,yn)(mn);var Dt=g.forwardRef(function(t,r){return g.createElement(Ae,Oe({sideCar:gn,ref:r},t))}),kt=Ae.propTypes||{};kt.sideCar;ar(kt,["sideCar"]);Dt.propTypes={};const xn=Zt(Dt),wn=({initialFocusRef:e,finalFocusRef:t,contentRef:r,restoreFocus:n,children:o,isDisabled:a,autoFocus:s,persistentFocus:i,lockFocusAcrossFrames:f})=>{const u=g.useCallback(()=>{e!=null&&e.current?e.current.focus():r!=null&&r.current&&Jt(r.current).length===0&&requestAnimationFrame(()=>{var p;(p=r.current)==null||p.focus()})},[e,r]),m=g.useCallback(()=>{var v;(v=t==null?void 0:t.current)==null||v.focus()},[t]),c=n&&!t;return l.jsx(xn,{crossFrame:f,persistentFocus:i,autoFocus:s,disabled:a,onActivation:u,onDeactivation:m,returnFocus:c,children:o})},[_n,K]=Se({name:"DrawerContext",errorMessage:`useDrawer returned is 'undefined'. Seems you forgot to wrap the components in "<Drawer />" `}),Kn=C(({size:e,placement:t="right",closeOnDrag:r=!1,...n},o)=>{const[a,s]=je("Drawer",{size:e,placement:t,closeOnDrag:r,...n}),{children:i,isOpen:f,onClose:u,onOverlayClick:m,onEsc:c,onCloseComplete:v,withCloseButton:p=!r,withOverlay:d=!0,withDragBar:h=!0,allowPinchZoom:x,autoFocus:y,restoreFocus:F,initialFocusRef:w,finalFocusRef:E,blockScrollOnMount:k,closeOnOverlay:M,closeOnEsc:A,lockFocusAcrossFrames:P,duration:S={enter:.4,exit:.3},dragConstraints:T=0,dragElastic:b=.1,dragOffset:_=80,dragVelocity:O=100,blankForDragProps:L,portalProps:j,...H}=Be(s,["isFullHeight"]),R=ae(i),[W,...I]=B(R,Me);return l.jsx(_n,{value:a,children:l.jsxs(Pt,{ref:o,isOpen:f,onClose:u,onOverlayClick:m,onEsc:c,onCloseComplete:v,withCloseButton:!1,withOverlay:!1,allowPinchZoom:x,autoFocus:y,restoreFocus:F,initialFocusRef:w,finalFocusRef:E,blockScrollOnMount:k,closeOnOverlay:M,closeOnEsc:A,lockFocusAcrossFrames:P,duration:S,portalProps:j,children:[W??(d?l.jsx(Me,{}):null),l.jsx(Et,{dragConstraints:T,dragElastic:b,dragOffset:_,dragVelocity:O,withCloseButton:p,withDragBar:h,blankForDragProps:L,...H,placement:t,closeOnDrag:r,children:I})]})})}),Et=C(({className:e,children:t,placement:r,withCloseButton:n,withDragBar:o,closeOnDrag:a,dragConstraints:s,dragElastic:i,dragOffset:f,dragVelocity:u,blankForDragProps:m,...c},v)=>{const{isOpen:p,onClose:d,duration:h}=Y(),x=K(),y=nt(r),F=ae(t),[w,...E]=B(F,rt),k=g.useMemo(()=>{var L,j,H,R;const b=c.backgroundColor??c.bgColor??c.background??c.bg,_=((L=x.container)==null?void 0:L.backgroundColor)??((j=x.container)==null?void 0:j.bgColor)??((H=x.container)==null?void 0:H.background)??((R=x.container)==null?void 0:R.bg),O=b??_;return Qt(O)?O:[O]},[c,x]),M=g.useMemo(()=>{let b={};switch(y){case"top":b={top:"calc(-100dvh + 1px)",left:0,right:0};break;case"bottom":b={bottom:"calc(-100dvh + 1px)",left:0,right:0};break;case"left":b={left:"calc(-100% + 1px)",top:0,bottom:0};break;case"right":b={right:"calc(-100% + 1px)",top:0,bottom:0};break}const[_,O]=k;return{_after:{content:'""',display:"block",w:"100%",h:"100dvh",bg:_,position:"absolute",...b,...m},_dark:{_after:{bg:O}}}},[y,k,m]),A=g.useMemo(()=>({display:"flex",flexDirection:y==="top"||y==="bottom"?"column":"row",outline:0,...a?M:{},...x.container}),[M,a,y,x]),P=g.useCallback(b=>{switch(y){case"top":return{bottom:b};case"bottom":return{top:b};case"left":return{right:b};case"right":return{left:b}}},[y]),S=g.useCallback(()=>{switch(y){case"top":case"bottom":return"y";case"left":case"right":return"x"}},[y]),T=g.useCallback(b=>{switch(y){case"top":return b.velocity.y<=u*-1||b.offset.y<=f*-1;case"bottom":return b.velocity.y>=u||b.offset.y>=f;case"left":return b.velocity.x<=u*-1||b.offset.x<=f*-1;case"right":return b.velocity.x>=u||b.offset.x>=f}},[y,u,f]);return l.jsxs(Kt,{ref:v,className:D("ui-drawer",e),isOpen:p,placement:y,duration:h,drag:a?S():!1,dragConstraints:P(s),dragElastic:P(i),dragSnapToOrigin:!0,dragMomentum:!1,onDragEnd:(b,_)=>{T(_)&&(d==null||d())},tabIndex:-1,__css:A,...c,children:[w??(n&&d?l.jsx(rt,{}):null),o&&a&&(y==="bottom"||y==="right")?l.jsx(tt,{}):null,l.jsx(V.div,{className:"ui-drawer__inner",__css:{display:"flex",flexDirection:"column",...x.inner},children:E}),o&&a&&(y==="top"||y==="left")?l.jsx(tt,{}):null]})}),Me=C(({className:e,...t},r)=>{const o={...K().overlay};return l.jsx(fe,{ref:r,className:D("ui-drawer__overlay",e),__css:o,...t})}),tt=({className:e,...t})=>{const n={...K().dragBar};return l.jsx(V.div,{className:D("ui-drawer__drag-bar",e),__css:n,...t})},rt=C(({className:e,...t},r)=>{const o={...K().closeButton};return l.jsx(ve,{ref:r,className:D("ui-drawer__close-button",e),__css:o,...t})}),Yn=C(({className:e,...t},r)=>{const o={...K().header};return l.jsx(It,{ref:r,className:D("ui-drawer__header",e),__css:o,...t})}),Xn=C(({className:e,...t},r)=>{const o={...K().body};return l.jsx(Mt,{ref:r,className:D("ui-drawer__body",e),__css:o,...t})}),Zn=C(({className:e,...t},r)=>{const o={...K().footer};return l.jsx(St,{ref:r,className:D("ui-drawer__footer",e),__css:o,...t})}),[Cn,Y]=Se({name:"ModalContext",errorMessage:`useModal returned is 'undefined'. Seems you forgot to wrap the components in "<Modal />" `}),Pt=C(({size:e,...t},r)=>{const[n,o]=je("Modal",{size:e,...t}),{className:a,children:s,isOpen:i,onClose:f,onOverlayClick:u,onEsc:m,onCloseComplete:c,placement:v="center",outside:p="fallback(4, 1rem)",withCloseButton:d=!0,withOverlay:h=!0,allowPinchZoom:x=!1,scrollBehavior:y="inside",autoFocus:F,restoreFocus:w,initialFocusRef:E,finalFocusRef:k,blockScrollOnMount:M=!0,closeOnOverlay:A=!0,closeOnEsc:P=!0,lockFocusAcrossFrames:S=!0,animation:T="scale",duration:b,portalProps:_,...O}=Be(o),L=g.useCallback(X=>{X.key==="Escape"&&(X.stopPropagation(),P&&(f==null||f()),m==null||m())},[P,f,m]),j=ae(s),[H,...R]=B(j,fe,ce,Me);let[W]=B(j,Et);W&&(W=g.cloneElement(W,{onKeyDown:L}));const I=nt(v),me={position:"fixed",top:0,left:0,zIndex:"fallback(jeice, 110)",w:"100vw",h:"100dvh",p:e!=="full"?p:void 0,display:"flex",justifyContent:I.includes("left")?"flex-start":I.includes("right")?"flex-end":"center",alignItems:I.includes("top")?"flex-start":I.includes("bottom")?"flex-end":"center"};return l.jsx(Cn,{value:{isOpen:i,onClose:f,onOverlayClick:u,withCloseButton:d,scrollBehavior:y,closeOnOverlay:A,animation:T,duration:b,styles:n},children:l.jsx(rr,{onExitComplete:c,children:i?l.jsx(nr,{..._,children:l.jsx(wn,{autoFocus:F,initialFocusRef:E,finalFocusRef:k,restoreFocus:w,lockFocusAcrossFrames:S,children:l.jsx(Vt,{allowPinchZoom:x,enabled:M,forwardProps:!0,children:l.jsxs(V.div,{__css:me,children:[H??(h&&e!=="full"?l.jsx(fe,{}):null),W??l.jsx(On,{ref:r,className:a,onKeyDown:L,...O,children:R})]})})})}):null})})}),Fn=(e="scale",t)=>{switch(e){case"scale":return{...ir,custom:{scale:.95,reverse:!0,duration:t}};case"top":return{...ue,custom:{offsetY:-16,reverse:!0,duration:t}};case"right":return{...ue,custom:{offsetX:16,reverse:!0,duration:t}};case"left":return{...ue,custom:{offsetX:-16,reverse:!0,duration:t}};case"bottom":return{...ue,custom:{offsetY:16,reverse:!0,duration:t}}}},On=C(({className:e,children:t,__css:r,...n},o)=>{const{styles:a,scrollBehavior:s,withCloseButton:i,onClose:f,animation:u,duration:m}=Y(),c=ae(t),[v,...p]=B(c,ve,ie),d=u!=="none"?Fn(u,m):{},h={position:"relative",maxH:"100%",display:"flex",flexDirection:"column",overflow:s==="inside"?"hidden":"auto",outline:0,...r||a.container};return l.jsxs(cr,{as:"section",ref:o,className:D("ui-modal",e),tabIndex:-1,__css:h,...d,...n,children:[v??(i&&f?l.jsx(ve,{}):null),p]})}),fe=C(({className:e,__css:t,onClick:r,...n},o)=>{const{styles:a,closeOnOverlay:s,onOverlayClick:i,onClose:f,animation:u,duration:m}=Y(),c={position:"fixed",top:0,left:0,w:"100vw",h:"100vh",...t||a.overlay},v=u!=="none"?Xt:{};return l.jsx(V.div,{as:Yt.div,ref:o,className:D("ui-modal__overlay",e),custom:{duration:m},__css:c,onClick:ot(r,i,p=>{p.stopPropagation(),s&&(f==null||f())}),...v,...n})}),ve=C(({onClick:e,__css:t,...r},n)=>{const{styles:o,onClose:a}=Y(),s={position:"absolute",...t||o.closeButton};return l.jsx(tr,{ref:n,className:D("ui-modal__close-button"),__css:s,onClick:ot(e,i=>{i.stopPropagation(),a==null||a()}),...r})}),It=C(({className:e,__css:t,...r},n)=>{const{styles:o}=Y(),a={display:"flex",alignItems:"center",justifyContent:"flex-start",...t||o.header};return l.jsx(V.header,{ref:n,className:D("ui-modal__header",e),__css:a,...r})}),Mt=C(({className:e,__css:t,...r},n)=>{const{styles:o,scrollBehavior:a}=Y(),s={display:"flex",flexDirection:"column",alignItems:"flex-start",overflow:a==="inside"?"auto":void 0,...t||o.body};return l.jsx(V.div,{ref:n,className:D("ui-modal__body",e),__css:s,...r})}),St=C(({className:e,__css:t,...r},n)=>{const{styles:o}=Y(),a={display:"flex",alignItems:"center",justifyContent:"flex-end",...t||o.footer};return l.jsx(V.footer,{ref:n,className:D("ui-modal__footer",e),__css:a,...r})}),[Dn,se]=Se({name:"DialogContext",errorMessage:`useDialog returned is 'undefined'. Seems you forgot to wrap the components in "<Dialog />" `}),Jn=C(({size:e,...t},r)=>{const[n,o]=je("Dialog",{size:e,...t}),{className:a,children:s,withOverlay:i=!0,withCloseButton:f=!0,header:u,footer:m,cancel:c,other:v,success:p,onClose:d,onCancel:h,onOther:x,onSuccess:y,...F}=Be(o),w=ae(s),[E]=B(w,ce),[k]=B(w,ie),[M]=B(w,_e),[A]=B(w,Ce),[P]=B(w,Fe),S=zt(w)?s:er(w,ce,ie,_e,Ce,Fe),T={...n.container},b=he(c)?{children:c}:c,_=he(v)?{children:v}:v,O=he(p)?{children:p}:p;return b&&!b.variant&&(b.variant="ghost"),_&&!_.colorScheme&&(_.colorScheme="secondary"),O&&!O.colorScheme&&(O.colorScheme="primary"),l.jsx(Dn,{value:n,children:l.jsxs(Pt,{ref:r,className:D("ui-dialog",a),__css:T,size:e,onClose:d,withOverlay:!1,withCloseButton:!1,...F,children:[E??(i&&e!=="full"?l.jsx(ce,{}):null),k??(f&&d?l.jsx(ie,{}):null),M??(u?l.jsx(_e,{children:u}):null),A??(S?l.jsx(Ce,{children:S}):null),P??(m||b||_||O?l.jsx(Fe,{children:m??l.jsxs(l.Fragment,{children:[b?l.jsx(be,{onClick:()=>h==null?void 0:h(d),...b}):null,_?l.jsx(be,{onClick:()=>x==null?void 0:x(d),..._}):null,O?l.jsx(be,{onClick:()=>y==null?void 0:y(d),...O}):null]})}):null)]})})}),ce=C(({className:e,...t},r)=>{const o={...se().overlay};return l.jsx(fe,{ref:r,className:D("ui-dialog__overlay",e),__css:o,...t})}),ie=C(({className:e,...t},r)=>{const o={...se().closeButton};return l.jsx(ve,{ref:r,className:D("ui-dialog__close-button",e),__css:o,...t})}),_e=C(({className:e,...t},r)=>{const o={...se().header};return l.jsx(It,{ref:r,className:D("ui-dialog__header",e),__css:o,...t})}),Ce=C(({className:e,...t},r)=>{const o={...se().body};return l.jsx(Mt,{ref:r,className:D("ui-dialog__body",e),__css:o,...t})}),Fe=C(({className:e,...t},r)=>{const o={...se().footer};return l.jsx(St,{ref:r,className:D("ui-dialog__footer",e),__css:o,...t})});export{Jn as D,Pt as M,_e as a,Ce as b,Fe as c,ie as d,ce as e,Kn as f,Yn as g,Xn as h,Zn as i,rt as j,Me as k,It as l,Mt as m,St as n,ve as o,fe as p};
