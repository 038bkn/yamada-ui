import{j as l,a as ae}from"./jsx-runtime-5BUNAZ9W.js";import{t as se}from"./index-MPIwD8us.js";import{r as o}from"./index-4g5l5LRQ.js";import{u as oe}from"./index-JMKbXlj-.js";import{a as z,u as ie,g as X,f as H}from"./form-control-oXY4zBAU.js";import{g as B,c as ce,v as le,a as J,o as A,p as W,Z as re,u as R,b as N,e as ue,Q as E,w as Q,K as w,h as b}from"./factory-Ddmu4EkR.js";import{A as de}from"./index-eMn_GZVX.js";import{m as j}from"./motion-heeYkzTb.js";import{u as he}from"./use-component-style-zqeBCG90.js";import{o as fe}from"./theme-provider-ePNg-PER.js";import{F as me}from"./flex-pp4-y531.js";const Z=n=>n&&W(n)&&W(n.target),Ce=({isNative:n,...u})=>{u.onChange=B(u.onChange);const[e,c]=oe({value:u.value,defaultValue:u.defaultValue||[],onChange:u.onChange}),d=o.useCallback(a=>{const m=Z(a)?a.target.checked:!e.includes(a),i=Z(a)?a.target.value:a,s=m?[...e,i]:e.filter(y=>String(y)!==String(i));c(s)},[e,c]),x=o.useCallback((a,m=null)=>({...a,ref:m,[n?"checked":"isChecked"]:e.some(i=>String(a==null?void 0:a.value)===String(i)),onChange:d}),[d,n,e]);return{value:e,setValue:c,onChange:d,getCheckboxProps:x}},[ke,be]=ce({strict:!1,name:"CheckboxGroupContext"}),ve=o.forwardRef(({className:n,size:u,variant:e,colorScheme:c,children:d,items:x=[],direction:a="column",gap:m,...i},s)=>{const{value:y,onChange:I}=Ce(i),{isRequired:D,isReadOnly:p,isDisabled:P,isInvalid:S}=z(i),h=le(d);let v=[];return!h.length&&x.length&&(v=x.map(({label:C,value:r,...F},_)=>l(Y,{value:r,...F,children:C},_))),l(ke,{value:{size:u,variant:e,colorScheme:c,isRequired:D,isReadOnly:p,isDisabled:P,isInvalid:S,value:y,onChange:I},children:l(me,{ref:s,className:J("ui-checkbox-group",n),role:"group",direction:a,gap:m??(a==="row"?"1rem":void 0),...A(i,["value","defaultValue","onChange","isInvalid","isDisabled","isRequired","isReadOnly"]),children:d??v})})});ve.displayName="CheckboxGroup";const ge=n=>{const{name:u,value:e,defaultIsChecked:c,tabIndex:d,required:x,disabled:a,readOnly:m,isIndeterminate:i,...s}=ie(n),y=n.id||o.useId(),[I,D]=o.useState(!1),[p,P]=o.useState(!1),[S,h]=o.useState(!1),[v,C]=o.useState(!1),r=o.useRef(null),[F,_]=o.useState(!0),[L,M]=o.useState(!!c),q=n.isChecked!==void 0,k=q?n.isChecked:L,K=B(t=>{var g;if(m||a){t.preventDefault();return}q||M(!k||i?!0:t.target.checked),(g=s.onChange)==null||g.call(s,t)},[m,a,q,k,i]),G=B(s.onBlur),U=B(s.onFocus),V=o.useCallback(({key:t})=>{t===" "&&C(!0)},[C]),O=o.useCallback(({key:t})=>{t===" "&&C(!1)},[C]);o.useEffect(()=>se(D),[]),N(()=>{r.current&&(r.current.indeterminate=!!i)},[i]),ue(()=>{a&&P(!1)},[a,P]),N(()=>{var t;(t=r.current)!=null&&t.form&&(r.current.form.onreset=()=>M(!!c))},[]),N(()=>{r.current&&r.current.checked!==k&&M(r.current.checked)},[r.current]);const $=o.useCallback((t={},g=null)=>({...E(s,X({omit:["aria-readonly"]})),...t,ref:Q(g,f=>{f&&_(f.tagName==="LABEL")}),"data-checked":w(k),onClick:b(t.onClick,()=>{var f;F||((f=r.current)==null||f.click(),requestAnimationFrame(()=>{var T;return(T=r.current)==null?void 0:T.focus()}))})}),[k,F,s]),ee=o.useCallback((t={},g=null)=>({...E(s,H),...t,ref:g,"data-active":w(v),"data-hover":w(S),"data-checked":w(k),"data-focus":w(p),"data-focus-visible":w(p&&I),"data-indeterminate":w(i),"aria-hidden":!0,onMouseDown:b(t.onMouseDown,f=>{p&&f.preventDefault(),C(!0)}),onMouseUp:b(t.onMouseUp,()=>C(!1)),onMouseEnter:b(t.onMouseEnter,()=>h(!0)),onMouseLeave:b(t.onMouseLeave,()=>h(!1))}),[v,k,p,S,I,i,s]),te=o.useCallback((t={},g=null)=>({...E(s,H),...t,ref:Q(r,g),id:y,type:"checkbox",name:u,value:e,tabIndex:d,required:x,disabled:a,readOnly:m,checked:k,style:{border:"0px",clip:"rect(0px, 0px, 0px, 0px)",height:"1px",width:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},onChange:b(t.onChange,K),onBlur:b(t.onBlur,G,()=>P(!1)),onFocus:b(t.onFocus,U,()=>P(!0)),onKeyDown:b(t.onKeyDown,V),onKeyUp:b(t.onKeyUp,O)}),[s,y,u,e,d,x,a,m,k,K,G,U,V,O]),ne=o.useCallback((t={},g=null)=>({...E(s,X({omit:["aria-readonly"]})),...t,ref:g,"data-checked":w(k),onMouseDown:b(t.onMouseDown,f=>{f.preventDefault(),f.stopPropagation()}),onTouchStart:b(t.onTouchStart,f=>{f.preventDefault(),f.stopPropagation()})}),[k,s]);return{isFocusVisible:I,isFocused:p,isHovered:S,isActive:v,isChecked:k,isIndeterminate:i,getContainerProps:$,getIconProps:ee,getInputProps:te,getLabelProps:ne}},Y=o.forwardRef((n,u)=>{const e=be(),c=z(n),[d,x]=he("Checkbox",{...e?A(e,["value"]):{},...n}),{className:a,gap:m="0.5rem",isRequired:i=(e==null?void 0:e.isRequired)??c.isRequired,isReadOnly:s=(e==null?void 0:e.isReadOnly)??c.isReadOnly,isDisabled:y=(e==null?void 0:e.isDisabled)??c.isDisabled,isInvalid:I=(e==null?void 0:e.isInvalid)??c.isInvalid,iconProps:D,inputProps:p,labelProps:P,children:S,...h}=fe(x),{isChecked:v,isIndeterminate:C,getContainerProps:r,getInputProps:F,getIconProps:_,getLabelProps:L}=ge({...h,isRequired:i,isReadOnly:s,isDisabled:y,isInvalid:I,isChecked:e!=null&&e.value&&h.value?e.value.includes(h.value):h.isChecked,onChange:e!=null&&e.onChange&&h.value?re(e.onChange,h.onChange):h.onChange}),M=o.cloneElement((D==null?void 0:D.children)??l(xe,{}),{__css:{opacity:v||C?1:0,transform:v||C?"scale(1)":"scale(0.95)",transitionProperty:"transform",transitionDuration:"normal"},isIndeterminate:C,isChecked:v,isRequired:i,isReadOnly:s,isDisabled:y,isInvalid:I});return ae(R.label,{className:J("ui-checkbox",a),...r(),__css:{cursor:"pointer",position:"relative",display:"inline-flex",alignItems:"center",verticalAlign:"top",gap:m,...d.container},...A(h,["id","name","value","defaultValue","defaultIsChecked","isChecked","isIndeterminate","onChange","onBlur","onFocus","tabIndex"]),children:[l(R.input,{className:"ui-checkbox__input",...F(p,u)}),l(R.span,{className:"ui-checkbox__icon",__css:{pointerEvents:s?"none":void 0,position:"relative",display:"inline-block",userSelect:"none",...d.icon},..._(A(D??{children:void 0},["children"])),children:M}),l(R.span,{className:"ui-checkbox__label",__css:{...d.label},...L(P),children:S})]})});Y.displayName="Checkbox";const xe=({isIndeterminate:n,isChecked:u,...e})=>{const c=A(e,["isRequired","isReadOnly","isDisabled","isInvalid"]);return l(de,{initial:!1,children:n||u?l(R.div,{__css:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:l(R.div,{as:j.div,variants:{unchecked:{scale:.5},checked:{scale:1}},initial:"unchecked",animate:"checked",exit:"unchecked",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:n?l(pe,{...c}):l(ye,{...c})})}):null})},ye=n=>l(R.svg,{as:j.svg,width:"1.2em",viewBox:"0 0 12 10",variants:{unchecked:{opacity:0,strokeDashoffset:16},checked:{opacity:1,strokeDashoffset:0,transition:{duration:.2}}},style:{fill:"none",strokeWidth:2,stroke:"currentColor",strokeDasharray:16},...n,children:l("polyline",{points:"1.5 6 4.5 9 10.5 1"})}),pe=n=>l(R.svg,{as:j.svg,width:"1.2em",viewBox:"0 0 24 24",variants:{unchecked:{scaleX:.65,opacity:0},checked:{scaleX:1,opacity:1,transition:{scaleX:{duration:0},opacity:{duration:.02}}}},style:{stroke:"currentColor",strokeWidth:4},...n,children:l("line",{x1:"21",x2:"3",y1:"12",y2:"12"})});export{Y as C,ve as a,ge as b,Ce as u};
