import{j as l}from"./jsx-runtime-29545a09.js";import{r as c}from"./index-76fb7be0.js";import{r as p}from"./index-d3ea75b5.js";import{o as v,f as d}from"./factory-5f559ecf.js";const m=({containerRef:a,appendToParentPortal:u=!0,children:r})=>a?l(E,{containerRef:a,children:r}):l(x,{appendToParentPortal:u,children:r});m.className="ui-portal";m.selector=".ui-portal";const[P,C]=v({strict:!1,name:"PortalContext"}),x=({appendToParentPortal:a,children:u})=>{const[r,s]=c.useState(null),t=c.useRef(null),[,e]=c.useState({});c.useEffect(()=>e({}),[]);const i=C();return d(()=>{if(!r)return;const{ownerDocument:o}=r,n=a?i??o.body:o.body;if(!n)return;t.current=o.createElement("div"),t.current.className="ui-portal",n.appendChild(t.current),e({});const f=t.current;return()=>{n.contains(f)&&n.removeChild(f)}},[r]),t.current?p.createPortal(l(P,{value:t.current,children:u}),t.current):l("span",{ref:o=>o?s(o):void 0})},E=({children:a,containerRef:u,appendToParentPortal:r})=>{const s=u.current,t=s??(typeof window<"u"?document.body:void 0),e=c.useMemo(()=>{if(!s)return;const{ownerDocument:o}=s,n=o.createElement("div");return n&&(n.className="ui-portal"),n},[s]),[,i]=c.useState({});return d(()=>i({}),[]),d(()=>{if(!(!e||!t))return t.appendChild(e),()=>{t.removeChild(e)}},[e,t]),t&&e?p.createPortal(l(P,{value:r?e:null,children:a}),e):null};export{m as P};
//# sourceMappingURL=container-portal-e944bb4d.js.map
