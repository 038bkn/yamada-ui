import{j as r}from"./jsx-runtime-X2b_N9AH.js";import{u as ae}from"./index-CFNUJ1Et.js";import{u as f}from"./index-Bsst9ig-.js";import{u as ue}from"./index-D-IUPrlH.js";import{u as me}from"./index-EeaiSQBv.js";import{r as o}from"./index-uCp2LrAq.js";import{A as pe}from"./index-DSHhgXSs.js";import{P as fe}from"./container-portal-BTcKXCIS.js";import{m as de}from"./motion-BNFRb361.js";import{s as d}from"./slide-fade-fJdQ7YQD.js";import{s as xe}from"./scale-fade-DXq3KkLV.js";import{f as he}from"./forward-ref-Dr5Hqd9a.js";import{u as ve}from"./use-component-style-BxdeC6kK.js";import{o as Ce}from"./theme-provider-DuMcMORV.js";import{z as R,A as z,a as Pe,h as m,b as C,c as be}from"./factory-C0k1XOS4.js";const ge=(l="scale",x)=>{const i={reverse:!0,duration:x,enter:{visibility:"visible"},transitionEnd:{exit:{visibility:"hidden"}}};switch(l){case"scale":return{...xe,custom:{...i,scale:.95}};case"top":return{...d,custom:{...i,offsetY:-16}};case"right":return{...d,custom:{...i,offsetX:16}};case"left":return{...d,custom:{...i,offsetX:-16}};case"bottom":return{...d,custom:{...i,offsetY:16}}}},We=he(({closeOnPointerDown:l,z:x,zIndex:i,portalProps:F,withPortal:A=!0,..._},N)=>{let[{z:W,zIndex:B,...S},X]=ve("Tooltip",_);const{className:Y,children:P,label:h,placement:K,modifiers:L,gutter:M,offset:Z,openDelay:b=0,closeDelay:g=0,isDisabled:O,closeOnClick:y,closeOnScroll:q,closeOnMouseDown:G,closeOnEsc:H=!0,animation:T,duration:J,isOpen:Q,defaultIsOpen:U,onOpen:V,onClose:$,...ee}=Ce(X);l=G;const{isOpen:t,onOpen:k,onClose:w}=ae({isOpen:Q,defaultIsOpen:U,onOpen:V,onClose:$}),n=o.useRef(null),c=o.useRef(),a=o.useRef(),{referenceRef:D,getPopperProps:oe,transformOrigin:te}=me({enabled:t,placement:K,modifiers:L,gutter:M,offset:Z}),u=o.useCallback(()=>{a.current&&(clearTimeout(a.current),a.current=void 0),w()},[w]),p=o.useCallback(()=>{if(!O&&!c.current){t&&u();const e=R(n.current);c.current=e.setTimeout(k,b)}},[O,t,b,u,k]),s=o.useCallback(()=>{c.current&&(clearTimeout(c.current),c.current=void 0);const e=R(n.current);a.current=e.setTimeout(u,g)},[g,u]),E=o.useCallback(()=>t&&y?s():void 0,[t,y,s]),j=o.useCallback(()=>t&&l?s():void 0,[t,l,s]),se=o.useCallback(e=>t&&e.key==="Escape"?s():void 0,[t,s]);f(()=>z(n.current),"keydown",e=>H?se(e):void 0),f(()=>z(n.current),"scroll",()=>t&&q?u():void 0),f(()=>n.current,"pointerleave",e=>{e.pointerType!=="touch"&&s()}),f(()=>n.current,"touchstart",()=>{t?s():p()},{passive:!0}),ue({ref:n,handler:()=>{s()}}),o.useEffect(()=>()=>{clearTimeout(c.current),clearTimeout(a.current)},[]);const re=o.useCallback((e={},le=null)=>({...e,ref:Pe(n,le,D),onPointerEnter:m(e.onPointerEnter,p),onClick:m(e.onClick,E),onPointerDown:m(e.onPointerDown,j),onFocus:m(e.onFocus,p),onBlur:m(e.onBlur,s)}),[D,E,j,p,s]),I=o.useId(),v=o.Children.only(P),ne=o.cloneElement(v,re({...v.props,"aria-describedby":I},v.ref)),ie={position:"relative",...S};if(!h)return r.jsx(r.Fragment,{children:P});const ce=i??x??B??W;return r.jsxs(r.Fragment,{children:[ne,r.jsx(C.span,{id:I,__css:{display:"none"},children:h}),r.jsx(pe,{children:t?r.jsx(fe,{isDisabled:!A,...F,children:r.jsx(C.div,{...oe(),zIndex:ce,pointerEvents:"none",children:r.jsx(C.div,{as:de.div,ref:N,className:be("ui-tooltip",Y),style:{transformOrigin:te},...T!=="none"?ge(T,J):{},initial:"exit",animate:t?"enter":"exit",exit:"exit",__css:ie,...ee,role:"tooltip",children:h})})}):null})]})});export{We as T};
