import{a as d,j as a}from"./jsx-runtime-TtYKBvr-.js";import{r as n}from"./index-IybTgENJ.js";import{b as m}from"./factory-KjDUWRxd.js";const f={getDocument:()=>document,getWindow:()=>window},s=n.createContext(f),l=({children:o,environment:e,disabled:r})=>{const u=n.useRef(null),c=n.useMemo(()=>e||{getDocument:()=>{var t;return((t=u.current)==null?void 0:t.ownerDocument)??document},getWindow:()=>{var t;return((t=u.current)==null?void 0:t.ownerDocument.defaultView)??window}},[e]),i=!r||!e;return d(s.Provider,{value:c,children:[o,i?a("span",{id:"__ui_dev",hidden:!0,ref:u}):null]})};l.displayName="EnvironmentProvider";const x=({isDefer:o}={})=>{const[,e]=n.useReducer(r=>r+1,0);return m(()=>{o&&e()},[o]),n.useContext(s)};export{l as E,x as u};
