import{a as f,j as g}from"./jsx-runtime-b08f8875.js";import{r as v}from"./index-8ee6c85d.js";import{A as j,a as I,b as O,c as C}from"./alert-45c11755.js";import{C as R}from"./close-button-c3c62f4e.js";import{u as w}from"./theme-provider-78d359c6.js";import{m as b,e as B,d as E}from"./factory-2d442159.js";const L=(c,n)=>c.find(l=>l.id===n),N=(c,n)=>{const l=A(c,n),t=l?c[l].findIndex(e=>e.id===n):-1;return{placement:l,index:t}},A=(c,n)=>{for(const[l,t]of Object.entries(c))if(L(t,n))return l};let x=0;const T=(c,{id:n,placement:l="top",duration:t,onCloseComplete:e,status:o,style:s})=>(x+=1,n=n??x,{id:n,placement:l,status:o,duration:t,message:c,onDelete:()=>m.remove(String(n),l),isDelete:!1,onCloseComplete:e,style:s}),_=c=>{const{component:n}=c;return t=>typeof n=="function"?n({...t,...c}):f(F,{...t,...c})},k=(c,n)=>{var o;const l=((o=n.__config.notice)==null?void 0:o.options)??{},t=s=>b(l,b(c,s)),e=(s={})=>{s=t(s);const r=_(s);return m.create(r,s)};return e.update=(s,r)=>{r=t(r),m.update(s,r)},e.closeAll=m.closeAll,e.close=m.close,e.isActive=m.isActive,e},Q=c=>{const{theme:n}=w();return v.useMemo(()=>k(c??{},n),[c,n])},y={top:[],"top-left":[],"top-right":[],bottom:[],"bottom-left":[],"bottom-right":[]},z=c=>{let n=c;const l=new Set,t=e=>{n=e(n),l.forEach(o=>o())};return{getSnapshot:()=>n,subscribe:e=>(l.add(e),()=>{t(()=>c),l.delete(e)}),remove:(e,o)=>{t(s=>({...s,[o]:s[o].filter(r=>r.id!=e)}))},create:(e,o)=>{const s=(o.limit??0)-1,r=T(e,o),{placement:i,id:u}=r;return t(h=>{let a=h[i]??[];if(s>0&&a.length>s){const p=a.length-s,S=(i.includes("top")?a.slice(p*-1):a.slice(0,p)).map(({id:d})=>d);a=a.map(d=>S.includes(d.id)?{...d,isDelete:!0}:d)}const D=i.includes("top")?[r,...a]:[...a,r];return{...h,[i]:D}}),u},update:(e,o)=>{t(s=>{const r={...s},{placement:i,index:u}=N(r,e);return i&&u!==-1&&(r[i][u]={...r[i][u],...o,message:_(o)}),r})},closeAll:({placement:e}={})=>{t(o=>{let s=["bottom","bottom-right","bottom-left","top","top-left","top-right"];return e&&(s=e),s.reduce((r,i)=>(r[i]=o[i].map(u=>({...u,isDelete:!0})),r),{...o})})},close:e=>{t(o=>{const s=A(o,e);return s?{...o,[s]:o[s].map(r=>r.id==e?{...r,isDelete:!0}:r)}:o})},isActive:e=>!!N(m.getSnapshot(),e).placement}},m=z(y),F=({variant:c="basic",colorScheme:n,status:l,icon:t,title:e,description:o,isClosable:s,className:r,onClose:i})=>g(j,{status:l,variant:c,colorScheme:n,alignItems:"start",boxShadow:"lg",className:B("ui-notice",r),pe:s?8:void 0,children:[f(I,{variant:t==null?void 0:t.variant,className:"ui-notice__icon",...t!=null&&t.color?{color:t.color}:{},children:t==null?void 0:t.children}),g(E.div,{flex:"1",children:[e?f(O,{className:"ui-notice__title",noOfLines:1,children:e}):null,o?f(C,{className:"ui-notice__desc",noOfLines:3,children:o}):null]}),s?f(R,{className:"ui-notice__close-button",size:"sm",onClick:i,position:"absolute",top:2,right:2}):null]});export{m as n,Q as u};
//# sourceMappingURL=notice-646a3bda.js.map
