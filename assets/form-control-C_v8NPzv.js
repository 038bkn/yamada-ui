import{j as n}from"./jsx-runtime-CKrituN3.js";import{r as M}from"./index-CBqU2yxZ.js";import{r as N,x as k,z as j,u as v,c as C,A as d,B as b,h as P}from"./factory-CG-dRo5g.js";import{f as h}from"./forward-ref-DuAegr0M.js";import{a as G}from"./use-component-style-l21esVYr.js";import{o as J}from"./theme-provider-9qkSZ5k2.js";const[K,x]=N({strict:!1,name:"FormControlContext"}),[Q,g]=N({strict:!1,name:"FormControlStyleContext"}),rs=h(({id:a,...s},r)=>{const[i,t]=G("FormControl",s),{className:o,isRequired:l=!1,isDisabled:c=!1,isInvalid:u=!1,isReadOnly:m=!1,isReplace:f=!0,label:e,helperMessage:y,errorMessage:_,children:F,requiredIndicator:p,optionalIndicator:S,...A}=J(t);a??(a=M.useId());const[q,I]=M.useState(!1),R=k(F),[H]=j(R,E),[L]=j(R,B),[O]=j(R,D),V=!!H,w=!!L,z=!!O,T={...i.container};return n.jsx(K,{value:{id:a,isFocused:q,isRequired:l,isDisabled:c,isInvalid:u,isReadOnly:m,isReplace:f,onFocus:()=>I(!0),onBlur:()=>I(!1)},children:n.jsx(Q,{value:i,children:n.jsxs(v.div,{ref:r,className:C("ui-form__control",o),role:"group","data-focus":d(q),"data-disabled":d(c),"data-invalid":d(u),"data-readonly":d(m),__css:T,...A,children:[!V&&e?n.jsx(E,{requiredIndicator:p,optionalIndicator:S,children:e}):null,F,!w&&y?n.jsx(B,{children:y}):null,!z&&_?n.jsx(D,{children:_}):null]})})})}),is=a=>{const s=x(),r=a.id??(s==null?void 0:s.id),i=a.disabled??a.isDisabled??(s==null?void 0:s.isDisabled),t=a.readOnly??a.isReadOnly??(s==null?void 0:s.isReadOnly),o=a.required??a.isRequired??(s==null?void 0:s.isRequired),l=a.isInvalid??(s==null?void 0:s.isInvalid);return{id:r,isDisabled:i,isReadOnly:t,isRequired:o,isInvalid:l}},ts=({id:a,disabled:s,readOnly:r,required:i,isDisabled:t,isReadOnly:o,isRequired:l,isInvalid:c,onFocus:u,onBlur:m,...f})=>{const e=x();return s??(s=t??(e==null?void 0:e.isDisabled)),i??(i=l??(e==null?void 0:e.isRequired)),r??(r=o??(e==null?void 0:e.isReadOnly)),c??(c=e==null?void 0:e.isInvalid),{id:a??(e==null?void 0:e.id),disabled:s,required:i,readOnly:r,"aria-disabled":b(s),"aria-readonly":b(r),"aria-required":b(i),"aria-invalid":b(c),"data-readonly":d(r),onFocus:P(e==null?void 0:e.onFocus,u),onBlur:P(e==null?void 0:e.onBlur,m),...s||r?{_hover:{},_active:{},_focus:{},_invalid:{},_focusVisible:{}}:{},...f}},U=["disabled","required","readOnly","aria-disabled","aria-readonly","aria-required","aria-invalid","data-readonly","onFocus","onBlur","_hover","_active","_focus","_invalid","_focusVisible"],W=U,os=({omit:a=[],pick:s=[]})=>{let r=W;return s.length&&(r=r.filter(i=>s.includes(i))),a.length&&(r=r.filter(i=>!a.includes(i))),r},E=h(({className:a,htmlFor:s,isRequired:r,requiredIndicator:i=n.jsx(X,{}),optionalIndicator:t=null,children:o,...l},c)=>{const{id:u,isRequired:m,isFocused:f,isDisabled:e,isInvalid:y,isReadOnly:_}=x()??{},F=g()??{};r??(r=m);const p={display:"block",pointerEvents:_?"none":void 0,...F.label};return n.jsxs(v.label,{ref:c,className:C("ui-form__label",a),"data-focus":d(f),"data-disabled":d(e),"data-readonly":d(_),"data-invalid":d(y),htmlFor:s??u,__css:p,style:{cursor:e?"not-allowed":void 0},...l,children:[o,r?i:t]})}),X=h(({className:a,...s},r)=>{const t={...(g()??{}).requiredIndicator};return n.jsx(v.span,{ref:r,className:C("ui-form__required-indicator",a),role:"presentation","aria-hidden":!0,__css:t,...s,children:"*"})}),B=h(({className:a,...s},r)=>{const{isInvalid:i,isReplace:t}=x()??{},o=g()??{};if(t&&i)return null;const l={...o.helperMessage};return n.jsx(v.div,{ref:r,className:C("ui-form__helper-message",a),__css:l,...s})}),D=h(({className:a,...s},r)=>{const{isInvalid:i}=x()??{},t=g()??{};if(!i)return null;const o={...t.errorMessage};return n.jsx(v.div,{ref:r,className:C("ui-form__error-message",a),"aria-live":"polite",__css:o,...s})});export{D as E,rs as F,B as H,E as L,is as a,W as f,os as g,ts as u};
