import{r as v}from"./index-BwDkhjyp.js";import{g as k}from"./_commonjsHelpers-BosuxZz1.js";import{o as W,p as I,m,A as T,R as $,s as D,F as K,B,Z as F,_ as U}from"./factory-CSM9sPSx.js";import{u as Z,b as G}from"./theme-provider-BgcEQoqm.js";var H=typeof Element<"u",J=typeof Map=="function",L=typeof Set=="function",N=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function q(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,s;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!q(e[r],t[r]))return!1;return!0}var o;if(J&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(o=e.entries();!(r=o.next()).done;)if(!t.has(r.value[0]))return!1;for(o=e.entries();!(r=o.next()).done;)if(!q(r.value[1],t.get(r.value[0])))return!1;return!0}if(L&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(o=e.entries();!(r=o.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(N&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,s[r]))return!1;if(H&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!((s[r]==="_owner"||s[r]==="__v"||s[r]==="__o")&&e.$$typeof)&&!q(e[s[r]],t[s[r]]))return!1;return!0}return e!==e&&t!==t}var Q=function(t,n){try{return q(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const R=k(Q),X=(e,t,n)=>({isMulti:r=!1})=>{const[s,o]=e,c=S(t[s],n)({isMulti:r,query:F._light}),l=S(t[o],n)({isMulti:r,query:F._dark});return[c,l]},Y=(e,t,n)=>({isMulti:r=!1})=>{var o;const s=U(e);if(s.length===1&&"base"in e)return S(t[e.base],n)({isMulti:r});{const{queries:c=[]}=n.theme.__breakpoints??{},{direction:l="down",identifier:O}=((o=n.theme.__config)==null?void 0:o.breakpoint)??{},i=l!=="up",j=c.filter(({breakpoint:f})=>f!=="base"&&s.includes(f)).sort((f,d)=>i?(f.maxW??0)-(d.maxW??0):(d.minW??0)-(f.minW??0))[0];let _=!1;return c.reduce((f,{breakpoint:d,minW:u,maxW:h,maxWQuery:y,minWQuery:E},w)=>{const p=e[d],P=d===j.breakpoint;if(d==="base"||!p)return f;if(!_){const g=e.base,a=c[w-1],A=a==null?void 0:a[i?"minWQuery":"maxWQuery"],x=S(g?t[g]:{},n)({isMulti:r,query:A});f=m(f,x),_=!0}let z=i?y:E;if(!P){let g=w+1,a;for(;g<c.length;){const A=c[g]??{};if(e[A.breakpoint]){const x=g-1;a=c[x];break}g+=1}u=i?a==null?void 0:a.minW:u,h=i?h:a==null?void 0:a.maxW,z=G(u,h,O)}const V=S(t[p],n)({isMulti:r,query:z});return f=m(f,V),f},{})}},C=(e,t,n)=>({isMulti:r=!1})=>{let s={};if(!e)return s;if(D(e)){const[o,c]=X(e,t,n)({isMulti:r});s=m(o,c)}else K(e)?s=Y(e,t,n)({isMulti:r}):s=S(t[e],n)({isMulti:r});return s},S=(e,t)=>({isMulti:n=!1,query:r})=>{let s=B(e,t);if(n)for(const[o,c]of Object.entries(s??{})){const l=B(c,t);r?s=m(s,{[o]:{[r]:l}}):s=m(s,{[o]:l})}else if(r)return{[r]:s};return s},M=(e,t,{isMulti:n,isProcessSkip:r,styles:s}={})=>{const{__overrideTheme:o,__css:c={},...l}=t;if(o)return[c,l];const{theme:O,themeScheme:i}=Z(),{colorMode:j}=W(),_=v.useRef({}),f=v.useRef(s??{});if(!r){const u=I(O,`components.${e}`);if(t=m((u==null?void 0:u.defaultProps)??{},T(t)),u){const h=$(t,["children"]);let y=S(u.baseStyle??{},{theme:O,colorMode:j,themeScheme:i,...h})({isMulti:n});const E=C(t.variant,u.variants??{},{theme:O,colorMode:j,themeScheme:i,...h})({isMulti:n}),w=C(t.size,u.sizes??{},{theme:O,colorMode:j,themeScheme:i,...h})({isMulti:n});y=m(y,w),y=m(y,E),R(f.current,y)||(f.current=y)}}return R(_.current,t)||(_.current=t),[f.current,_.current]},ne=(e,t,n)=>M(e,t,n),se=(e,t,n)=>M(e,t,{isMulti:!0,...n});export{se as a,ne as u};
