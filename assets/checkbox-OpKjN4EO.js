import{j as l,a as te}from"./jsx-runtime-5BUNAZ9W.js";import{t as se}from"./index-BvS90inx.js";import{r as o}from"./index-4g5l5LRQ.js";import{u as ae}from"./index--H2JViwD.js";import{a as z,u as oe,f as E}from"./form-control-PjPXCVZQ.js";import{g as L,c as ie,v as ce,a as J,o as A,p as H,Z as le,u as R,b as j,e as re,R as B,w as W,K as w,h as v}from"./factory-d-SMqVb2.js";import{A as ue}from"./index-EargzzxG.js";import{m as K}from"./motion-ukEXpwwk.js";import{u as de}from"./use-component-style-PZEwb5ud.js";import{o as he}from"./theme-provider-ra3mBbD9.js";import{F as fe}from"./flex-7AocSjfr.js";const Z=t=>t&&H(t)&&H(t.target),ke=({isNative:t,...d})=>{d.onChange=L(d.onChange);const[e,i]=ae({value:d.value,defaultValue:d.defaultValue||[],onChange:d.onChange}),f=o.useCallback(a=>{const h=Z(a)?a.target.checked:!e.includes(a),c=Z(a)?a.target.value:a,r=h?[...e,c]:e.filter(s=>String(s)!==String(c));i(r)},[e,i]),p=o.useCallback((a,h=null)=>({...a,ref:h,[t?"checked":"isChecked"]:e.some(c=>String(a==null?void 0:a.value)===String(c)),onChange:f}),[f,t,e]);return{value:e,setValue:i,onChange:f,getCheckboxProps:p}},[Ce,me]=ie({strict:!1,name:"CheckboxGroupContext"}),be=o.forwardRef(({className:t,size:d,variant:e,colorScheme:i,children:f,items:p=[],direction:a="column",gap:h,...c},r)=>{const{value:s,onChange:I}=ke(c),{isRequired:D,isReadOnly:y,isDisabled:P,isInvalid:S}=z(c),k=ce(f);let g=[];return!k.length&&p.length&&(g=p.map(({label:m,value:u,..._},F)=>l(Q,{value:u,..._,children:m},F))),l(Ce,{value:{size:d,variant:e,colorScheme:i,isRequired:D,isReadOnly:y,isDisabled:P,isInvalid:S,value:s,onChange:I},children:l(fe,{ref:r,className:J("ui-checkbox-group",t),role:"group",direction:a,gap:h??(a==="row"?"1rem":void 0),...A(c,["value","defaultValue","onChange","isInvalid","isDisabled","isRequired","isReadOnly"]),children:f??g})})});be.displayName="CheckboxGroup";const ve=t=>{const{id:d,name:e,value:i,defaultIsChecked:f,tabIndex:p,required:a,disabled:h,readOnly:c,isIndeterminate:r,...s}=oe(t),[I,D]=o.useState(!1),[y,P]=o.useState(!1),[S,k]=o.useState(!1),[g,m]=o.useState(!1),u=o.useRef(null),[_,F]=o.useState(!0),[q,M]=o.useState(!!f),N=t.isChecked!==void 0,b=N?t.isChecked:q,G=L(n=>{var x;if(c||h){n.preventDefault();return}N||M(!b||r?!0:n.target.checked),(x=s.onChange)==null||x.call(s,n)},[c,h,N,b,r]),U=L(s.onBlur),V=L(s.onFocus),O=o.useCallback(({key:n})=>{n===" "&&m(!0)},[m]),T=o.useCallback(({key:n})=>{n===" "&&m(!1)},[m]);o.useEffect(()=>se(D),[]),j(()=>{u.current&&(u.current.indeterminate=!!r)},[r]),re(()=>{h&&P(!1)},[h,P]),j(()=>{var n;(n=u.current)!=null&&n.form&&(u.current.form.onreset=()=>M(!!f))},[]),j(()=>{u.current&&u.current.checked!==b&&M(u.current.checked)},[u.current]);const Y=o.useCallback((n={},x=null)=>({...B(s,E),...n,ref:W(x,C=>{C&&F(C.tagName==="LABEL")}),"data-checked":w(b),onClick:v(n.onClick,()=>{var C;_||((C=u.current)==null||C.click(),requestAnimationFrame(()=>{var X;return(X=u.current)==null?void 0:X.focus()}))})}),[b,_,s]),$=o.useCallback((n={},x=null)=>({...B(s,E),...n,ref:x,"data-active":w(g),"data-hover":w(S),"data-checked":w(b),"data-focus":w(y),"data-focus-visible":w(y&&I),"data-indeterminate":w(r),"aria-hidden":!0,onMouseDown:v(n.onMouseDown,C=>{y&&C.preventDefault(),m(!0)}),onMouseUp:v(n.onMouseUp,()=>m(!1)),onMouseEnter:v(n.onMouseEnter,()=>k(!0)),onMouseLeave:v(n.onMouseLeave,()=>k(!1))}),[g,b,y,S,I,r,s]),ee=o.useCallback((n={},x=null)=>({...B(s,E),...n,ref:W(u,x),id:d,type:"checkbox",name:e,value:i,tabIndex:p,required:a,disabled:h,readOnly:c,checked:b,style:{border:"0px",clip:"rect(0px, 0px, 0px, 0px)",height:"1px",width:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},onChange:v(n.onChange,G),onBlur:v(n.onBlur,U,()=>P(!1)),onFocus:v(n.onFocus,V,()=>P(!0)),onKeyDown:v(n.onKeyDown,O),onKeyUp:v(n.onKeyUp,T)}),[s,d,e,i,p,a,h,c,b,G,U,V,O,T]),ne=o.useCallback((n={},x=null)=>({...B(s,E),...n,ref:x,"data-checked":w(b),onMouseDown:v(n.onMouseDown,C=>{C.preventDefault(),C.stopPropagation()}),onTouchStart:v(n.onTouchStart,C=>{C.preventDefault(),C.stopPropagation()})}),[b,s]);return{isFocusVisible:I,isFocused:y,isHovered:S,isActive:g,isChecked:b,isIndeterminate:r,getContainerProps:Y,getIconProps:$,getInputProps:ee,getLabelProps:ne}},Q=o.forwardRef((t,d)=>{const e=me(),i=z(t),[f,p]=de("Checkbox",{...e?A(e,["value"]):{},...t}),{className:a,gap:h="0.5rem",isRequired:c=(e==null?void 0:e.isRequired)??i.isRequired,isReadOnly:r=(e==null?void 0:e.isReadOnly)??i.isReadOnly,isDisabled:s=(e==null?void 0:e.isDisabled)??i.isDisabled,isInvalid:I=(e==null?void 0:e.isInvalid)??i.isInvalid,iconProps:D,inputProps:y,labelProps:P,children:S,...k}=he(p),{isChecked:g,isIndeterminate:m,getContainerProps:u,getInputProps:_,getIconProps:F,getLabelProps:q}=ve({...k,isRequired:c,isReadOnly:r,isDisabled:s,isInvalid:I,isChecked:e!=null&&e.value&&k.value?e.value.includes(k.value):k.isChecked,onChange:e!=null&&e.onChange&&k.value?le(e.onChange,k.onChange):k.onChange}),M=o.cloneElement((D==null?void 0:D.children)??l(ge,{}),{__css:{opacity:g||m?1:0,transform:g||m?"scale(1)":"scale(0.95)",transitionProperty:"transform",transitionDuration:"normal"},isIndeterminate:m,isChecked:g,isRequired:c,isReadOnly:r,isDisabled:s,isInvalid:I});return te(R.label,{className:J("ui-checkbox",a),...u(),__css:{cursor:"pointer",position:"relative",display:"inline-flex",alignItems:"center",verticalAlign:"top",gap:h,...f.container},...A(k,["id","name","value","defaultValue","defaultIsChecked","isChecked","isIndeterminate","onChange","onBlur","onFocus","tabIndex"]),children:[l(R.input,{className:"ui-checkbox__input",..._(y,d)}),l(R.span,{className:"ui-checkbox__icon",__css:{pointerEvents:r?"none":void 0,position:"relative",display:"inline-block",userSelect:"none",...f.icon},...F(A(D??{children:void 0},["children"])),children:M}),l(R.span,{className:"ui-checkbox__label",__css:{...f.label},...q(P),children:S})]})});Q.displayName="Checkbox";const ge=({isIndeterminate:t,isChecked:d,...e})=>{const i=A(e,["isRequired","isReadOnly","isDisabled","isInvalid"]);return l(ue,{initial:!1,children:t||d?l(R.div,{__css:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:l(R.div,{as:K.div,variants:{unchecked:{scale:.5},checked:{scale:1}},initial:"unchecked",animate:"checked",exit:"unchecked",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:t?l(pe,{...i}):l(xe,{...i})})}):null})},xe=t=>l(R.svg,{as:K.svg,width:"1.2em",viewBox:"0 0 12 10",variants:{unchecked:{opacity:0,strokeDashoffset:16},checked:{opacity:1,strokeDashoffset:0,transition:{duration:.2}}},style:{fill:"none",strokeWidth:2,stroke:"currentColor",strokeDasharray:16},...t,children:l("polyline",{points:"1.5 6 4.5 9 10.5 1"})}),pe=t=>l(R.svg,{as:K.svg,width:"1.2em",viewBox:"0 0 24 24",variants:{unchecked:{scaleX:.65,opacity:0},checked:{scaleX:1,opacity:1,transition:{scaleX:{duration:0},opacity:{duration:.02}}}},style:{stroke:"currentColor",strokeWidth:4},...t,children:l("line",{x1:"21",x2:"3",y1:"12",y2:"12"})});export{Q as C,be as a,ve as b,ke as u};
