import{j as r,a as Fe}from"./jsx-runtime-5BUNAZ9W.js";import{u as We}from"./index-JVewwJtk.js";import{r as o}from"./index-4g5l5LRQ.js";import{d as oe,i as Ee,a as Se,b as Le,C as Ue}from"./ja-L1PMJthR.js";import{u as Qe}from"./index-NZmSP0pq.js";import{u as $e}from"./index-G99FBd7L.js";import{u as qe,f as Ge}from"./form-control-MkMAz64d.js";import{p as Je,P as Xe,b as Ze,a as et}from"./popover-content-eZBmWtfz.js";import{u as tt,o as ot}from"./theme-provider-5V_IKGX1.js";import{R as nt,_ as at,$ as st,o as rt,a3 as lt,Q as it,w as ne,h as Y,K as Be,c as ct,e as ut,a4 as pt,u as W,a as L,v as dt,f as ft}from"./factory-dcM_aT7G.js";import{P as mt}from"./container-portal-Yi4n-bPi.js";import{b as Ct,a as Pt}from"./icon-KS9auLtj.js";import{f as ae}from"./forward-ref-A-8Arhkk.js";import{u as ht}from"./use-component-style-rFDzjddw.js";const gt=f=>{var Ve;const{theme:i}=tt();let{id:c,defaultIsOpen:C,closeOnBlur:m=!0,closeOnEsc:p=!0,placement:a="bottom-start",duration:d=.2,enableMultiple:g,enableRange:P,value:w,defaultValue:B,onChange:O,type:D,defaultType:T,onChangeType:I,month:R,defaultMonth:M,onChangeMonth:N,firstDayOfWeek:j,amountOfMonths:H,paginateBy:z,withWeekdays:x,disableOutsideDays:k,minDate:u,maxDate:h,locale:t,yearFormat:l,monthFormat:V,weekdayFormat:re,dateFormat:le,weekendDays:ie,today:ce,excludeDate:b,calendarVariant:ue,calendarSize:pe,calendarColorScheme:de,holidays:fe,withHeader:me,withControls:Ce,withLabel:Pe,maxSelectValues:he,selectMonthWith:ge,calendarProps:ke,allowInput:y=!0,allowInputBeyond:U=!1,parseDate:Q,pattern:Te=/[^0-9\-\/]/g,inputFormat:$="YYYY/MM/DD",autoFocus:K=!0,onOpen:q,onClose:G,onClear:J,onEnter:be,onDelete:ye,...v}=qe(f);t??(t=((Ve=i.__config.date)==null?void 0:Ve.locale)??"en");const F=nt(v,Ge),[ve,Me]=at(rt(v,[...Je]),st),{disabled:X,readOnly:Z}=F,[s,_e]=o.useState(C??!1),ee=o.useRef(null),A=o.useRef(null),Ne=o.useCallback(e=>{let n=(Q==null?void 0:Q(e))??oe(e,$,t).toDate();if(n!=null&&!(b!=null&&b(n)))return U||(h&&Ee(n,h)&&(n=h),u&&Se(n,u)&&(n=u)),n},[U,b,$,t,h,u,Q]),je=o.useCallback(e=>{if(e!=null&&!(b!=null&&b(e)))return U||(h&&Ee(e,h)&&(e=h),u&&Se(e,u)&&(e=u)),oe(e).locale(t??"en").format($)},[U,b,$,t,h,u]),_=o.useCallback(()=>{var e;X||Z||(_e(!0),K&&y&&((e=A.current)==null||e.focus()),q==null||q())},[K,y,X,Z,q]),E=o.useCallback(()=>{_e(!1),G==null||G()},[G]),De=o.useCallback(()=>{var e;s?K&&y&&((e=A.current)==null||e.focus()):_()},[K,y,s,_]),Ie=o.useCallback(()=>{s||_()},[s,_]),we=o.useCallback(e=>{const n=lt(e);it(ee.current,n)||m&&s&&E()},[m,s,E]),Oe=o.useCallback(e=>{if(e.key===" "&&(e.key=e.code),X||Z)return;const te={Space:s?void 0:S=>{S.preventDefault(),S.stopPropagation(),_()},Enter:s?be:S=>{S.preventDefault(),S.stopPropagation(),_()},Escape:p?S=>{S.preventDefault(),S.stopPropagation(),E()}:void 0,Backspace:ye}[e.key];te&&te(e)},[p,X,Z,s,E,be,ye,_]),xe=o.useCallback(e=>{var n;e.stopPropagation(),J==null||J(),K&&y&&s&&((n=A.current)==null||n.focus())},[K,y,s,J]);$e({ref:ee,handler:E,enabled:m});const He=o.useCallback((e={},n=null)=>({ref:ne(ee,n),...ve,...e,...F,onClick:Y(e.onClick,v.onClick,De),onBlur:Y(e.onBlur,v.onBlur,we)}),[ve,F,we,De,v]),ze=o.useCallback(e=>({...v,...e,isOpen:s,onOpen:_,onClose:E,placement:a,duration:d,trigger:"never",closeOnButton:!1,closeOnBlur:!1}),[d,s,E,_,a,v]),Ke=o.useCallback((e={},n=null)=>{const te={...e.style,...y?{}:{cursor:"pointer"}};return{ref:ne(A,n),tabIndex:y?-1:0,...e,...F,style:te,"data-active":Be(s),"aria-expanded":Be(s),onFocus:Y(e.onFocus,v.onFocus,Ie),onKeyDown:Y(e.onKeyDown,v.onKeyDown,Oe)}},[y,F,s,v,Ie,Oe]),Ye=o.useCallback(e=>({...e,type:D,defaultType:T,onChangeType:I,month:R,defaultMonth:M,onChangeMonth:N,firstDayOfWeek:j,amountOfMonths:H,paginateBy:z,withWeekdays:x,disableOutsideDays:k,yearFormat:l,monthFormat:V,weekdayFormat:re,dateFormat:le,weekendDays:ie,today:ce,holidays:fe,withHeader:me,withControls:Ce,withLabel:Pe,maxSelectValues:he,variant:ue,size:pe,colorScheme:de,...ke,value:w,defaultValue:B,onChange:O,minDate:u,maxDate:h,excludeDate:b,locale:t,selectMonthWith:ge,enableMultiple:g,enableRange:P}),[he,g,P,H,de,ke,pe,ue,le,M,T,B,k,b,j,fe,t,h,u,R,V,O,N,I,z,ce,D,w,re,ie,Ce,me,Pe,x,l,ge]),Ae=o.useCallback(({clear:e,...n})=>({...n,...F,onClick:Y(n.onClick,e?xe:void 0)}),[F,xe]);return{id:c,allowInput:y,pattern:Te,inputProps:Me,formControlProps:F,containerRef:ee,inputRef:A,isOpen:s,onOpen:_,onClose:E,dateToString:je,stringToDate:Ne,getContainerProps:He,getPopoverProps:ze,getFieldProps:Ke,getCalendarProps:Ye,getIconProps:Ae}},[kt,se]=ct({strict:!1,name:"DatePickerContext"}),bt=({value:f,defaultValue:i,onChange:c,placeholder:C,closeOnSelect:m=!0,...p})=>{const[a,d]=Qe({value:f,defaultValue:i,onChange:c,onUpdate:(t,l)=>!Le(t,l)}),{inputRef:g,id:P,allowInput:w,pattern:B,inputProps:O,formControlProps:D,onClose:T,dateToString:I,stringToDate:R,getContainerProps:M,getPopoverProps:N,getFieldProps:j,getCalendarProps:H,getIconProps:z}=gt({...p,value:a,defaultValue:i,onChange:t=>{const l=I(t);d(t),k(l),m&&t&&T()},onClear:()=>{d(void 0),k(void 0)},onClose:()=>{var l;const t=I(a);k(t),(l=p.onClose)==null||l.call(p)}}),[x,k]=o.useState(I(a)),u=o.useCallback(t=>{let l=t.target.value;l=l.replace(B,"");const V=R(l);k(l),V&&oe(V).isValid()?d(V):d(void 0)},[B,R,k,d]);ut(()=>{if(g.current&&pt(g.current))return;const t=I(a);k(t)},[a]);const h=o.useCallback((t={},l=null)=>{const V={...t.style,...O.style,...w?{}:{pointerEvents:"none"}};return{placeholder:C,...D,...O,...t,ref:l,style:V,id:P,tabIndex:w?0:-1,value:x??"",cursor:D.readOnly?"default":"text",pointerEvents:D.disabled?"none":"auto",onChange:Y(t.onChange,u)}},[O,w,C,D,P,x,u]);return{value:a,getContainerProps:M,getPopoverProps:N,getFieldProps:j,getInputProps:h,getIconProps:z,getCalendarProps:H}},jt=ae((f,i)=>{const[c,C]=ht("DatePicker",f);let{className:m,isClearable:p=!0,color:a,h:d,height:g,minH:P,minHeight:w,containerProps:B,inputProps:O,iconProps:D,clearIconProps:T,portalProps:I={isDisabled:!0},...R}=ot(C);const{getPopoverProps:M,getContainerProps:N,getCalendarProps:j,getFieldProps:H,getInputProps:z,getIconProps:x,value:k}=bt(R);d??(d=g),P??(P=w);const u={w:"100%",h:"fit-content",color:a,...c.container};return r(kt,{value:c,children:r(Xe,{...M(),children:Fe(W.div,{className:L("ui-date-picker",m),__css:u,...N(B),children:[Fe(W.div,{className:"ui-date-picker__inner",__css:{position:"relative",...c.inner},children:[r(yt,{...H({h:d,minH:P},i),inputProps:z(O)}),p&&k?r(_t,{...x({clear:!0,...T})}):r(Re,{...x({clear:!1,...D})})]}),r(mt,{...I,children:r(Ze,{className:"ui-date-picker__popover",__css:{...c.list},children:r(Ue,{className:"ui-date-picker__calendar",...j()})})})]})})})}),yt=ae(({className:f,h:i,minH:c,inputProps:C,...m},p)=>{const a=se(),{ref:d,...g}=C,P={pe:"2rem",h:i,minH:c,display:"flex",alignItems:"center",...a.field};return r(et,{children:r(W.div,{className:L("ui-date-picker__field",f),__css:P,...m,children:r(W.input,{ref:ne(p,d),className:"ui-date-picker__field__input",display:"inline-block",w:"full",...g})})})}),Re=ae(({className:f,children:i,__css:c,...C},m)=>{const a={position:"absolute",top:"50%",transform:"translateY(-50%)",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",cursor:"pointer",...se().icon,...c},g=dt(i).map(P=>o.cloneElement(P,{focusable:!1,"aria-hidden":!0,style:{maxWidth:"1em",maxHeight:"1em",color:"currentColor"}}));return r(W.div,{ref:m,className:L("ui-date-picker__icon",f),__css:a,...C,children:ft(i)?g:r(vt,{})})}),vt=({className:f,...i})=>r(Ct,{className:L("ui-date-picker__icon__calendar",f),viewBox:"0 0 24 24",...i,children:r("path",{fill:"currentColor",d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"})}),_t=({className:f,children:i,...c})=>{const C=o.useRef(null),m=se(),p=c.disabled,a=We({ref:C,isDisabled:p,...c});return r(Re,{"aria-label":"Clear value",className:L("ui-date-picker__icon--clear",f),__css:m.clearIcon,...a,children:i??r(Pt,{w:"0.5em",h:"0.5em"})})};export{jt as D,kt as a,yt as b,_t as c,Re as d,se as e,gt as u};
