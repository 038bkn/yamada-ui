import{_ as z,a as P,b as j}from"./tslib.es6-3f3c652b.js";import{r as a}from"./index-61bf1805.js";import{c as Q,u as _,f as $,z as q,s as G,R as J,e as K}from"./component-d3e7ea7c.js";var Z=Q(),M=function(){},N=a.forwardRef(function(e,r){var l=a.useRef(null),o=a.useState({onScrollCapture:M,onWheelCapture:M,onTouchMoveCapture:M}),c=o[0],f=o[1],s=e.forwardProps,i=e.children,S=e.className,g=e.removeScrollBar,w=e.enabled,C=e.shards,b=e.sideCar,y=e.noIsolation,R=e.inert,t=e.allowPinchZoom,n=e.as,d=n===void 0?"div":n,h=z(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),v=b,m=_([l,r]),u=P(P({},h),c);return a.createElement(a.Fragment,null,w&&a.createElement(v,{sideCar:Z,removeScrollBar:g,shards:C,noIsolation:y,inert:R,setCallbacks:f,allowPinchZoom:!!t,lockRef:l}),s?a.cloneElement(a.Children.only(i),P(P({},u),{ref:m})):a.createElement(d,P({},u,{className:S,ref:m}),i))});N.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};N.classNames={fullWidth:$,zeroRight:q};var W=!1;if(typeof window<"u")try{var Y=Object.defineProperty({},"passive",{get:function(){return W=!0,!0}});window.addEventListener("test",Y,Y),window.removeEventListener("test",Y,Y)}catch{W=!1}var E=W?{passive:!1}:!1,U=function(e){var r=window.getComputedStyle(e);return r.overflowY!=="hidden"&&!(r.overflowY===r.overflowX&&r.overflowY==="visible")},O=function(e){var r=window.getComputedStyle(e);return r.overflowX!=="hidden"&&!(r.overflowY===r.overflowX&&r.overflowX==="visible")},I=function(e,r){var l=r;do{typeof ShadowRoot<"u"&&l instanceof ShadowRoot&&(l=l.host);var o=A(e,l);if(o){var c=F(e,l),f=c[1],s=c[2];if(f>s)return!0}l=l.parentNode}while(l&&l!==document.body);return!1},p=function(e){var r=e.scrollTop,l=e.scrollHeight,o=e.clientHeight;return[r,l,o]},ee=function(e){var r=e.scrollLeft,l=e.scrollWidth,o=e.clientWidth;return[r,l,o]},A=function(e,r){return e==="v"?U(r):O(r)},F=function(e,r){return e==="v"?p(r):ee(r)},re=function(e,r){return e==="h"&&r==="rtl"?-1:1},te=function(e,r,l,o,c){var f=re(e,window.getComputedStyle(r).direction),s=f*o,i=l.target,S=r.contains(i),g=!1,w=s>0,C=0,b=0;do{var y=F(e,i),R=y[0],t=y[1],n=y[2],d=t-n-f*R;(R||d)&&A(e,i)&&(C+=d,b+=R),i=i.parentNode}while(!S&&i!==document.body||S&&(r.contains(i)||r===i));return(w&&(c&&C===0||!c&&s>C)||!w&&(c&&b===0||!c&&-s>b))&&(g=!0),g},X=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},H=function(e){return[e.deltaX,e.deltaY]},V=function(e){return e&&"current"in e?e.current:e},ae=function(e,r){return e[0]===r[0]&&e[1]===r[1]},ne=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},le=0,k=[];function oe(e){var r=a.useRef([]),l=a.useRef([0,0]),o=a.useRef(),c=a.useState(le++)[0],f=a.useState(function(){return G()})[0],s=a.useRef(e);a.useEffect(function(){s.current=e},[e]),a.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(c));var t=j([e.lockRef.current],(e.shards||[]).map(V),!0).filter(Boolean);return t.forEach(function(n){return n.classList.add("allow-interactivity-".concat(c))}),function(){document.body.classList.remove("block-interactivity-".concat(c)),t.forEach(function(n){return n.classList.remove("allow-interactivity-".concat(c))})}}},[e.inert,e.lockRef.current,e.shards]);var i=a.useCallback(function(t,n){if("touches"in t&&t.touches.length===2)return!s.current.allowPinchZoom;var d=X(t),h=l.current,v="deltaX"in t?t.deltaX:h[0]-d[0],m="deltaY"in t?t.deltaY:h[1]-d[1],u,T=t.target,B=Math.abs(v)>Math.abs(m)?"h":"v";if("touches"in t&&B==="h"&&T.type==="range")return!1;var L=I(B,T);if(!L)return!0;if(L?u=B:(u=B==="v"?"h":"v",L=I(B,T)),!L)return!1;if(!o.current&&"changedTouches"in t&&(v||m)&&(o.current=u),!u)return!0;var D=o.current||u;return te(D,n,t,D==="h"?v:m,!0)},[]),S=a.useCallback(function(t){var n=t;if(!(!k.length||k[k.length-1]!==f)){var d="deltaY"in n?H(n):X(n),h=r.current.filter(function(u){return u.name===n.type&&u.target===n.target&&ae(u.delta,d)})[0];if(h&&h.should){n.preventDefault();return}if(!h){var v=(s.current.shards||[]).map(V).filter(Boolean).filter(function(u){return u.contains(n.target)}),m=v.length>0?i(n,v[0]):!s.current.noIsolation;m&&n.preventDefault()}}},[]),g=a.useCallback(function(t,n,d,h){var v={name:t,delta:n,target:d,should:h};r.current.push(v),setTimeout(function(){r.current=r.current.filter(function(m){return m!==v})},1)},[]),w=a.useCallback(function(t){l.current=X(t),o.current=void 0},[]),C=a.useCallback(function(t){g(t.type,H(t),t.target,i(t,e.lockRef.current))},[]),b=a.useCallback(function(t){g(t.type,X(t),t.target,i(t,e.lockRef.current))},[]);a.useEffect(function(){return k.push(f),e.setCallbacks({onScrollCapture:C,onWheelCapture:C,onTouchMoveCapture:b}),document.addEventListener("wheel",S,E),document.addEventListener("touchmove",S,E),document.addEventListener("touchstart",w,E),function(){k=k.filter(function(t){return t!==f}),document.removeEventListener("wheel",S,E),document.removeEventListener("touchmove",S,E),document.removeEventListener("touchstart",w,E)}},[]);var y=e.removeScrollBar,R=e.inert;return a.createElement(a.Fragment,null,R?a.createElement(f,{styles:ne(c)}):null,y?a.createElement(J,{gapMode:"margin"}):null)}const ce=K(Z,oe);var x=a.forwardRef(function(e,r){return a.createElement(N,P({},e,{ref:r,sideCar:ce}))});x.classNames=N.classNames;const fe=x;export{fe as R};
//# sourceMappingURL=Combination-0278cbee.js.map
