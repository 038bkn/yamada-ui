import{r as x}from"./index-CBqU2yxZ.js";import{g as V}from"./_commonjsHelpers-BosuxZz1.js";import{n as W,o as M,m as i,t as P,B as I,q as $,G as D,C as z,W as A,X as T}from"./factory-C06z1xU-.js";import{u as G,b as K}from"./theme-provider-CvYGGDsf.js";var U=typeof Element<"u",X=typeof Map=="function",H=typeof Set=="function",J=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function d(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,s;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!d(e[r],t[r]))return!1;return!0}var o;if(X&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(o=e.entries();!(r=o.next()).done;)if(!t.has(r.value[0]))return!1;for(o=e.entries();!(r=o.next()).done;)if(!d(r.value[1],t.get(r.value[0])))return!1;return!0}if(H&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(o=e.entries();!(r=o.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(J&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,s[r]))return!1;if(U&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!((s[r]==="_owner"||s[r]==="__v"||s[r]==="__o")&&e.$$typeof)&&!d(e[s[r]],t[s[r]]))return!1;return!0}return e!==e&&t!==t}var L=function(t,n){try{return d(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const v=V(L),N=(e,t,n)=>({isMulti:r})=>{const[s,o]=e,c=y(t[s],n)({isMulti:r,query:A._light}),u=y(t[o],n)({isMulti:r,query:A._dark});return[c,u]},Q=(e,t,n)=>({isMulti:r})=>{const s=T(e);if(s.length===1&&"base"in e)return y(t[e.base],n)({isMulti:r});{const{queries:o=[]}=n.theme.__breakpoints??{},{breakpoint:c}=n.theme.__config??{},u=c==="down",h=o.filter(({breakpoint:f})=>f!=="base"&&s.includes(f)).sort((f,a)=>u?(f.maxW??0)-(a.maxW??0):(a.minW??0)-(f.minW??0))[0];let O=!1;return o.reduce((f,{breakpoint:a,minW:g,maxW:S,maxWQuery:w,minWQuery:k},E)=>{const p=e[a],F=a===h.breakpoint;if(a==="base"||!p)return f;if(!O){const m=e.base,l=o[E-1],j=l==null?void 0:l[u?"minWQuery":"maxWQuery"],q=y(t[m],n)({isMulti:r,query:j});f=i(f,q),O=!0}let _=u?w:k;if(!F){let m=E+1,l;for(;m<o.length;){const j=o[m]??{};if(e[j.breakpoint]){const q=m-1;l=o[q];break}m+=1}g=u?l==null?void 0:l.minW:g,S=u?S:l==null?void 0:l.maxW,_=K(g,S)}const R=y(t[p],n)({isMulti:r,query:_});return f=i(f,R),f},{})}},B=(e,t,n)=>({isMulti:r})=>{let s={};if($(e)){const[o,c]=N(e,t,n)({isMulti:r});s=i(o,c)}else D(e)?s=Q(e,t,n)({isMulti:r}):s=y(t[e],n)({isMulti:r});return s},y=(e,t)=>({isMulti:n,query:r})=>{let s=z(e,t);if(n)for(const[o,c]of Object.entries(s??{})){const u=z(c,t);r?s=i(s,{[o]:{[r]:u}}):s=i(s,{[o]:u})}else if(r)return{[r]:s};return s},C=(e,t,n=!1)=>{const{theme:r,themeScheme:s}=G(),{colorMode:o}=W(),c=M(r,`components.${e}`),u=x.useRef({}),h=x.useRef({});if(t=i((c==null?void 0:c.defaultProps)??{},P(t)),c){const f=I(t,["children"]);let a=y(c.baseStyle??{},{theme:r,colorMode:o,themeScheme:s,...f})({isMulti:n});const g=B(t.variant,c.variants??{},{theme:r,colorMode:o,themeScheme:s,...f})({isMulti:n}),S=B(t.size,c.sizes??{},{theme:r,colorMode:o,themeScheme:s,...f})({isMulti:n});a=i(a,S),a=i(a,g),v(h.current,a)||(h.current=a)}return v(u.current,t)||(u.current=t),[h.current,u.current]},te=(e,t)=>C(e,t),re=(e,t)=>C(e,t,!0);export{re as a,te as u};
