import{j as s}from"./jsx-runtime-Nms4Y4qS.js";import{u as ae}from"./index-DZZOTJJl.js";import{u as x}from"./index-X30eDiIt.js";import{u as ue}from"./index-CKgyiemn.js";import{r as o}from"./index-BwDkhjyp.js";import{A as me}from"./index-D53P4PVU.js";import{P as pe}from"./container-portal-Dedn3QCZ.js";import{m as fe}from"./motion-B93Hlbuy.js";import{s as p}from"./slide-fade-BmzJ2k-W.js";import{s as de}from"./scale-fade-DjjwaArw.js";import{f as ve}from"./forward-ref-BmTAT9U5.js";import{u as xe}from"./use-component-style-eZPQMXFE.js";import{o as Pe}from"./theme-provider-CVa4tFyh.js";import{z as j,A as R,a as ge,h as m,u as I,c as he}from"./factory-DB2JyeD8.js";const Ce=(l="scale",f)=>{const n={reverse:!0,duration:f,enter:{visibility:"visible"},transitionEnd:{exit:{visibility:"hidden"}}};switch(l){case"scale":return{...de,custom:{...n,scale:.95}};case"top":return{...p,custom:{...n,offsetY:-16}};case"right":return{...p,custom:{...n,offsetX:16}};case"left":return{...p,custom:{...n,offsetX:-16}};case"bottom":return{...p,custom:{...n,offsetY:16}}}},Ne=ve(({closeOnPointerDown:l,z:f,zIndex:n,portalProps:z,withPortal:F=!0,...A},N)=>{let[{z:W,zIndex:B,...S},X]=xe("Tooltip",A);const{className:Y,children:P,label:g,placement:_,modifiers:K,gutter:L,offset:M,openDelay:h=0,closeDelay:C=0,isDisabled:O,closeOnClick:b,closeOnScroll:Z,closeOnMouseDown:q,closeOnEsc:G=!0,animation:T,duration:H,isOpen:J,defaultIsOpen:Q,onOpen:U,onClose:V,...$}=Pe(X);l=q;const{isOpen:t,onOpen:y,onClose:k}=ae({isOpen:J,defaultIsOpen:Q,onOpen:U,onClose:V}),i=o.useRef(null),c=o.useRef(),a=o.useRef(),{referenceRef:w,getPopperProps:ee,transformOrigin:oe}=ue({enabled:t,placement:_,modifiers:K,gutter:L,offset:M}),u=o.useCallback(()=>{a.current&&(clearTimeout(a.current),a.current=void 0),k()},[k]),d=o.useCallback(()=>{if(!O&&!c.current){t&&u();const e=j(i.current);c.current=e.setTimeout(y,h)}},[O,t,h,u,y]),r=o.useCallback(()=>{c.current&&(clearTimeout(c.current),c.current=void 0);const e=j(i.current);a.current=e.setTimeout(u,C)},[C,u]),D=o.useCallback(()=>t&&b?r():void 0,[t,b,r]),E=o.useCallback(()=>t&&l?r():void 0,[t,l,r]),te=o.useCallback(e=>t&&e.key==="Escape"?r():void 0,[t,r]);x(()=>R(i.current),"keydown",e=>G?te(e):void 0),x(()=>R(i.current),"scroll",()=>t&&Z?u():void 0),x(()=>i.current,"pointerleave",r),o.useEffect(()=>()=>{clearTimeout(c.current),clearTimeout(a.current)},[]);const re=o.useCallback((e={},ce=null)=>({...e,ref:ge(i,ce,w),onPointerEnter:m(e.onPointerEnter,le=>le.pointerType!=="touch"?d():void 0),onClick:m(e.onClick,D),onPointerDown:m(e.onPointerDown,E),onFocus:m(e.onFocus,d),onBlur:m(e.onBlur,r)}),[w,D,E,d,r]),v=o.Children.only(P),se=o.cloneElement(v,re(v.props,v.ref)),ne={position:"relative",...S};if(!g)return s.jsx(s.Fragment,{children:P});const ie=n??f??B??W;return s.jsxs(s.Fragment,{children:[se,s.jsx(me,{children:t?s.jsx(pe,{isDisabled:!F,...z,children:s.jsx(I.div,{...ee(),zIndex:ie,pointerEvents:"none",children:s.jsx(I.div,{as:fe.div,ref:N,className:he("ui-tooltip",Y),style:{transformOrigin:oe},...T!=="none"?Ce(T,H):{},initial:"exit",animate:t?"enter":"exit",exit:"exit",__css:ne,...$,children:g})})}):null})]})});export{Ne as T};
