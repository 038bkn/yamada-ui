import{j as e}from"./jsx-runtime-X2b_N9AH.js";import{r as i}from"./index-uCp2LrAq.js";import{l as z,b as u,c as f,d as j,m as F,a as H}from"./factory-C0k1XOS4.js";import{f as w}from"./forward-ref-Dr5Hqd9a.js";import{u as U,R as $}from"./use-ripple-Bqtteuio.js";import{L as P}from"./loading-P57SJ8Jf.js";import{u as q}from"./use-component-style-C4YdD-0K.js";import{o as J}from"./theme-provider-BBihJJCn.js";const[K,Q]=z({strict:!1,name:"ButtonGroupContext"}),ot=w(({className:o,size:t,variant:n,direction:s,isAttached:r,isDisabled:d,gap:x,columnGap:p,rowGap:b,...m},a)=>{const l=s==="column"||s==="column-reverse",c={display:"inline-flex",flexDirection:s},g=i.useMemo(()=>({size:t,variant:n,isDisabled:d}),[t,n,d]);return r?Object.assign(c,{"> *:first-of-type:not(:last-of-type)":l?{borderBottomRadius:0,marginBlockEnd:"-1px"}:{borderRightRadius:0,marginInlineEnd:"-1px"},"> *:not(:first-of-type):not(:last-of-type)":l?{borderRadius:0,marginBlockStart:"-1px"}:{borderRadius:0,marginInlineEnd:"-1px"},"> *:not(:first-of-type):last-of-type":l?{borderTopRadius:0,marginBlockStart:"-1px"}:{borderLeftRadius:0}}):Object.assign(c,{gap:x,columnGap:p,rowGap:b}),e.jsx(K,{value:g,children:e.jsx(u.div,{ref:a,role:"group",className:f("ui-button-group",o),"data-attached":j(r),__css:c,...m})})}),rt=w(({children:o,...t},n)=>{const s=Q(),[r,d]=q("Button",{...s,...t}),{className:x,as:p,type:b,isRounded:m,isLoading:a,isActive:l,isDisabled:c=s==null?void 0:s.isDisabled,leftIcon:g,rightIcon:E,loadingIcon:L,loadingText:_,loadingPlacement:R="start",disableRipple:h,__css:B,...v}=J(d),y=c||a,{ref:G,type:I}=V(p),{onPointerDown:M,...D}=U({...v,isDisabled:h||y}),O=i.useMemo(()=>{const A="_focus"in r?F(r._focus??{},{zIndex:"fallback(yamcha, 1)"}):{};return{display:"inline-flex",alignItems:"center",justifyContent:"center",gap:"fallback(2, 0.5rem)",appearance:"none",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",overflow:"hidden",outline:"none",...r,...B,...s?{_focus:A}:{},...m?{borderRadius:"fallback(full, 9999px)"}:{}}},[r,B,s,m]),N={leftIcon:g,rightIcon:E,children:o},k={loadingIcon:L,loadingText:_};return e.jsxs(u.button,{ref:H(n,G),as:p,className:f("ui-button",x),type:b??I,disabled:y,"data-active":j(l),"data-loading":j(a),__css:O,...v,onPointerDown:M,children:[a&&R==="start"?e.jsx(S,{className:"ui-button__loading--start",...k}):null,a?_||e.jsx(u.span,{opacity:0,children:e.jsx(C,{...N})}):e.jsx(C,{...N}),a&&R==="end"?e.jsx(S,{className:"ui-button__loading--end",...k}):null,e.jsx($,{isDisabled:h||y,...D})]})}),S=({className:o,loadingIcon:t,loadingText:n})=>{const s=i.useMemo(()=>({display:"flex",alignItems:"center",position:n?"relative":"absolute",fontSize:"1em",lineHeight:"normal"}),[n]),r=i.useMemo(()=>typeof t=="string"?e.jsx(P,{color:"current",variant:t}):t||e.jsx(P,{color:"current"}),[t]);return e.jsx(u.div,{className:f("ui-button__loading",o),__css:s,children:r})},C=({leftIcon:o,rightIcon:t,children:n})=>e.jsxs(e.Fragment,{children:[o?e.jsx(T,{children:o}):null,n,t?e.jsx(T,{children:t}):null]}),T=({children:o,className:t,...n})=>e.jsx(u.span,{className:f("ui-button__icon",t),display:"inline-flex",alignSelf:"center",flexShrink:0,"aria-hidden":!0,...n,children:o}),V=o=>{const t=i.useRef(!o),n=i.useCallback(r=>{r&&(t.current=r.tagName==="BUTTON")},[]),s=t.current?"button":void 0;return{ref:n,type:s}};export{rt as B,ot as a};
