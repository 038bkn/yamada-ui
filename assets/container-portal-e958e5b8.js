import{j as l}from"./jsx-runtime-3bfad254.js";import{r as u}from"./index-8ee6c85d.js";import{r as d}from"./index-8bf7f4ad.js";import{k as v,f}from"./factory-11559d5d.js";const m=({containerRef:s,appendToParentPortal:c=!0,isDisabled:a,children:e})=>a?e:s?l(E,{containerRef:s,children:e}):l(x,{appendToParentPortal:c,children:e});m.className="ui-portal";m.selector=".ui-portal";const[P,C]=v({strict:!1,name:"PortalContext"}),x=({appendToParentPortal:s,children:c})=>{const[a,e]=u.useState(null),t=u.useRef(null),[,r]=u.useState({});u.useEffect(()=>r({}),[]);const i=C();return f(()=>{if(!a)return;const{ownerDocument:o}=a,n=s?i??o.body:o.body;if(!n)return;t.current=o.createElement("div"),t.current.className="ui-portal",n.appendChild(t.current),r({});const p=t.current;return()=>{n.contains(p)&&n.removeChild(p)}},[a]),t.current?d.createPortal(l(P,{value:t.current,children:c}),t.current):l("span",{ref:o=>o?e(o):void 0})},E=({children:s,containerRef:c,appendToParentPortal:a})=>{const e=c.current,t=e??(typeof window<"u"?document.body:void 0),r=u.useMemo(()=>{if(!e)return;const{ownerDocument:o}=e,n=o.createElement("div");return n&&(n.className="ui-portal"),n},[e]),[,i]=u.useState({});return f(()=>i({}),[]),f(()=>{if(!(!r||!t))return t.appendChild(r),()=>{t.removeChild(r)}},[r,t]),t&&r?d.createPortal(l(P,{value:a?r:null,children:s}),r):null};export{m as P};
//# sourceMappingURL=container-portal-e958e5b8.js.map
