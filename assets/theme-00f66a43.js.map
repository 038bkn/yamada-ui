{"version":3,"file":"theme-00f66a43.js","sources":["../../packages/utils/src/dom.ts","../../packages/utils/src/string.ts","../../packages/utils/src/calc.ts","../../packages/core/src/css/breakpoint.ts","../../packages/core/src/css/var.ts","../../packages/core/src/providers/theme-provider.tsx","../../packages/core/src/theme.ts"],"sourcesContent":["import React from 'react'\n\nexport const createdDom = (): boolean =>\n  !!(\n    typeof window !== 'undefined' &&\n    window.document &&\n    window.document.createElement\n  )\n\nexport const getPlatform = (): string =>\n  (navigator as any).userAgentData?.platform ?? navigator.platform\n\nexport const vendor = (v: RegExp): boolean =>\n  createdDom() && v.test(navigator.vendor)\nexport const platform = (v: RegExp): boolean =>\n  createdDom() && v.test(getPlatform())\n\nexport const isMac = (): boolean => platform(/^mac/)\nexport const isApple = (): boolean => platform(/mac|iphone|ipad|ipod/i)\nexport const isSafari = (): boolean => isApple() && vendor(/apple/i)\n\nexport const isElement = (el: any): el is Element =>\n  el != null &&\n  typeof el == 'object' &&\n  'nodeType' in el &&\n  el.nodeType === Node.ELEMENT_NODE\n\nexport const isHTMLElement = (el: any): el is HTMLElement => {\n  if (!isElement(el)) return false\n\n  const win = el.ownerDocument.defaultView ?? window\n\n  return el instanceof win.HTMLElement\n}\n\nexport const isHidden = (el: HTMLElement): boolean => {\n  if (el.parentElement && isHidden(el.parentElement)) return true\n\n  return el.hidden\n}\n\nexport const isDisabled = (el: HTMLElement): boolean =>\n  Boolean(el.getAttribute('disabled')) === true ||\n  Boolean(el.getAttribute('aria-disabled')) === true\n\nconst isVisible = (el: HTMLElement) => el.offsetWidth > 0 && el.offsetHeight > 0\n\nexport const hasTabIndex = (el: HTMLElement): boolean =>\n  el.hasAttribute('tabindex')\n\nexport const isContentEditable = (el: HTMLElement): boolean => {\n  const value = el.getAttribute('contenteditable')\n\n  return value !== 'false' && value != null\n}\n\nexport const isContains = (\n  parent: HTMLElement | null,\n  child: HTMLElement | null,\n): boolean | undefined => {\n  return parent === child || parent?.contains(child)\n}\n\nexport const getEventRelatedTarget = (\n  ev: React.FocusEvent | React.MouseEvent,\n) =>\n  (ev.relatedTarget ??\n    ev.currentTarget.ownerDocument.activeElement) as HTMLElement | null\n\ntype Booleanish = boolean | 'true' | 'false'\n\nexport const dataAttr = (condition: boolean | undefined) =>\n  (condition ? '' : undefined) as Booleanish\n\nexport const ariaAttr = (\n  condition: boolean | undefined,\n): boolean | undefined => (condition ? true : undefined)\n\nexport type FocusableElement = {\n  focus: (options?: FocusOptions) => void\n}\n\nconst focusableElList = [\n  'input:not(:disabled):not([disabled])',\n  'select:not(:disabled):not([disabled])',\n  'textarea:not(:disabled):not([disabled])',\n  'embed',\n  'iframe',\n  'object',\n  'a[href]',\n  'area[href]',\n  'button:not(:disabled):not([disabled])',\n  '[tabindex]',\n  'audio[controls]',\n  'video[controls]',\n  '*[tabindex]:not([aria-disabled])',\n  '*[contenteditable]',\n]\n\nconst focusableElSelector: string = focusableElList.join()\n\nexport const getAllFocusable = <T extends HTMLElement>(container: T): T[] => {\n  const focusableEls: T[] = Array.from(\n    container.querySelectorAll<T>(focusableElSelector),\n  )\n\n  focusableEls.unshift(container)\n\n  return focusableEls.filter((el) => isFocusable(el) && isVisible(el))\n}\n\nexport const isFocusable = (el: HTMLElement): boolean => {\n  if (!isHTMLElement(el) || isHidden(el) || isDisabled(el)) {\n    return false\n  }\n\n  const { localName } = el\n  const focusableTags = ['input', 'select', 'textarea', 'button']\n\n  if (focusableTags.indexOf(localName) >= 0) return true\n\n  const others = {\n    a: () => el.hasAttribute('href'),\n    audio: () => el.hasAttribute('controls'),\n    video: () => el.hasAttribute('controls'),\n  }\n\n  if (localName in others) return others[localName as keyof typeof others]()\n\n  if (isContentEditable(el)) return true\n\n  return hasTabIndex(el)\n}\n\nexport const hasNegativeTabIndex = (el: HTMLElement): boolean =>\n  hasTabIndex(el) && el.tabIndex === -1\n\nexport const isTabbable = (el?: HTMLElement | null): boolean =>\n  el ? isHTMLElement(el) && isFocusable(el) && !hasNegativeTabIndex(el) : false\n\nexport const getOwnerWindow = (\n  node?: Element | null,\n): Window & typeof globalThis => getOwnerDocument(node)?.defaultView ?? window\n\nexport const getOwnerDocument = (el?: Element | null): Document =>\n  isElement(el) ? el.ownerDocument : document\n\nexport const getActiveElement = (el?: HTMLElement): HTMLElement =>\n  getOwnerDocument(el).activeElement as HTMLElement\n\nexport const isActiveElement = (el: HTMLElement) => {\n  return getActiveElement(el) === el\n}\n","export const escape = (value: string, replaceValue: string = ''): string =>\n  value.replace(/\\s+/g, replaceValue)\n","type Operator = '+' | '-' | '*' | '/'\n\nexport type Operand = string | number\n\nconst toExpression = (operator: Operator, ...args: Operand[]) =>\n  args.join(` ${operator} `).replace(/calc/g, '')\n\nconst add = (...args: Operand[]) => `calc(${toExpression('+', ...args)})`\n\nconst subtract = (...args: Operand[]) => `calc(${toExpression('-', ...args)})`\n\nconst multiply = (...args: Operand[]) => `calc(${toExpression('*', ...args)})`\n\nconst divide = (...args: Operand[]) => `calc(${toExpression('/', ...args)})`\n\nconst negate = (value: Operand) => {\n  if (value != null && !isNaN(parseFloat(value.toString())))\n    return String(value).startsWith('-') ? String(value).slice(1) : `-${value}`\n\n  return multiply(value, -1)\n}\n\ntype Calc = {\n  add: (...args: Operand[]) => Calc\n  subtract: (...args: Operand[]) => Calc\n  multiply: (...args: Operand[]) => Calc\n  divide: (...args: Operand[]) => Calc\n  negate: () => Calc\n}\n\nexport const calc = Object.assign(\n  (x: Operand): Calc => ({\n    add: (...args) => calc(add(x, ...args)),\n    subtract: (...args) => calc(subtract(x, ...args)),\n    multiply: (...args) => calc(multiply(x, ...args)),\n    divide: (...args) => calc(divide(x, ...args)),\n    negate: () => calc(negate(x)),\n  }),\n  {\n    add,\n    subtract,\n    multiply,\n    divide,\n    negate,\n  },\n)\n","import { keysFormObject, createdDom, Dict } from '@yamada-ui/utils'\n\nexport type BreakpointQuery = {\n  breakpoint: string\n  minW: number | undefined\n  maxW: number | undefined\n  maxWQuery: string | undefined\n  minWQuery: string | undefined\n  minMaxQuery: string | undefined\n}\n\nexport type BreakpointQueries = BreakpointQuery[]\n\ntype Breakpoints = {\n  keys: string[]\n  isResponsive: (obj: Dict) => boolean\n  queries: BreakpointQueries\n}\n\nconst createQuery = (min?: number, max?: number): string | undefined => {\n  const query = ['@media screen']\n\n  if (min) query.push('and', `(min-width: ${min}px)`)\n  if (max) query.push('and', `(max-width: ${max}px)`)\n\n  return query.length > 1 ? query.join(' ') : undefined\n}\n\nconst createQueries = (breakpoints: Dict): BreakpointQueries => {\n  return Object.entries(breakpoints).map(([breakpoint, maxW], i, entry) => {\n    let [, minW] = entry[i - 1] ?? []\n\n    maxW = breakpoint !== 'base' ? maxW : undefined\n\n    return {\n      breakpoint,\n      minW,\n      maxW,\n      maxWQuery: createQuery(undefined, maxW),\n      minWQuery: createQuery(minW),\n      minMaxQuery: createQuery(minW, maxW),\n    }\n  })\n}\n\nconst transformBreakpoints = (breakpoints: Dict): Dict => {\n  const isBrowser = createdDom()\n  const fontSize = isBrowser\n    ? parseFloat(window.getComputedStyle(document.documentElement).fontSize)\n    : 16\n\n  return Object.fromEntries(\n    Object.entries(breakpoints)\n      .map(([name, value]) => {\n        if (value.includes('px')) {\n          value = parseFloat(value)\n\n          return [name, value]\n        } else {\n          value = parseFloat(value)\n          value = value * fontSize\n\n          return [name, value]\n        }\n      })\n      .sort((a, b) => (a[1] as number) - (b[1] as number)),\n  )\n}\n\nexport const analyzeBreakpoints = (\n  breakpoints: Dict,\n): Breakpoints | undefined => {\n  if (!breakpoints) return\n\n  breakpoints.base = '9999px'\n\n  breakpoints = transformBreakpoints(breakpoints)\n\n  const keys = keysFormObject(breakpoints)\n\n  const queries = createQueries(breakpoints)\n\n  return {\n    keys,\n    isResponsive: (obj: Dict) => {\n      const _keys = Object.keys(obj)\n\n      return _keys.length > 0 && _keys.every((key) => keys.includes(key))\n    },\n    queries,\n  }\n}\n\nexport type AnalyzeBreakpointsReturn = ReturnType<typeof analyzeBreakpoints>\n","import { escape, merge, calc, Dict, isArray } from '@yamada-ui/utils'\nimport { createGradient, pseudos } from '../styles'\nimport { VarTokens } from '../theme'\nimport { CSSMap, StyledTheme } from '../theme.types'\n\ntype Var = {\n  variable: string\n  reference: string\n}\n\nconst createVar = (token: string, prefix: string): Var => {\n  const variable = `--${[prefix, escape(token, '-')].filter(Boolean).join('-')}`\n  const reference = `var(${variable})`\n\n  return { variable, reference }\n}\n\nconst tokenToVar = (_token: string, prefix: string): Var => {\n  const token = _token.replace(/\\./g, '-')\n\n  return createVar(token, prefix)\n}\n\nexport const createVars = (\n  tokens: VarTokens,\n  prefix: string = 'ui',\n): { cssMap: CSSMap; cssVars: Dict } => {\n  let cssMap: CSSMap = {}\n  let cssVars: Dict = {}\n\n  for (let [token, { isSemantic, value }] of Object.entries(tokens)) {\n    const { variable, reference } = tokenToVar(token, prefix)\n\n    let [lightValue, darkValue] = isArray(value) ? [...value] : [value]\n\n    if (token.startsWith('gradients')) {\n      lightValue = createGradient(lightValue, {\n        __cssMap: cssMap,\n      } as StyledTheme<Dict>)\n      darkValue = createGradient(darkValue, {\n        __cssMap: cssMap,\n      } as StyledTheme<Dict>)\n    }\n\n    if (!isSemantic) {\n      if (token.startsWith('spaces')) {\n        const keys = token.split('.')\n        const [firstKey, ...restKeys] = keys\n\n        const negativeToken = `${firstKey}.-${restKeys.join('.')}`\n\n        const negativeValue = calc.negate(lightValue)\n        const negativeReference = calc.negate(reference)\n\n        cssMap[negativeToken] = {\n          value: negativeValue,\n          var: variable,\n          ref: negativeReference,\n        }\n      }\n\n      cssVars[variable] = lightValue\n\n      if (darkValue)\n        cssVars = merge(cssVars, { [pseudos._dark]: { [variable]: darkValue } })\n\n      cssMap[token] = {\n        value: lightValue,\n        var: variable,\n        ref: reference,\n      }\n\n      continue\n    }\n\n    const fetchParent = (\n      value: string | number = '',\n    ): [string | undefined, string | number] => {\n      const [parent] = token.split('.')\n\n      const _token = [parent, value].join('.')\n\n      const tokenValue = tokens[_token]\n\n      if (!tokenValue) return [, value]\n\n      const { variable, reference } = tokenToVar(_token, prefix)\n\n      return [variable, reference]\n    }\n\n    const [parentVar, parentRef] = fetchParent(lightValue)\n\n    cssVars = merge(cssVars, { [variable]: parentRef })\n\n    if (darkValue) {\n      const [, parentRef] = fetchParent(darkValue)\n\n      cssVars = merge(cssVars, { [pseudos._dark]: { [variable]: parentRef } })\n    }\n\n    cssMap[token] = {\n      value: parentVar ?? lightValue,\n      var: variable,\n      ref: reference,\n    }\n  }\n\n  return { cssMap, cssVars }\n}\n","import {\n  Global,\n  ThemeContext,\n  ThemeProvider as EmotionThemeProvider,\n  ThemeProviderProps as EmotionThemeProviderProps,\n  Interpolation,\n  Theme,\n} from '@emotion/react'\nimport {\n  Dict,\n  isUndefined,\n  runIfFunc,\n  getMemoizedObject as get,\n} from '@yamada-ui/utils'\nimport { FC, useMemo, useContext, Context, useState, useCallback } from 'react'\nimport {\n  transformTheme,\n  StyledTheme,\n  ThemeScheme,\n  ThemeConfig,\n  useColorMode,\n  css,\n  UIStyle,\n} from '..'\n\nexport type ChangeThemeScheme = (\n  themeSchemeOrFunc: ThemeScheme | ((themeScheme: ThemeScheme) => ThemeScheme),\n) => void\n\ntype ThemeProviderOptions = {\n  /**\n   * The theme of the yamada ui.\n   *\n   * If omitted, uses the default theme provided by yamada ui.\n   */\n  theme: Dict | Dict[]\n  /**\n   * The config of the yamada ui.\n   *\n   * If omitted, uses the default config provided by yamada ui.\n   */\n  config?: ThemeConfig\n}\n\nexport type ThemeProviderProps = Omit<EmotionThemeProviderProps, 'theme'> &\n  ThemeProviderOptions\n\nexport const ThemeProvider: FC<ThemeProviderProps> = ({\n  theme: initialTheme,\n  config,\n  children,\n}) => {\n  const [themeScheme, setThemeScheme] = useState<ThemeScheme | undefined>(\n    config?.initialThemeScheme,\n  )\n  const theme = useMemo(\n    () =>\n      isUndefined(themeScheme)\n        ? initialTheme\n        : (initialTheme as Dict)[themeScheme],\n    [initialTheme, themeScheme],\n  )\n\n  const changeThemeScheme: ChangeThemeScheme = useCallback(\n    (\n      themeSchemeOrFunc:\n        | ThemeScheme\n        | ((themeScheme: ThemeScheme) => ThemeScheme),\n    ) => {\n      if (isUndefined(themeScheme))\n        throw Error(\n          'changeThemeScheme: `themeScheme` is undefined. Seems you forgot to wrap your config in `initialThemeScheme`',\n        )\n\n      const nextThemeScheme = runIfFunc(themeSchemeOrFunc, themeScheme)\n\n      setThemeScheme(nextThemeScheme)\n    },\n    [themeScheme],\n  )\n\n  const computedTheme = useMemo(\n    () => transformTheme(theme, config),\n    [theme, config],\n  )\n\n  return (\n    <EmotionThemeProvider\n      theme={{ themeScheme, changeThemeScheme, ...computedTheme }}\n    >\n      <CSSVars />\n      {children}\n    </EmotionThemeProvider>\n  )\n}\n\nexport const CSSVars: FC = () => {\n  return (\n    <Global\n      styles={({ __cssVars }: Dict) => ({\n        ':host, :root, [data-theme]': __cssVars,\n      })}\n    />\n  )\n}\n\nexport const ResetStyle: FC = () => {\n  const { colorMode } = useColorMode()\n\n  return (\n    <Global\n      styles={\n        ((theme: StyledTheme<Dict>) => {\n          let style = get<UIStyle>(theme, 'styles.resetStyle', {})\n\n          const computedStyle = runIfFunc(style, { theme, colorMode })\n\n          if (!computedStyle) return undefined\n\n          return css(computedStyle)(theme)\n        }) as Interpolation<Theme>\n      }\n    />\n  )\n}\n\nexport const GlobalStyle: FC = () => {\n  const { colorMode } = useColorMode()\n\n  return (\n    <Global\n      styles={\n        ((theme: StyledTheme<Dict>) => {\n          let style = get<UIStyle>(theme, 'styles.globalStyle', {})\n\n          const computedStyle = runIfFunc(style, { theme, colorMode })\n\n          if (!computedStyle) return undefined\n\n          return css(computedStyle)(theme)\n        }) as Interpolation<Theme>\n      }\n    />\n  )\n}\n\ntype ThemeContext<T extends object = Dict> = Context<\n  {\n    themeScheme: ThemeScheme\n    changeThemeScheme: ChangeThemeScheme\n  } & StyledTheme<T>\n>\n\nexport const useTheme = <T extends object = Dict>() => {\n  const { themeScheme, changeThemeScheme, ...theme } = useContext(\n    ThemeContext as unknown as Context<\n      {\n        themeScheme: ThemeScheme\n        changeThemeScheme: ChangeThemeScheme\n      } & StyledTheme<T>\n    >,\n  )\n\n  if (!theme)\n    throw Error(\n      'useTheme: `theme` is undefined. Seems you forgot to wrap your app in `<UIProvider />`',\n    )\n\n  return { themeScheme, changeThemeScheme, theme } as {\n    themeScheme: ThemeScheme\n    changeThemeScheme: ChangeThemeScheme\n    theme: StyledTheme<T>\n  }\n}\n","import {\n  flattenObject,\n  objectFromEntries,\n  pickObject,\n  omitObject,\n  Dict,\n} from '@yamada-ui/utils'\nimport { ThemeProps, analyzeBreakpoints, createVars } from './css'\nimport { ThemeConfig } from './theme.types'\n\nexport type VarToken = {\n  isSemantic: boolean\n  value: string | number | [string | number, string | number]\n}\n\nexport type VarTokens = Record<string, VarToken>\n\nconst tokens = [\n  'borders',\n  'colors',\n  'fonts',\n  'fontSizes',\n  'fontWeights',\n  'gradients',\n  'letterSpacings',\n  'lineHeights',\n  'radii',\n  'shadows',\n  'sizes',\n  'spaces',\n  'transitions',\n  'zIndices',\n] as const\n\nexport type ThemeToken =\n  | (typeof tokens)[number]\n  | 'transitions.duration'\n  | 'transitions.property'\n  | 'transitions.easing'\n\nexport const transformTheme = <T extends Dict>(\n  _theme: T,\n  config?: ThemeConfig,\n): Dict => {\n  const theme = omitTheme(_theme)\n\n  const tokens = createTokens(theme)\n  const prefix = config?.var?.prefix\n  const breakpoints = theme.breakpoints\n\n  const { cssMap, cssVars } = createVars(tokens, prefix)\n\n  const defaultCSSVars: Dict = {}\n\n  Object.assign(theme, {\n    __config: config,\n    __cssVars: { ...defaultCSSVars, ...cssVars },\n    __cssMap: cssMap,\n    __breakpoints: analyzeBreakpoints(breakpoints),\n  })\n\n  return theme\n}\n\nconst createTokens = (theme: Dict): VarTokens => {\n  const keys = tokens as unknown as string[]\n\n  const defaultTokens = pickObject(theme, keys)\n\n  const semanticTokens = theme.semantics ?? {}\n\n  const defaultTokenEntries = Object.entries(\n    flattenObject(defaultTokens) ?? {},\n  ).map(([token, value]) => {\n    const enhancedToken = { isSemantic: false, value }\n\n    return [token, enhancedToken] as [string, VarToken]\n  })\n\n  const semanticTokenEntries = Object.entries(\n    flattenObject(semanticTokens) ?? {},\n  ).map(([token, value]) => {\n    const enhancedToken = { isSemantic: true, value }\n\n    return [token, enhancedToken] as [string, VarToken]\n  })\n\n  return objectFromEntries<VarTokens>([\n    ...defaultTokenEntries,\n    ...semanticTokenEntries,\n  ])\n}\n\nconst omitTheme = (theme: Dict): Dict =>\n  omitObject(theme, ['__cssMap', '__cssVar', '__breakpoints'])\n\nexport const omitThemeProps = <T extends ThemeProps>(props: T) =>\n  omitObject(props, ['size', 'variant', 'colorScheme'])\n"],"names":["createdDom","getPlatform","_a","vendor","v","platform","isMac","isApple","isSafari","isElement","el","isHTMLElement","win","isHidden","isDisabled","isVisible","hasTabIndex","isContentEditable","value","isContains","parent","child","getEventRelatedTarget","ev","dataAttr","condition","ariaAttr","focusableElList","focusableElSelector","getAllFocusable","container","focusableEls","isFocusable","localName","others","hasNegativeTabIndex","isTabbable","getOwnerWindow","node","getOwnerDocument","getActiveElement","isActiveElement","escape","replaceValue","toExpression","operator","args","add","subtract","multiply","divide","negate","calc","x","createQuery","min","max","query","createQueries","breakpoints","breakpoint","maxW","i","entry","minW","transformBreakpoints","fontSize","name","a","b","analyzeBreakpoints","keys","keysFormObject","queries","obj","_keys","key","createVar","token","prefix","variable","reference","tokenToVar","_token","createVars","tokens","cssMap","cssVars","isSemantic","lightValue","darkValue","isArray","createGradient","firstKey","restKeys","negativeToken","negativeValue","negativeReference","merge","pseudos","fetchParent","parentVar","parentRef","ThemeProvider","initialTheme","config","children","themeScheme","setThemeScheme","useState","theme","useMemo","isUndefined","changeThemeScheme","useCallback","themeSchemeOrFunc","nextThemeScheme","runIfFunc","computedTheme","transformTheme","jsxs","EmotionThemeProvider","jsx","CSSVars","Global","__cssVars","ResetStyle","colorMode","useColorMode","style","get","computedStyle","css","GlobalStyle","useTheme","useContext","ThemeContext","_theme","omitTheme","createTokens","defaultTokens","pickObject","semanticTokens","defaultTokenEntries","flattenObject","semanticTokenEntries","objectFromEntries","omitObject","omitThemeProps","props"],"mappings":"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"}