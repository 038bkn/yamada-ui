{"version":3,"file":"extend-theme-28c0d9a5.js","sources":["../../packages/theme-tools/src/extend-theme.ts"],"sourcesContent":["import {\n  UsageTheme,\n  ThemeToken,\n  ThemeTokens,\n  ComponentStyle,\n  ComponentSizes,\n  ComponentVariants,\n  ComponentDefaultProps,\n  UIStyle,\n  UIStyleProps,\n} from '@yamada-ui/core'\nimport { defaultTheme } from '@yamada-ui/theme'\nimport {\n  Dict,\n  merge as mergeObject,\n  getMemoizedObject as get,\n  runIfFunc,\n  omitObject,\n  pickObject,\n  isFunction,\n} from '@yamada-ui/utils'\n\ntype Options = {\n  merge?: boolean\n  omit?: (keyof typeof defaultTheme)[]\n  pick?: (keyof typeof defaultTheme)[]\n}\n\nexport const extendTheme =\n  (...extensions: (UsageTheme | ((theme: UsageTheme) => UsageTheme))[]) =>\n  ({ merge = true, pick = [], omit = [] }: Options = {}): Dict => {\n    let overrides = [...extensions]\n    let theme = extensions[extensions.length - 1]\n\n    let computedTheme: Dict = defaultTheme\n\n    if (omit.length) computedTheme = omitObject(computedTheme, omit)\n    if (pick.length) computedTheme = pickObject(computedTheme, pick)\n\n    if (!isFunction(theme) && overrides.length > 1) {\n      overrides = overrides.slice(0, overrides.length - 1)\n\n      if (merge) theme = mergeObject(computedTheme, theme)\n    } else {\n      theme = merge ? computedTheme : {}\n    }\n\n    return overrides.reduce(\n      (prev, extension) => mergeObject(prev, runIfFunc(extension, prev)),\n      theme as Dict,\n    )\n  }\n\nexport const extendToken = (\n  token: ThemeToken,\n  tokens?: ThemeTokens,\n): ThemeTokens =>\n  mergeObject(get<ThemeTokens>(defaultTheme, token, {}), tokens ?? {})\n\nexport const extendStyle = (\n  name: 'globalStyle' | 'resetStyle',\n  style: UIStyle,\n): UIStyle => {\n  const props: UIStyleProps = {\n    theme: {\n      __config: {},\n      __cssMap: {},\n      __cssVars: {},\n      __breakpoints: undefined,\n    },\n  }\n\n  return mergeObject(\n    runIfFunc(get<UIStyle>(defaultTheme, `styles.${name}`, {}), props),\n    runIfFunc(style, props) ?? {},\n  )\n}\n\nexport const extendComponent = (\n  name: keyof (typeof defaultTheme)['components'],\n  componentStyle?: ComponentStyle,\n): ComponentStyle =>\n  mergeObject(\n    get<ComponentStyle>(defaultTheme, `components.${name}`, {}),\n    componentStyle ?? {},\n  )\n\nexport const extendComponentSize = (\n  name: keyof (typeof defaultTheme)['components'],\n  componentSizes?: ComponentSizes,\n): ComponentSizes =>\n  mergeObject(\n    get<ComponentSizes>(defaultTheme, `components.${name}.sizes`, {}),\n    componentSizes ?? {},\n  )\n\nexport const extendComponentVariant = (\n  name: keyof (typeof defaultTheme)['components'],\n  componentVariants?: ComponentVariants,\n): ComponentVariants =>\n  mergeObject(\n    get<ComponentVariants>(defaultTheme, `components.${name}.variants`, {}),\n    componentVariants ?? {},\n  )\n\nexport const extendComponentDefaultProps = (\n  name: keyof (typeof defaultTheme)['components'],\n  componentDefaultProps?: ComponentDefaultProps,\n): ComponentDefaultProps =>\n  mergeObject(\n    get<ComponentDefaultProps>(\n      defaultTheme,\n      `components.${name}.defaultProps`,\n      {},\n    ),\n    componentDefaultProps ?? {},\n  )\n"],"names":["extendTheme","extensions","merge","pick","omit","overrides","theme","computedTheme","defaultTheme","omitObject","pickObject","isFunction","mergeObject","prev","extension","runIfFunc","extendToken","token","tokens","get","extendStyle","name","style","props","extendComponent","componentStyle","extendComponentSize","componentSizes","extendComponentVariant","componentVariants","extendComponentDefaultProps","componentDefaultProps"],"mappings":"qHA4BO,MAAMA,EACX,IAAIC,IACJ,CAAC,CAAEC,MAAAA,EAAQ,GAAM,KAAAC,EAAO,GAAI,KAAAC,EAAO,CAAG,CAAA,EAAa,CAAA,IAAa,CAC1D,IAAAC,EAAY,CAAC,GAAGJ,CAAU,EAC1BK,EAAQL,EAAWA,EAAW,OAAS,CAAC,EAExCM,EAAsBC,EAE1B,OAAIJ,EAAK,SAAwBG,EAAAE,EAAWF,EAAeH,CAAI,GAC3DD,EAAK,SAAwBI,EAAAG,EAAWH,EAAeJ,CAAI,GAE3D,CAACQ,EAAWL,CAAK,GAAKD,EAAU,OAAS,GAC3CA,EAAYA,EAAU,MAAM,EAAGA,EAAU,OAAS,CAAC,EAE/CH,IAAeI,EAAAM,EAAYL,EAAeD,CAAK,IAE3CA,EAAAJ,EAAQK,EAAgB,GAG3BF,EAAU,OACf,CAACQ,EAAMC,IAAcF,EAAYC,EAAME,EAAUD,EAAWD,CAAI,CAAC,EACjEP,CAAA,CAEJ,EAEWU,EAAc,CACzBC,EACAC,IAEAN,EAAYO,EAAiBX,EAAcS,EAAO,CAAA,CAAE,EAAGC,GAAU,CAAA,CAAE,EAExDE,EAAc,CACzBC,EACAC,IACY,CACZ,MAAMC,EAAsB,CAC1B,MAAO,CACL,SAAU,CAAC,EACX,SAAU,CAAC,EACX,UAAW,CAAC,EACZ,cAAe,MACjB,CAAA,EAGK,OAAAX,EACLG,EAAUI,EAAaX,EAAc,UAAUa,CAAI,GAAI,EAAE,EAAGE,CAAK,EACjER,EAAUO,EAAOC,CAAK,GAAK,CAAC,CAAA,CAEhC,EAEaC,EAAkB,CAC7BH,EACAI,IAEAb,EACEO,EAAoBX,EAAc,cAAca,CAAI,GAAI,CAAA,CAAE,EAC1DI,GAAkB,CAAC,CACrB,EAEWC,EAAsB,CACjCL,EACAM,IAEAf,EACEO,EAAoBX,EAAc,cAAca,CAAI,SAAU,EAAE,EAChEM,GAAkB,CAAC,CACrB,EAEWC,EAAyB,CACpCP,EACAQ,IAEAjB,EACEO,EAAuBX,EAAc,cAAca,CAAI,YAAa,EAAE,EACtEQ,GAAqB,CAAC,CACxB,EAEWC,EAA8B,CACzCT,EACAU,IAEAnB,EACEO,EACEX,EACA,cAAca,CAAI,gBAClB,CAAC,CACH,EACAU,GAAyB,CAAC,CAC5B"}