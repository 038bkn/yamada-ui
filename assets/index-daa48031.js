import{r as f}from"./index-76fb7be0.js";import{g as m}from"./theme-8ffbcb8d.js";import{c as d}from"./factory-1710cdec.js";const g=({ref:e,handler:s,enabled:r=!0})=>{const u=d(s),t=f.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1});f.useEffect(()=>{if(!r)return;const i=o=>{c(o,e)&&(t.current.isPointerDown=!0)},a=o=>{if(t.current.ignoreEmulatedMouseEvents){t.current.ignoreEmulatedMouseEvents=!1;return}t.current.isPointerDown&&s&&c(o,e)&&(t.current.isPointerDown=!1,u(o))},E=o=>{t.current.ignoreEmulatedMouseEvents=!0,s&&t.current.isPointerDown&&c(o,e)&&(t.current.isPointerDown=!1,u(o))},n=m(e.current);return n.addEventListener("mousedown",i,!0),n.addEventListener("mouseup",a,!0),n.addEventListener("touchstart",i,!0),n.addEventListener("touchend",E,!0),()=>{n.removeEventListener("mousedown",i,!0),n.removeEventListener("mouseup",a,!0),n.removeEventListener("touchstart",i,!0),n.removeEventListener("touchend",E,!0)}},[s,e,u,t,r])},c=(e,s)=>{var u;const r=e.target;return"button"in e&&e.button>0||r&&!m(r).contains(r)?!1:!((u=s.current)!=null&&u.contains(r))};export{g as u};
//# sourceMappingURL=index-daa48031.js.map
