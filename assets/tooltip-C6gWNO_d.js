import{j as s}from"./jsx-runtime-CKrituN3.js";import{u as ne}from"./index-BHuzZ_Dc.js";import{u as x}from"./index-Cf5kRo1N.js";import{u as ie}from"./index-ClxrVFEX.js";import{r as o}from"./index-CBqU2yxZ.js";import{A as ce}from"./index-_tcQm2Fk.js";import{P as le}from"./container-portal-B2VDKFW4.js";import{m as ae}from"./motion-JgkBPv6g.js";import{s as f}from"./slide-fade-B9Zq0xYk.js";import{s as ue}from"./scale-fade-EghZ5oq0.js";import{f as me}from"./forward-ref-DuAegr0M.js";import{u as fe}from"./use-component-style-BZBbbb_H.js";import{o as de}from"./theme-provider-DZcwar_c.js";import{z as R,A as z,a as pe,h as m,u as F,c as ve,B as xe}from"./factory-Ckx2Jgsp.js";const ge=(l="scale",d)=>{const n={reverse:!0,duration:d,enter:{visibility:"visible"},transitionEnd:{exit:{visibility:"hidden"}}};switch(l){case"scale":return{...ue,custom:{...n,scale:.95}};case"top":return{...f,custom:{...n,offsetY:-16}};case"right":return{...f,custom:{...n,offsetX:16}};case"left":return{...f,custom:{...n,offsetX:-16}};case"bottom":return{...f,custom:{...n,offsetY:16}}}},Fe=me(({closeOnPointerDown:l,z:d,zIndex:n,portalProps:I,withPortal:A=!0,...B},N)=>{let[{z:W,zIndex:S,...X},Y]=fe("Tooltip",B);const{className:_,children:g,label:h,placement:K,modifiers:L,gutter:M,offset:Z,openDelay:b=0,closeDelay:C=0,isDisabled:P,closeOnClick:T,closeOnScroll:q,closeOnMouseDown:G,closeOnEsc:H=!0,animation:y,duration:J,...k}=de(Y);l=G;const{isOpen:t,onOpen:w,onClose:D}=ne(k),i=o.useRef(null),c=o.useRef(),a=o.useRef(),{referenceRef:E,getPopperProps:Q,transformOrigin:U}=ie({enabled:t,placement:K,modifiers:L,gutter:M,offset:Z}),u=o.useCallback(()=>{a.current&&(clearTimeout(a.current),a.current=void 0),D()},[D]),p=o.useCallback(()=>{if(!P&&!c.current){t&&u();const e=R(i.current);c.current=e.setTimeout(w,b)}},[P,t,b,u,w]),r=o.useCallback(()=>{c.current&&(clearTimeout(c.current),c.current=void 0);const e=R(i.current);a.current=e.setTimeout(u,C)},[C,u]),O=o.useCallback(()=>t&&T?r():void 0,[t,T,r]),j=o.useCallback(()=>t&&l?r():void 0,[t,l,r]),V=o.useCallback(e=>t&&e.key==="Escape"?r():void 0,[t,r]);x(()=>z(i.current),"keydown",e=>H?V(e):void 0),x(()=>z(i.current),"scroll",()=>t&&q?u():void 0),x(()=>i.current,"pointerleave",r),o.useEffect(()=>()=>{clearTimeout(c.current),clearTimeout(a.current)},[]);const $=o.useCallback((e={},re=null)=>({...e,ref:pe(i,re,E),onPointerEnter:m(e.onPointerEnter,se=>se.pointerType!=="touch"?p():void 0),onClick:m(e.onClick,O),onPointerDown:m(e.onPointerDown,j),onFocus:m(e.onFocus,p),onBlur:m(e.onBlur,r)}),[E,O,j,p,r]),v=o.Children.only(g),ee=o.cloneElement(v,$(v.props,v.ref)),oe={position:"relative",...X};if(!h)return s.jsx(s.Fragment,{children:g});const te=n??d??S??W;return s.jsxs(s.Fragment,{children:[ee,s.jsx(ce,{children:t?s.jsx(le,{isDisabled:!A,...I,children:s.jsx(F.div,{...Q(),zIndex:te,pointerEvents:"none",children:s.jsx(F.div,{as:ae.div,ref:N,className:ve("ui-tooltip",_),style:{transformOrigin:U},...y!=="none"?ge(y,J):{},initial:"exit",animate:t?"enter":"exit",exit:"exit",__css:oe,...xe(k,["isOpen","defaultIsOpen","onOpen","onClose"]),children:h})})}):null})]})});export{Fe as T};
