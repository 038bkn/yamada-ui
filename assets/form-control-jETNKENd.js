import{j as l,a as S}from"./jsx-runtime-5BUNAZ9W.js";import{r as P}from"./index-4g5l5LRQ.js";import{c as H,v as k,M as I,u as v,a as C,K as d,J as g,h as D}from"./factory-Ph6enxrH.js";import{f as h}from"./forward-ref-A-8Arhkk.js";import{u as z}from"./use-component-style-ZmBgLZU3.js";import{o as G}from"./theme-provider-wPz8KGo2.js";const[Q,y]=H({strict:!1,name:"FormControlContext"}),[U,p]=H({strict:!1,name:"FormControlStyleContext"}),is=h(({id:a,...s},r)=>{const[i,t]=z("FormControl",s),{className:o,isRequired:n=!1,isDisabled:c=!1,isInvalid:u=!1,isReadOnly:m=!1,isReplace:f=!0,label:e,helperMessage:F,errorMessage:_,children:b,requiredIndicator:R,optionalIndicator:L,...O}=G(t);a??(a=P.useId());const[M,x]=P.useState(!1),q=k(b),[j]=I(q,E),[A]=I(q,N),[V]=I(q,B),w=!!j,J=!!A,K=!!V,T={...i.container};return l(Q,{value:{id:a,isFocused:M,isRequired:n,isDisabled:c,isInvalid:u,isReadOnly:m,isReplace:f,onFocus:()=>x(!0),onBlur:()=>x(!1)},children:l(U,{value:i,children:S(v.div,{ref:r,className:C("ui-form__control",o),role:"group","data-focus":d(M),"data-disabled":d(c),"data-invalid":d(u),"data-readonly":d(m),__css:T,...O,children:[!w&&e?l(E,{requiredIndicator:R,optionalIndicator:L,children:e}):null,b,!J&&F?l(N,{children:F}):null,!K&&_?l(B,{children:_}):null]})})})}),ts=a=>{const s=y(),r=a.id??(s==null?void 0:s.id),i=a.disabled??a.isDisabled??(s==null?void 0:s.isDisabled),t=a.readOnly??a.isReadOnly??(s==null?void 0:s.isReadOnly),o=a.required??a.isRequired??(s==null?void 0:s.isRequired),n=a.isInvalid??(s==null?void 0:s.isInvalid);return{id:r,isDisabled:i,isReadOnly:t,isRequired:o,isInvalid:n}},os=({id:a,disabled:s,readOnly:r,required:i,isDisabled:t,isReadOnly:o,isRequired:n,isInvalid:c,onFocus:u,onBlur:m,...f})=>{const e=y();return s??(s=t??(e==null?void 0:e.isDisabled)),i??(i=n??(e==null?void 0:e.isRequired)),r??(r=o??(e==null?void 0:e.isReadOnly)),c??(c=e==null?void 0:e.isInvalid),{id:a??(e==null?void 0:e.id),disabled:s,required:i,readOnly:r,"aria-disabled":g(s),"aria-readonly":g(r),"aria-required":g(i),"aria-invalid":g(c),"data-readonly":d(r),onFocus:D(e==null?void 0:e.onFocus,u),onBlur:D(e==null?void 0:e.onBlur,m),...s||r?{_hover:{},_active:{},_focus:{},_invalid:{},_focusVisible:{}}:{},...f}},W=["disabled","required","readOnly","aria-disabled","aria-readonly","aria-required","aria-invalid","data-readonly","onFocus","onBlur","_hover","_active","_focus","_invalid","_focusVisible"],X=W,ns=({omit:a=[],pick:s=[]})=>{let r=X;return s.length&&(r=r.filter(i=>s.includes(i))),a.length&&(r=r.filter(i=>!a.includes(i))),r},E=h(({className:a,htmlFor:s,isRequired:r,requiredIndicator:i=l(Y,{}),optionalIndicator:t=null,children:o,...n},c)=>{const{id:u,isRequired:m,isFocused:f,isDisabled:e,isInvalid:F,isReadOnly:_}=y()??{},b=p()??{};r??(r=m);const R={display:"block",pointerEvents:_?"none":void 0,...b.label};return S(v.label,{ref:c,className:C("ui-form__label",a),"data-focus":d(f),"data-disabled":d(e),"data-readonly":d(_),"data-invalid":d(F),htmlFor:s??u,__css:R,style:{cursor:e?"not-allowed":void 0},...n,children:[o,r?i:t]})}),Y=h(({className:a,...s},r)=>{const t={...(p()??{}).requiredIndicator};return l(v.span,{ref:r,className:C("ui-form__required-indicator",a),role:"presentation","aria-hidden":!0,__css:t,...s,children:"*"})}),N=h(({className:a,...s},r)=>{const{isInvalid:i,isReplace:t}=y()??{},o=p()??{};if(t&&i)return null;const n={...o.helperMessage};return l(v.div,{ref:r,className:C("ui-form__helper-message",a),__css:n,...s})}),B=h(({className:a,...s},r)=>{const{isInvalid:i}=y()??{},t=p()??{};if(!i)return null;const o={...t.errorMessage};return l(v.div,{ref:r,className:C("ui-form__error-message",a),"aria-live":"polite",__css:o,...s})});export{B as E,is as F,N as H,E as L,ts as a,X as f,ns as g,os as u};
