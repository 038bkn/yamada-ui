import{j as n}from"./jsx-runtime-X2b_N9AH.js";import{r as f}from"./index-uCp2LrAq.js";import{u as F,s as S}from"./use-image-srgJFAlb.js";import{f as _}from"./forward-ref-Dr5Hqd9a.js";import{u,c as g,Q as L}from"./factory-DcjttzXA.js";const R=_((o,e)=>{let{fallback:a,src:b,srcSet:x,loading:t,ignoreFallback:s,crossOrigin:d,className:i,fallbackStrategy:k="beforeLoadOrError",onError:j,onLoad:p,referrerPolicy:E,size:c,fit:l,...r}=o;s=t!=null||s||!a;const I=F({...o,ignoreFallback:s}),m=f.useMemo(()=>({boxSize:c,objectFit:l}),[c,l]);return S(I,k)?f.isValidElement(a)?a:n.jsx(u.img,{ref:e,className:g("ui-image--fallback",i),src:a,__css:m,...s?{...r,onError:j,onLoad:p}:r}):n.jsx(u.img,{ref:e,src:b,srcSet:x,crossOrigin:d,loading:t,referrerPolicy:E,className:g("ui-image",i),__css:m,...s?r:L(r,["onError","onLoad"])})});export{R as I};
