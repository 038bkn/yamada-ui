import{j as a}from"./emotion-use-insertion-effect-with-fallbacks.browser.esm-CIjPhCfQ.js";import{u as qe}from"./index-CrebD9Bq.js";import{r as n}from"./index-BwDkhjyp.js";import{d as ee,i as we,a as Ve,b as Ge,C as Je}from"./ja-C2UuvmQa.js";import{u as Qe}from"./index-BCwor68u.js";import{u as Xe}from"./index-Dl3F70TH.js";import{u as Ze}from"./index-BL4_Hm1h.js";import{u as $e,f as et}from"./form-control-Cz6JKnCW.js";import{p as tt,P as ot,b as nt,a as at}from"./popover-content-BDOAG20m.js";import{u as st,o as rt}from"./theme-provider-CVIzrPws.js";import{T as lt,a0 as it,a1 as ct,R as ut,ab as pt,U as dt,a as te,h as A,d as Fe,l as ft,f as Ee,ac as mt,b as U,c as W,t as Ct,j as Pt}from"./factory-BrsV2ztw.js";import{P as ht}from"./container-portal-B-ufUncH.js";import{b as gt,a as kt}from"./icon-bEgKfv7t.js";import{f as oe}from"./forward-ref-BmTAT9U5.js";import{a as bt}from"./use-component-style-C-MS2_vZ.js";const yt=i=>{var Oe,Ie;const{theme:c}=st();let{id:u,closeOnBlur:f=!0,closeOnEsc:C=!0,placement:m="bottom-start",duration:r=.2,enableMultiple:p,enableRange:g,value:P,defaultValue:j,onChange:R,type:O,defaultType:x,onChangeType:B,month:D,defaultMonth:T,onChangeMonth:S,firstDayOfWeek:N,amountOfMonths:M,paginateBy:H,withWeekdays:z,disableOutsideDays:I,hiddenOutsideDays:k,minDate:d,maxDate:h,locale:t,yearFormat:l,monthFormat:w,weekdayFormat:ae,dateFormat:se,weekendDays:re,today:le,excludeDate:b,calendarVariant:ie,calendarSize:ce,calendarColorScheme:ue,holidays:pe,withHeader:de,withControls:fe,withLabel:me,maxSelectValues:Ce,__selectType:Pe,calendarProps:he,allowInput:y=!0,allowInputBeyond:L=!1,parseDate:q,pattern:Te=/[^0-9\-\/]/g,inputFormat:G="YYYY/MM/DD",autoFocus:Y=!0,isOpen:Be,defaultIsOpen:Se,onOpen:Ne,onClose:Me,onClear:J,onEnter:ge,onDelete:ke,..._}=$e(i);t??(t=((Ie=(Oe=c.__config)==null?void 0:Oe.date)==null?void 0:Ie.locale)??"en");const{"aria-readonly":Ot,...V}=lt(_,et),[be,He]=it(ut(_,tt),ct),{disabled:Q,readOnly:X}=V,{isOpen:s,onOpen:ye,onClose:F}=Xe({isOpen:Be,defaultIsOpen:Se,onOpen:Ne,onClose:Me}),Z=n.useRef(null),K=n.useRef(null),ze=n.useCallback(e=>{let o=(q==null?void 0:q(e))??ee(e,G,t).toDate();if(o!=null&&!(b!=null&&b(o)))return L||(h&&we(o,h)&&(o=h),d&&Ve(o,d)&&(o=d)),o},[L,b,G,t,h,d,q]),Ye=n.useCallback(e=>{if(e!=null&&!(b!=null&&b(e)))return L||(h&&we(e,h)&&(e=h),d&&Ve(e,d)&&(e=d)),ee(e).locale(t??"en").format(G)},[L,b,G,t,h,d]),v=n.useCallback(()=>{var e;Q||X||(ye(),Y&&y&&((e=K.current)==null||e.focus()))},[Y,y,Q,X,ye]),_e=n.useCallback(()=>{var e;s?Y&&y&&((e=K.current)==null||e.focus()):v()},[Y,y,s,v]),ve=n.useCallback(()=>{s||v()},[s,v]),xe=n.useCallback(e=>{const o=pt(e);dt(Z.current,o)||f&&s&&F()},[f,s,F]),De=n.useCallback(e=>{if(e.key===" "&&(e.key=e.code),Q||X)return;const $={Space:s?void 0:E=>{E.preventDefault(),E.stopPropagation(),v()},Enter:s?ge:E=>{E.preventDefault(),E.stopPropagation(),v()},Escape:C?E=>{E.preventDefault(),E.stopPropagation(),F()}:void 0,Backspace:ke}[e.key];$&&$(e)},[C,Q,X,s,F,ge,ke,v]),je=n.useCallback(e=>{var o;e.stopPropagation(),J==null||J(),Y&&y&&s&&((o=K.current)==null||o.focus())},[Y,y,s,J]);Ze({ref:Z,handler:F,enabled:s&&f});const Ae=n.useCallback((e={},o=null)=>({ref:te(Z,o),...be,...e,...V,onClick:A(e.onClick,_.onClick,_e),onBlur:A(e.onBlur,_.onBlur,xe)}),[be,V,xe,_e,_]),Ke=n.useCallback(e=>({..._,...e,isOpen:s,onOpen:v,onClose:F,placement:m,duration:r,trigger:"never",closeOnButton:!1,closeOnBlur:!1}),[r,s,F,v,m,_]),Ue=n.useCallback((e={},o=null)=>{const $={...e.style,...y?{}:{cursor:"pointer"}};return{ref:te(K,o),tabIndex:y?-1:0,...e,...V,style:$,"data-active":Fe(s),"aria-expanded":Fe(s),onFocus:A(e.onFocus,_.onFocus,ve),onKeyDown:A(e.onKeyDown,_.onKeyDown,De)}},[y,V,s,_,ve,De]),We=n.useCallback(e=>({...e,type:O,defaultType:x,onChangeType:B,month:D,defaultMonth:T,onChangeMonth:S,firstDayOfWeek:N,amountOfMonths:M,paginateBy:H,withWeekdays:z,disableOutsideDays:I,hiddenOutsideDays:k,yearFormat:l,monthFormat:w,weekdayFormat:ae,dateFormat:se,weekendDays:re,today:le,holidays:pe,withHeader:de,withControls:fe,withLabel:me,maxSelectValues:Ce,variant:ie,size:ce,colorScheme:ue,...he,value:P,defaultValue:j,onChange:R,minDate:d,maxDate:h,excludeDate:b,locale:t,__selectType:Pe,enableMultiple:p,enableRange:g}),[k,Ce,p,g,M,ue,he,ce,ie,se,T,x,j,I,b,N,pe,t,h,d,D,w,R,S,B,H,le,O,P,ae,re,fe,de,me,z,l,Pe]),Le=n.useCallback(({clear:e,...o})=>({...o,...V,onClick:A(o.onClick,e?je:void 0)}),[V,je]);return{id:u,allowInput:y,pattern:Te,inputProps:He,formControlProps:V,containerRef:Z,inputRef:K,isOpen:s,onOpen:v,onClose:F,dateToString:Ye,stringToDate:ze,getContainerProps:Ae,getPopoverProps:Ke,getFieldProps:Ue,getCalendarProps:We,getIconProps:Le}},[_t,ne]=ft({strict:!1,name:"DatePickerContext"}),vt=({value:i,defaultValue:c,onChange:u,placeholder:f,closeOnSelect:C=!0,...m})=>{const[r,p]=Qe({value:i,defaultValue:c,onChange:u,onUpdate:(t,l)=>!Ge(t,l)}),{inputRef:g,id:P,allowInput:j,pattern:R,inputProps:O,formControlProps:x,onClose:B,dateToString:D,stringToDate:T,getContainerProps:S,getPopoverProps:N,getFieldProps:M,getCalendarProps:H,getIconProps:z}=yt({...m,value:r,defaultValue:c,onChange:t=>{const l=D(t);p(t),k(l),C&&t&&B()},onClear:()=>{p(void 0),k(void 0)},onClose:()=>{var l;const t=D(r);k(t),(l=m.onClose)==null||l.call(m)}}),[I,k]=n.useState(D(r)),d=n.useCallback(t=>{let l=t.target.value;l=l.replace(R,"");const w=T(l);k(l),w&&ee(w).isValid()?p(w):p(void 0)},[R,T,k,p]);Ee(()=>{p(i)},[i]),Ee(()=>{if(g.current&&mt(g.current))return;const t=D(r);k(t)},[r]);const h=n.useCallback((t={},l=null)=>{const w={...t.style,...O.style,...j?{}:{pointerEvents:"none"}};return{placeholder:f,...x,autoComplete:"off",...O,...t,ref:l,style:w,id:P,tabIndex:j?0:-1,value:I??"",cursor:x.readOnly?"default":"text",pointerEvents:x.disabled?"none":"auto",onChange:A(t.onChange,d)}},[O,j,f,x,P,I,d]);return{value:r,getContainerProps:S,getPopoverProps:N,getFieldProps:M,getInputProps:h,getIconProps:z,getCalendarProps:H}},Kt=oe((i,c)=>{const[u,f]=bt("DatePicker",i);let{className:C,isClearable:m=!0,color:r,h:p,height:g,minH:P,minHeight:j,containerProps:R,inputProps:O,iconProps:x,clearIconProps:B,portalProps:D={isDisabled:!0},...T}=rt(f);const{getPopoverProps:S,getContainerProps:N,getCalendarProps:M,getFieldProps:H,getInputProps:z,getIconProps:I,value:k}=vt(T);p??(p=g),P??(P=j);const d={w:"100%",h:"fit-content",color:r,...u.container};return a.jsx(_t,{value:u,children:a.jsx(ot,{...S(),children:a.jsxs(U.div,{className:W("ui-date-picker",C),__css:d,...N(R),children:[a.jsxs(U.div,{className:"ui-date-picker__inner",__css:{position:"relative",...u.inner},children:[a.jsx(xt,{...H({h:p,minH:P},c),inputProps:z(O)}),m&&k?a.jsx(jt,{...I({clear:!0,...B})}):a.jsx(Re,{...I({clear:!1,...x})})]}),a.jsx(ht,{...D,children:a.jsx(nt,{className:"ui-date-picker__popover",__css:{...u.list},children:a.jsx(Je,{className:"ui-date-picker__calendar",...M()})})})]})})})}),xt=oe(({className:i,h:c,minH:u,inputProps:f,...C},m)=>{const r=ne(),{ref:p,...g}=f,P={pe:"2rem",h:c,minH:u,display:"flex",alignItems:"center",...r.field};return a.jsx(at,{children:a.jsx(U.div,{className:W("ui-date-picker__field",i),__css:P,...C,children:a.jsx(U.input,{"aria-label":"Input date value",ref:te(m,p),className:"ui-date-picker__field__input",display:"inline-block",w:"100%",...g})})})}),Re=oe(({className:i,children:c,__css:u,...f},C)=>{const r={position:"absolute",top:"50%",transform:"translateY(-50%)",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",cursor:"pointer",...ne().icon,...u},g=Ct(c).map(P=>n.cloneElement(P,{focusable:!1,"aria-hidden":!0,style:{maxWidth:"1em",maxHeight:"1em",color:"currentColor"}}));return a.jsx(U.div,{ref:C,className:W("ui-date-picker__icon",i),__css:r,...f,children:Pt(c)?g:a.jsx(Dt,{})})}),Dt=({className:i,...c})=>a.jsx(gt,{className:W("ui-date-picker__icon__calendar",i),viewBox:"0 0 24 24",...c,children:a.jsx("path",{fill:"currentColor",d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"})}),jt=({className:i,children:c,...u})=>{const f=n.useRef(null),C=ne(),m=u.disabled,r=qe({ref:f,isDisabled:m,...u});return a.jsx(Re,{"aria-label":"Clear value",className:W("ui-date-picker__icon--clear",i),__css:C.clearIcon,...r,children:c??a.jsx(kt,{w:"0.5em",h:"0.5em"})})};export{Kt as D,_t as a,xt as b,jt as c,Re as d,ne as e,yt as u};
