import{r as E}from"./index-de62f0e0.js";import{a as m}from"./theme-326cd56d.js";import{f as d}from"./factory-07cc9cf0.js";const p=({ref:e,handler:s,enabled:r=!0})=>{const u=d(s),t=E.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1});E.useEffect(()=>{if(!r)return;const i=o=>{c(o,e)&&(t.current.isPointerDown=!0)},a=o=>{if(t.current.ignoreEmulatedMouseEvents){t.current.ignoreEmulatedMouseEvents=!1;return}t.current.isPointerDown&&s&&c(o,e)&&(t.current.isPointerDown=!1,u(o))},f=o=>{t.current.ignoreEmulatedMouseEvents=!0,s&&t.current.isPointerDown&&c(o,e)&&(t.current.isPointerDown=!1,u(o))},n=m(e.current);return n.addEventListener("mousedown",i,!0),n.addEventListener("mouseup",a,!0),n.addEventListener("touchstart",i,!0),n.addEventListener("touchend",f,!0),()=>{n.removeEventListener("mousedown",i,!0),n.removeEventListener("mouseup",a,!0),n.removeEventListener("touchstart",i,!0),n.removeEventListener("touchend",f,!0)}},[s,e,u,t,r])},c=(e,s)=>{var u;const r=e.target;return"button"in e&&e.button>0||r&&!m(r).contains(r)?!1:!((u=s.current)!=null&&u.contains(r))};export{p as u};
//# sourceMappingURL=index-a0493534.js.map
