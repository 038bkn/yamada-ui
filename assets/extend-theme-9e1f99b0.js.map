{"version":3,"file":"extend-theme-9e1f99b0.js","sources":["../../packages/theme-tools/src/extend-theme.ts"],"sourcesContent":["import {\n  UsageTheme,\n  ThemeToken,\n  ThemeTokens,\n  ComponentStyle,\n  ComponentSizes,\n  ComponentVariants,\n  ComponentDefaultProps,\n  UIStyle,\n  UIStyleProps,\n  ComponentMultiSizes,\n  ComponentMultiVariants,\n  ComponentMultiStyle,\n} from \"@yamada-ui/core\"\nimport { baseTheme, defaultTheme } from \"@yamada-ui/theme\"\nimport {\n  Dict,\n  merge as mergeObject,\n  getMemoizedObject as get,\n  runIfFunc,\n  omitObject,\n  pickObject,\n  isFunction,\n} from \"@yamada-ui/utils\"\n\ntype Options = {\n  merge?: boolean\n  omit?: (keyof typeof defaultTheme)[]\n  pick?: (keyof typeof defaultTheme)[]\n}\n\nconst createExtendTheme =\n  (initialTheme: Dict = defaultTheme) =>\n  (...extensions: (UsageTheme | ((theme: UsageTheme) => UsageTheme))[]) =>\n  ({ merge = true, pick = [], omit = [] }: Options = {}): Dict => {\n    let overrides = [...extensions]\n    let theme = extensions[extensions.length - 1]\n\n    if (omit.length) initialTheme = omitObject(initialTheme, omit)\n    if (pick.length) initialTheme = pickObject(initialTheme, pick)\n\n    if (!isFunction(theme) && overrides.length > 1) {\n      overrides = overrides.slice(0, overrides.length - 1)\n\n      if (merge) theme = mergeObject(initialTheme, theme)\n    } else {\n      theme = merge ? initialTheme : {}\n    }\n\n    return overrides.reduce(\n      (prev, extension) => mergeObject(prev, runIfFunc(extension, prev)),\n      theme as Dict,\n    )\n  }\n\nexport const extendTheme = createExtendTheme(defaultTheme)\nexport const extendBaseTheme = createExtendTheme(baseTheme)\n\nexport const extendToken = (\n  token: ThemeToken,\n  tokens?: ThemeTokens,\n): ThemeTokens =>\n  mergeObject(get<ThemeTokens>(defaultTheme, token, {}), tokens ?? {})\n\nexport const extendStyle = (\n  name: \"globalStyle\" | \"resetStyle\",\n  style: UIStyle,\n): UIStyle => {\n  const props: UIStyleProps = {\n    theme: {\n      __config: {},\n      __cssMap: {},\n      __cssVars: {},\n      __breakpoints: undefined,\n    },\n  }\n\n  return mergeObject(\n    runIfFunc(get<UIStyle>(defaultTheme, `styles.${name}`, {}), props),\n    runIfFunc(style, props) ?? {},\n  )\n}\n\nexport const extendComponent = (\n  name: keyof (typeof defaultTheme)[\"components\"],\n  componentStyle?: ComponentStyle | ComponentMultiStyle,\n): ComponentStyle | ComponentMultiStyle =>\n  mergeObject(\n    get<ComponentStyle | ComponentMultiStyle>(\n      defaultTheme,\n      `components.${name}`,\n      {},\n    ),\n    componentStyle ?? {},\n  )\n\nexport const extendComponentSize = (\n  name: keyof (typeof defaultTheme)[\"components\"],\n  componentSizes?: ComponentSizes | ComponentMultiSizes,\n): ComponentSizes | ComponentMultiSizes =>\n  mergeObject(\n    get<ComponentSizes>(defaultTheme, `components.${name}.sizes`, {}),\n    componentSizes ?? {},\n  )\n\nexport const extendComponentVariant = (\n  name: keyof (typeof defaultTheme)[\"components\"],\n  componentVariants?: ComponentVariants | ComponentMultiVariants,\n): ComponentVariants | ComponentMultiVariants =>\n  mergeObject(\n    get<ComponentVariants | ComponentMultiVariants>(\n      defaultTheme,\n      `components.${name}.variants`,\n      {},\n    ),\n    componentVariants ?? {},\n  )\n\nexport const extendComponentDefaultProps = (\n  name: keyof (typeof defaultTheme)[\"components\"],\n  componentDefaultProps?: ComponentDefaultProps,\n): ComponentDefaultProps =>\n  mergeObject(\n    get<ComponentDefaultProps>(\n      defaultTheme,\n      `components.${name}.defaultProps`,\n      {},\n    ),\n    componentDefaultProps ?? {},\n  )\n"],"names":["createExtendTheme","initialTheme","defaultTheme","extensions","merge","pick","omit","overrides","theme","omitObject","pickObject","isFunction","mergeObject","prev","extension","runIfFunc","extendTheme","extendToken","token","tokens","get","extendStyle","name","style","props","extendComponent","componentStyle","extendComponentSize","componentSizes","extendComponentVariant","componentVariants","extendComponentDefaultProps","componentDefaultProps"],"mappings":"qHA+BA,MAAMA,EACJ,CAACC,EAAqBC,IACtB,IAAIC,IACJ,CAAC,CAAA,MAAEC,EAAQ,GAAM,KAAAC,EAAO,CAAI,EAAA,KAAAC,EAAO,CAAG,CAAA,EAAa,CAAA,IAAa,CAC1D,IAAAC,EAAY,CAAC,GAAGJ,CAAU,EAC1BK,EAAQL,EAAWA,EAAW,OAAS,CAAC,EAE5C,OAAIG,EAAK,SAAuBL,EAAAQ,EAAWR,EAAcK,CAAI,GACzDD,EAAK,SAAuBJ,EAAAS,EAAWT,EAAcI,CAAI,GAEzD,CAACM,EAAWH,CAAK,GAAKD,EAAU,OAAS,GAC3CA,EAAYA,EAAU,MAAM,EAAGA,EAAU,OAAS,CAAC,EAE/CH,IAAeI,EAAAI,EAAYX,EAAcO,CAAK,IAE1CA,EAAAJ,EAAQH,EAAe,GAG1BM,EAAU,OACf,CAACM,EAAMC,IAAcF,EAAYC,EAAME,EAAUD,EAAWD,CAAI,CAAC,EACjEL,CAAA,CAEJ,EAEWQ,EAAchB,EAAkBE,CAAY,EAG5Ce,EAAc,CACzBC,EACAC,IAEAP,EAAYQ,EAAiBlB,EAAcgB,EAAO,CAAA,CAAE,EAAGC,GAAU,CAAA,CAAE,EAExDE,EAAc,CACzBC,EACAC,IACY,CACZ,MAAMC,EAAsB,CAC1B,MAAO,CACL,SAAU,CAAC,EACX,SAAU,CAAC,EACX,UAAW,CAAC,EACZ,cAAe,MACjB,CAAA,EAGK,OAAAZ,EACLG,EAAUK,EAAalB,EAAc,UAAUoB,CAAI,GAAI,EAAE,EAAGE,CAAK,EACjET,EAAUQ,EAAOC,CAAK,GAAK,CAAC,CAAA,CAEhC,EAEaC,EAAkB,CAC7BH,EACAI,IAEAd,EACEQ,EACElB,EACA,cAAcoB,CAAI,GAClB,CAAC,CACH,EACAI,GAAkB,CAAC,CACrB,EAEWC,EAAsB,CACjCL,EACAM,IAEAhB,EACEQ,EAAoBlB,EAAc,cAAcoB,CAAI,SAAU,EAAE,EAChEM,GAAkB,CAAC,CACrB,EAEWC,EAAyB,CACpCP,EACAQ,IAEAlB,EACEQ,EACElB,EACA,cAAcoB,CAAI,YAClB,CAAC,CACH,EACAQ,GAAqB,CAAC,CACxB,EAEWC,EAA8B,CACzCT,EACAU,IAEApB,EACEQ,EACElB,EACA,cAAcoB,CAAI,gBAClB,CAAC,CACH,EACAU,GAAyB,CAAC,CAC5B"}