import{j as f}from"./jsx-runtime-CKrituN3.js";import{r as u}from"./index-CBqU2yxZ.js";import{u as I,s as F}from"./use-image-Bny3T2ZS.js";import{f as S}from"./forward-ref-DuAegr0M.js";import{u as g,c as b,E as x}from"./factory-Of2RQyuI.js";const y=S((o,e)=>{let{fallback:a,src:d,srcSet:k,loading:t,ignoreFallback:s,crossOrigin:i,className:c,fallbackStrategy:E="beforeLoadOrError",referrerPolicy:j,size:l,fit:m,...r}=o;s=t!=null||s||!a;const p=I({...o,crossOrigin:i,ignoreFallback:s}),n=u.useMemo(()=>({boxSize:l,objectFit:m}),[l,m]);return F(p,E)?u.isValidElement(a)?a:f.jsx(g.img,{ref:e,className:b("ui-image--fallback",c),src:a,__css:n,...s?r:x(r,["onError","onLoad"])}):f.jsx(g.img,{ref:e,src:d,srcSet:k,crossOrigin:i,loading:t,referrerPolicy:j,className:b("ui-image",c),__css:n,...s?r:x(r,["onError","onLoad"])})});export{y as I};
