import{a as e,j as p,F as U}from"./jsx-runtime-4d953e71.js";import{u as W}from"./index-37462a16.js";import{r as a}from"./index-de62f0e0.js";import{R as E}from"./Combination-8cb803a5.js";import{m as Z}from"./motion-d07cf02b.js";import{L as D}from"./loading-520f6824.js";import{u as m,i as V,d as r,e as Q}from"./factory-07cc9cf0.js";import{A as M}from"./index-9f37637c.js";import{P as j}from"./container-portal-1a9228bd.js";const q=a.createContext({}),N=i=>({isLoading:()=>{var t,n;return((n=(t=i.current.isLoading).current)==null?void 0:n.call(t))??!1},start:t=>{var n,o;return(o=(n=i.current.start).current)==null?void 0:o.call(n,t)},finish:()=>{var t,n;return(n=(t=i.current.finish).current)==null?void 0:n.call(t)},update:t=>{var n,o;return(o=(n=i.current.update).current)==null?void 0:o.call(n,t)}}),O=i=>i+1,z=i=>i===0?i:i-1,ei=({screen:i,page:t,background:n,custom:o,children:l})=>{const u=a.useRef({isLoading:a.createRef(),start:a.createRef(),finish:a.createRef(),update:a.createRef()}),s=a.useRef({isLoading:a.createRef(),start:a.createRef(),finish:a.createRef(),update:a.createRef()}),R=a.useRef({isLoading:a.createRef(),start:a.createRef(),finish:a.createRef(),update:a.createRef()}),x=a.useRef({isLoading:a.createRef(),start:a.createRef(),finish:a.createRef(),update:a.createRef()}),L=N(u),C=N(s),w=N(R),h=N(x),S={screen:L,page:C,background:w,custom:h};return p(q.Provider,{value:S,children:[l,e(X,{screen:i,page:t,background:n,custom:o,screenLoadingRef:u,pageLoadingRef:s,backgroundLoadingRef:R,customLoadingRef:x})]})},X=({screen:i,page:t,background:n,custom:o,...l})=>{const u=a.useRef(!1),[s,R]=a.useState({loadingCount:i!=null&&i.initialState?1:0,message:void 0,duration:(i==null?void 0:i.duration)??null}),x=a.useRef(!1),[L,C]=a.useState({loadingCount:t!=null&&t.initialState?1:0,message:void 0,duration:(t==null?void 0:t.duration)??null}),w=a.useRef(!1),[h,S]=a.useState({loadingCount:n!=null&&n.initialState?1:0,message:void 0,duration:(n==null?void 0:n.duration)??null}),A=a.useRef(!1),[y,T]=a.useState({loadingCount:o!=null&&o.initialState?1:0,message:void 0,duration:(o==null?void 0:o.duration)??null}),P=a.useMemo(()=>({isLoading:()=>u.current,start:({message:d,duration:f=s.duration??null}={})=>{u.current=!0,R(({loadingCount:c})=>({loadingCount:O(c),message:d,duration:f}))},update:d=>R(f=>({...f,...d})),finish:()=>{u.current=!1,R(({loadingCount:d})=>({loadingCount:z(d),message:void 0,duration:(i==null?void 0:i.duration)??null}))}}),[s,i]),v=a.useMemo(()=>({isLoading:()=>x.current,start:({message:d,duration:f=L.duration??null}={})=>{x.current=!0,C(({loadingCount:c})=>({loadingCount:O(c),message:d,duration:f}))},update:d=>C(f=>({...f,...d})),finish:()=>{x.current=!1,C(({loadingCount:d})=>({loadingCount:z(d),message:void 0,duration:(t==null?void 0:t.duration)??null}))}}),[L,t]),F=a.useMemo(()=>({isLoading:()=>w.current,start:({message:d,duration:f=h.duration??null}={})=>{w.current=!0,S(({loadingCount:c})=>({loadingCount:O(c),message:d,duration:f}))},update:d=>S(f=>({...f,...d})),finish:()=>{w.current=!1,S(({loadingCount:d})=>({loadingCount:z(d),message:void 0,duration:(n==null?void 0:n.duration)??null}))}}),[h,n]),_=a.useMemo(()=>({isLoading:()=>A.current,start:({message:d,duration:f=y.duration??null}={})=>{A.current=!0,T(({loadingCount:c})=>({loadingCount:O(c),message:d,duration:f}))},update:d=>T(f=>({...f,...d})),finish:()=>{A.current=!1,T(({loadingCount:d})=>({loadingCount:z(d),message:void 0,duration:(o==null?void 0:o.duration)??null}))}}),[y,o]);return r(l.screenLoadingRef.current.isLoading,P.isLoading),r(l.screenLoadingRef.current.start,P.start),r(l.screenLoadingRef.current.finish,P.finish),r(l.screenLoadingRef.current.update,P.update),r(l.pageLoadingRef.current.isLoading,v.isLoading),r(l.pageLoadingRef.current.start,v.start),r(l.pageLoadingRef.current.finish,v.finish),r(l.pageLoadingRef.current.update,v.update),r(l.backgroundLoadingRef.current.isLoading,F.isLoading),r(l.backgroundLoadingRef.current.start,F.start),r(l.backgroundLoadingRef.current.finish,F.finish),r(l.backgroundLoadingRef.current.update,F.update),r(l.customLoadingRef.current.isLoading,_.isLoading),r(l.customLoadingRef.current.start,_.start),r(l.customLoadingRef.current.finish,_.finish),r(l.customLoadingRef.current.update,_.update),Q(()=>{i&&R({loadingCount:i!=null&&i.initialState?1:0,message:void 0,duration:(i==null?void 0:i.duration)??null}),t&&C({loadingCount:t!=null&&t.initialState?1:0,message:void 0,duration:(t==null?void 0:t.duration)??null}),n&&S({loadingCount:n!=null&&n.initialState?1:0,message:void 0,duration:(n==null?void 0:n.duration)??null}),o&&T({loadingCount:o!=null&&o.initialState?1:0,message:void 0,duration:(o==null?void 0:o.duration)??null})},[i,t,n,o]),p(U,{children:[e(M,{initial:!1,children:s.loadingCount?e(j,{appendToParentPortal:i==null?void 0:i.appendToParentPortal,containerRef:i==null?void 0:i.containerRef,children:e(E,{allowPinchZoom:(i==null?void 0:i.allowPinchZoom)??!1,enabled:(i==null?void 0:i.blockScrollOnMount)??!0,forwardProps:!0,children:e(a.Fragment,{children:i!=null&&i.component?e(I,{component:i.component,initialState:i==null?void 0:i.initialState,icon:i==null?void 0:i.icon,text:i==null?void 0:i.text,message:s.message,duration:s.duration,onFinish:P.finish}):e(H,{initialState:i==null?void 0:i.initialState,icon:i==null?void 0:i.icon,text:i==null?void 0:i.text,message:s.message,duration:s.duration,onFinish:P.finish})})})}):null}),e(M,{initial:!1,children:L.loadingCount?e(j,{appendToParentPortal:t==null?void 0:t.appendToParentPortal,containerRef:t==null?void 0:t.containerRef,children:e(E,{allowPinchZoom:(t==null?void 0:t.allowPinchZoom)??!1,enabled:(t==null?void 0:t.blockScrollOnMount)??!0,forwardProps:!0,children:e(a.Fragment,{children:t!=null&&t.component?e(I,{component:t.component,initialState:t==null?void 0:t.initialState,icon:t==null?void 0:t.icon,text:t==null?void 0:t.text,message:L.message,duration:L.duration,onFinish:v.finish}):e(J,{initialState:t==null?void 0:t.initialState,icon:t==null?void 0:t.icon,text:t==null?void 0:t.text,message:L.message,duration:L.duration,onFinish:v.finish})})})}):null}),e(M,{initial:!1,children:h.loadingCount?e(j,{appendToParentPortal:n==null?void 0:n.appendToParentPortal,containerRef:n==null?void 0:n.containerRef,children:e(E,{allowPinchZoom:(t==null?void 0:t.allowPinchZoom)??!1,enabled:(t==null?void 0:t.blockScrollOnMount)??!1,forwardProps:!0,children:e(a.Fragment,{children:n!=null&&n.component?e(I,{component:n.component,initialState:n==null?void 0:n.initialState,icon:n==null?void 0:n.icon,text:n==null?void 0:n.text,message:h.message,duration:h.duration,onFinish:F.finish}):e(K,{initialState:n==null?void 0:n.initialState,icon:n==null?void 0:n.icon,text:n==null?void 0:n.text,message:h.message,duration:h.duration,onFinish:F.finish})})})}):null}),e(M,{initial:!1,children:y.loadingCount?e(j,{appendToParentPortal:o==null?void 0:o.appendToParentPortal,containerRef:o==null?void 0:o.containerRef,children:o!=null&&o.component?e(I,{component:o.component,initialState:o==null?void 0:o.initialState,icon:o==null?void 0:o.icon,text:o==null?void 0:o.text,message:y.message,duration:y.duration,onFinish:_.finish}):null}):null})]})},I=({component:i,...t})=>typeof i=="function"?i(t):e(U,{}),Y=(i="fade")=>({initial:{opacity:0,scale:i==="scaleFade"?.95:void 0},animate:{opacity:1,scale:i==="scaleFade"?1:void 0,transition:{duration:.4,ease:[.4,0,.2,1]}},exit:{opacity:0,scale:i==="scaleFade"?.95:void 0,transition:{duration:.4,ease:[.4,0,1,1]}}}),G=(i="fill")=>({position:"fixed",top:0,right:0,bottom:0,left:0,zIndex:9999,bg:i==="fill"?["white","black"]:"blackAlpha.600",w:"100vw",h:"100vh",p:"md",display:"flex",justifyContent:"center",alignItems:"center"}),B=(i,t="fade")=>({initial:i?!1:"initial",animate:"animate",exit:"exit",variants:Y(t)}),H=a.memo(({initialState:i,icon:t,text:n,message:o,duration:l,onFinish:u})=>{const s={maxW:"md",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"sm"};return W(u,l),e(m.div,{as:Z.div,className:"ui-loading-screen",...B(i),__css:G(),children:p(m.div,{__css:s,children:[e(D,{size:"6xl",...t}),o?V(o)?o:e(m.p,{noOfLines:3,...n,children:o}):null]})})});H.displayName="LoadingScreenComponent";const J=a.memo(({initialState:i,icon:t,text:n,message:o,duration:l,onFinish:u})=>{const s={bg:["white","black"],maxW:"md",p:"md",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"sm",rounded:"md",boxShadow:["lg","dark-lg"]};return W(u,l),e(m.div,{as:Z.div,className:"ui-loading-page",...B(i),__css:G("transparent"),children:p(m.div,{as:Z.div,className:"ui-loading-page-container",...B(i,"scaleFade"),__css:s,children:[e(D,{size:"6xl",...t}),o?V(o)?o:e(m.p,{noOfLines:3,...n,children:o}):null]})})});J.displayName="LoadingPageComponent";const K=a.memo(({initialState:i,icon:t,text:n,message:o,duration:l,onFinish:u})=>{const s={position:"fixed",right:"md",bottom:"md",zIndex:"beerus",bg:["white","black"],maxW:"sm",p:"sm",display:"flex",justifyContent:"center",alignItems:"center",gap:"sm",rounded:"md",boxShadow:["3xl","dark-lg"]};return W(u,l),p(m.div,{as:Z.div,className:"ui-loading-page-container",...B(i,"scaleFade"),__css:s,children:[e(D,{size:"xl",...t}),o?V(o)?o:e(m.p,{fontSize:"sm",noOfLines:1,...n,children:o}):null]})});K.displayName="LoadingBackgroundComponent";const li=()=>{const{screen:i,page:t,background:n,custom:o}=a.useContext(q);return{screen:i,page:t,background:n,custom:o}};export{ei as L,li as u};
//# sourceMappingURL=loading-provider-9b746d4c.js.map
