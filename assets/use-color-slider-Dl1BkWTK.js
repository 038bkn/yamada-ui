import{u as ue}from"./index-DathS1El.js";import{u as le,a as ie,b as me}from"./index-Bz2oK1rb.js";import{r}from"./index-CBqU2yxZ.js";import{u as fe,f as q,g as de}from"./form-control-BTl1HNZj.js";import{j as H,e as pe,E as be,a as R,R as I,A as ge,h as D}from"./factory-DKdOmnTE.js";import{r as M,c as E,v as ve,p as Ce}from"./number-49BHn0Cl.js";const ye=({focusThumbOnChange:d=!0,...F})=>{d||(F.isReadOnly=!0);let{id:V,name:A,value:X,defaultValue:G,min:c=0,max:l,step:T=1,onChange:J,onChangeStart:Q,onChangeEnd:W,thumbColor:B,required:U,disabled:C,readOnly:h,...s}=fe(F);const Y=H(Q),S=H(W),[Z,P]=ue({value:X,defaultValue:G??c+(l-c)/2,onChange:J}),a=E(Z,c,l),$=ve(a,c,l),[j,K]=r.useState(!1),w=!(C||h),m=T||(l-c)/100,k=(l-c)/10,z=r.useRef(null),x=r.useRef(null),y=r.useRef(null),o=le({value:a,min:c,max:l,step:T,isInteractive:w,eventSource:null,focusThumbOnChange:d}),b=ie(y),_=r.useCallback(e=>{var O;if(!x.current)return;const{min:t,max:n,step:u}=o.current;o.current.eventSource="pointer";const{left:f,width:ae}=x.current.getBoundingClientRect(),{clientX:se}=((O=e.touches)==null?void 0:O[0])??e;let ce=(se-f)/ae,p=Ce(ce,t,n);return u&&(p=parseFloat(M(p,t,u))),p=E(p,t,n),p},[o]),L=e=>{const{value:t}=o.current,n=_(e);n!=null&&n!==t&&P(n)},ee=r.useCallback(()=>{const{focusThumbOnChange:e}=o.current;e&&setTimeout(()=>{var t;return(t=y.current)==null?void 0:t.focus()})},[o]),i=r.useCallback(e=>{const{isInteractive:t,min:n,max:u}=o.current;t&&(e=parseFloat(M(e,n,m)),e=E(e,n,u),P(e))},[P,o,m]),g=r.useCallback((e=m)=>i(a+e),[i,a,m]),v=r.useCallback((e=m)=>i(a-e),[i,a,m]),N=r.useCallback(e=>{const{min:t,max:n}=o.current,f={ArrowRight:()=>g(),ArrowUp:()=>g(),ArrowLeft:()=>v(),ArrowDown:()=>v(),PageUp:()=>g(k),PageDown:()=>v(k),Home:()=>i(t),End:()=>i(n)}[e.key];f&&(e.preventDefault(),e.stopPropagation(),f(e),o.current.eventSource="keyboard")},[i,o,v,g,k]);me(z,{onSessionStart:e=>{const{isInteractive:t,value:n}=o.current;t&&(K(!0),ee(),L(e),Y(n))},onSessionEnd:()=>{const{isInteractive:e,value:t}=o.current;e&&(K(!1),S(t))},onMove:e=>{const{isInteractive:t}=o.current;t&&L(e)}}),pe(()=>{const{eventSource:e,value:t}=o.current;e==="keyboard"&&S(t)},[a,S]);const te=r.useCallback((e={},t=null)=>{const{width:n}=b??{width:0},u={...e.style,...s.style,paddingInline:`${n/2}px`};return{...e,...be(s,["aria-readonly"]),ref:R(t,z),tabIndex:-1,style:u}},[s,b]),ne=r.useCallback((e={},t=null)=>({...I(s,q),...e,id:V,ref:t,type:"hidden",name:A,value:a,required:U,disabled:C,readOnly:h}),[C,V,A,h,U,s,a]),oe=r.useCallback((e={},t=null)=>({...I(s,de({omit:["aria-readonly"]})),...e,ref:R(t,x)}),[s]),re=r.useCallback((e={},t=null)=>{const n=$,{width:u}=b??{width:0},f={...e.style,position:"absolute",userSelect:"none",touchAction:"none",left:`calc(${n}% - ${u/2}px)`};return{"aria-label":"Slider thumb",bg:B??`hsl(${a}, 100%, 50%)`,...I(s,q),...e,ref:R(t,y),tabIndex:w&&d?0:void 0,role:"slider","aria-valuenow":a,"aria-valuemin":c,"aria-valuemax":l,"data-active":ge(j&&d),onKeyDown:D(e.onKeyDown,N),onFocus:D(e.onFocus,s.onFocus),onBlur:D(e.onBlur,s.onBlur),style:f}},[B,d,j,w,c,l,N,s,$,b,a]);return{value:a,getContainerProps:te,getTrackProps:oe,getInputProps:ne,getThumbProps:re}};export{ye as u};
