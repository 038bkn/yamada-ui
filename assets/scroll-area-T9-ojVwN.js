import{j as p}from"./jsx-runtime-CKrituN3.js";import{r}from"./index-CBqU2yxZ.js";import{i as z,v as D,m as C,h as k,a as K,u as L,c as W}from"./factory-Ckx2Jgsp.js";import{f as H}from"./forward-ref-DuAegr0M.js";import{u as X}from"./use-component-style-BZBbbb_H.js";import{o as Y}from"./theme-provider-DZcwar_c.js";const B={scrollbarWidth:"none",_scrollbar:{display:"none"},"&::-webkit-scrollbar":{display:"none"}},F={_scrollbarTrack:{bg:"transparent"},"&::-webkit-scrollbar-track":{bg:"transparent"},_scrollbarThumb:{bg:"transparent"},"&::-webkit-scrollbar-thumb":{bg:"transparent"},_light:{_scrollbarTrack:{bg:"transparent"},"&::-webkit-scrollbar-track":{bg:"transparent"},_scrollbarThumb:{bg:"transparent"},"&::-webkit-scrollbar-thumb":{bg:"transparent"}},_dark:{_scrollbarTrack:{bg:"transparent"},"&::-webkit-scrollbar-track":{bg:"transparent"},_scrollbarThumb:{bg:"transparent"},"&::-webkit-scrollbar-thumb":{bg:"transparent"}},"@-moz-document url-prefix()":{scrollbarColor:"transparent transparent",_light:{scrollbarColor:"transparent transparent"},_dark:{scrollbarColor:"transparent transparent"}}},Z=H((f,s)=>{const[o,v]=X("ScrollArea",f),{type:e="hover",overflow:y="overlay",scrollHideDelay:l=1e3,onScrollPositionChange:c,...a}=Y(v),[d,T]=r.useState(!1),[n,x]=r.useState(!1),S=e==="always",_=e==="never",w=z()&&D(/apple/i),u=r.useRef(void 0),i=r.useRef(void 0),b=r.useRef(null),m=r.useRef({x:0,y:0});r.useLayoutEffect(()=>{!b.current||!w||(b.current.scrollLeft=m.current.x,b.current.scrollTop=m.current.y)});const M=r.useCallback(()=>{e==="hover"&&(clearTimeout(u.current),T(!0))},[e]),E=r.useCallback(()=>{e==="hover"&&(u.current=setTimeout(()=>T(!1),l))},[l,e]),R=r.useCallback(t=>{const N=t.target,{scrollLeft:g,scrollTop:h}=N,{x:P,y:$}=m.current,q=Math.abs(g-P)<=5&&Math.abs(h-$)<=5;c==null||c({x:g,y:h}),m.current={x:g,y:h},!(e!=="scroll"||q)&&(n||x(!0),clearTimeout(i.current),i.current=setTimeout(()=>x(!1),l))},[n,c,l,e]);r.useEffect(()=>()=>{u.current&&clearTimeout(u.current),i.current&&clearTimeout(i.current)},[]);const j=r.useMemo(()=>{const t={overflow:y,...o};return _?C(t,B):C(t,!S&&!d&&!n?F:{})},[S,d,_,n,y,o]),A=r.useMemo(()=>({__css:j,...a,onMouseEnter:k(a.onMouseEnter,M),onMouseLeave:k(a.onMouseLeave,E),onScroll:k(a.onScroll,R)}),[j,M,E,R,a]);if(w){const t=`${d}-${n}`;return p.jsx(I,{ref:K(s,b),...A},t)}else return p.jsx(I,{ref:s,...A})}),I=H(({className:f,innerProps:s,children:o,...v},e)=>p.jsx(L.div,{ref:e,className:W("ui-scroll-area",f),tabIndex:0,...v,children:s?p.jsx(L.div,{className:"ui-scroll-area__inner",...s,children:o}):o}));export{Z as S};
