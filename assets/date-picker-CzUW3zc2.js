import{j as r,a as xe}from"./jsx-runtime-2xDJh5tt.js";import{u as Ue}from"./index-CSVNuIS3.js";import{r as n}from"./index-CBqU2yxZ.js";import{d as ee,i as Fe,a as Ve,b as $e,C as qe}from"./ja-BNYHqQhI.js";import{u as Ge}from"./index-D4fsg9Nk.js";import{u as Je}from"./index-DOSULgtm.js";import{u as Qe}from"./index-BQXnCrIk.js";import{u as Xe,g as Ze}from"./form-control-AJrH3zEl.js";import{p as et,P as tt,b as ot,a as nt}from"./popover-content-CZ2le_tb.js";import{u as at,o as st}from"./theme-provider-DXhTM26K.js";import{R as rt,_ as it,$ as lt,o as ct,a4 as ut,S as pt,w as te,h as A,M as Ee,a as dt,e as ft,a5 as mt,u as W,c as L,v as Ct,f as Pt}from"./factory-DLpD49Xl.js";import{P as ht}from"./container-portal-mTUMNiRO.js";import{b as gt,a as kt}from"./icon-D30_Pagv.js";import{f as oe}from"./forward-ref-DuAegr0M.js";import{a as yt}from"./use-component-style-D9HuanlY.js";const bt=m=>{var we;const{theme:l}=at();let{id:c,closeOnBlur:p=!0,closeOnEsc:C=!0,placement:d="bottom-start",duration:s=.2,enableMultiple:f,enableRange:g,value:P,defaultValue:I,onChange:B,type:w,defaultType:D,onChangeType:M,month:O,defaultMonth:R,onChangeMonth:T,firstDayOfWeek:N,amountOfMonths:j,paginateBy:H,withWeekdays:z,disableOutsideDays:x,hiddenOutsideDays:k,minDate:u,maxDate:h,locale:t,yearFormat:i,monthFormat:F,weekdayFormat:ae,dateFormat:se,weekendDays:re,today:ie,excludeDate:y,calendarVariant:le,calendarSize:ce,calendarColorScheme:ue,holidays:pe,withHeader:de,withControls:fe,withLabel:me,maxSelectValues:Ce,selectMonthWith:Pe,calendarProps:he,allowInput:b=!0,allowInputBeyond:U=!1,parseDate:$,pattern:Be=/[^0-9\-\/]/g,inputFormat:q="YYYY/MM/DD",autoFocus:Y=!0,isOpen:Re,defaultIsOpen:Me,onOpen:Te,onClose:Ne,onClear:G,onEnter:ge,onDelete:ke,...v}=Xe(m);t??(t=((we=l.__config.date)==null?void 0:we.locale)??"en");const V=rt(v,Ze({omit:["aria-readonly"]})),[ye,je]=it(ct(v,[...et]),[...lt,"aria-readonly"]),{disabled:J,readOnly:Q}=V,{isOpen:a,onOpen:be,onClose:E}=Je({isOpen:Re,defaultIsOpen:Me,onOpen:Te,onClose:Ne}),X=n.useRef(null),K=n.useRef(null),He=n.useCallback(e=>{let o=($==null?void 0:$(e))??ee(e,q,t).toDate();if(o!=null&&!(y!=null&&y(o)))return U||(h&&Fe(o,h)&&(o=h),u&&Ve(o,u)&&(o=u)),o},[U,y,q,t,h,u,$]),ze=n.useCallback(e=>{if(e!=null&&!(y!=null&&y(e)))return U||(h&&Fe(e,h)&&(e=h),u&&Ve(e,u)&&(e=u)),ee(e).locale(t??"en").format(q)},[U,y,q,t,h,u]),_=n.useCallback(()=>{var e;J||Q||(be(),Y&&b&&((e=K.current)==null||e.focus()))},[Y,b,J,Q,be]),ve=n.useCallback(()=>{var e;a?Y&&b&&((e=K.current)==null||e.focus()):_()},[Y,b,a,_]),_e=n.useCallback(()=>{a||_()},[a,_]),De=n.useCallback(e=>{const o=ut(e);pt(X.current,o)||p&&a&&E()},[p,a,E]),Oe=n.useCallback(e=>{if(e.key===" "&&(e.key=e.code),J||Q)return;const Z={Space:a?void 0:S=>{S.preventDefault(),S.stopPropagation(),_()},Enter:a?ge:S=>{S.preventDefault(),S.stopPropagation(),_()},Escape:C?S=>{S.preventDefault(),S.stopPropagation(),E()}:void 0,Backspace:ke}[e.key];Z&&Z(e)},[C,J,Q,a,E,ge,ke,_]),Ie=n.useCallback(e=>{var o;e.stopPropagation(),G==null||G(),Y&&b&&a&&((o=K.current)==null||o.focus())},[Y,b,a,G]);Qe({ref:X,handler:E,enabled:a&&p});const Ye=n.useCallback((e={},o=null)=>({ref:te(X,o),...ye,...e,...V,onClick:A(e.onClick,v.onClick,ve),onBlur:A(e.onBlur,v.onBlur,De)}),[ye,V,De,ve,v]),Ae=n.useCallback(e=>({...v,...e,isOpen:a,onOpen:_,onClose:E,placement:d,duration:s,trigger:"never",closeOnButton:!1,closeOnBlur:!1}),[s,a,E,_,d,v]),Ke=n.useCallback((e={},o=null)=>{const Z={...e.style,...b?{}:{cursor:"pointer"}};return{ref:te(K,o),tabIndex:b?-1:0,...e,...V,style:Z,"data-active":Ee(a),"aria-expanded":Ee(a),onFocus:A(e.onFocus,v.onFocus,_e),onKeyDown:A(e.onKeyDown,v.onKeyDown,Oe)}},[b,V,a,v,_e,Oe]),We=n.useCallback(e=>({...e,type:w,defaultType:D,onChangeType:M,month:O,defaultMonth:R,onChangeMonth:T,firstDayOfWeek:N,amountOfMonths:j,paginateBy:H,withWeekdays:z,disableOutsideDays:x,hiddenOutsideDays:k,yearFormat:i,monthFormat:F,weekdayFormat:ae,dateFormat:se,weekendDays:re,today:ie,holidays:pe,withHeader:de,withControls:fe,withLabel:me,maxSelectValues:Ce,variant:le,size:ce,colorScheme:ue,...he,value:P,defaultValue:I,onChange:B,minDate:u,maxDate:h,excludeDate:y,locale:t,selectMonthWith:Pe,enableMultiple:f,enableRange:g}),[k,Ce,f,g,j,ue,he,ce,le,se,R,D,I,x,y,N,pe,t,h,u,O,F,B,T,M,H,ie,w,P,ae,re,fe,de,me,z,i,Pe]),Le=n.useCallback(({clear:e,...o})=>({...o,...V,onClick:A(o.onClick,e?Ie:void 0)}),[V,Ie]);return{id:c,allowInput:b,pattern:Be,inputProps:je,formControlProps:V,containerRef:X,inputRef:K,isOpen:a,onOpen:_,onClose:E,dateToString:ze,stringToDate:He,getContainerProps:Ye,getPopoverProps:Ae,getFieldProps:Ke,getCalendarProps:We,getIconProps:Le}},[vt,ne]=dt({strict:!1,name:"DatePickerContext"}),_t=({value:m,defaultValue:l,onChange:c,placeholder:p,closeOnSelect:C=!0,...d})=>{const[s,f]=Ge({value:m,defaultValue:l,onChange:c,onUpdate:(t,i)=>!$e(t,i)}),{inputRef:g,id:P,allowInput:I,pattern:B,inputProps:w,formControlProps:D,onClose:M,dateToString:O,stringToDate:R,getContainerProps:T,getPopoverProps:N,getFieldProps:j,getCalendarProps:H,getIconProps:z}=bt({...d,value:s,defaultValue:l,onChange:t=>{const i=O(t);f(t),k(i),C&&t&&M()},onClear:()=>{f(void 0),k(void 0)},onClose:()=>{var i;const t=O(s);k(t),(i=d.onClose)==null||i.call(d)}}),[x,k]=n.useState(O(s)),u=n.useCallback(t=>{let i=t.target.value;i=i.replace(B,"");const F=R(i);k(i),F&&ee(F).isValid()?f(F):f(void 0)},[B,R,k,f]);ft(()=>{if(g.current&&mt(g.current))return;const t=O(s);k(t)},[s]);const h=n.useCallback((t={},i=null)=>{const F={...t.style,...w.style,...I?{}:{pointerEvents:"none"}};return{placeholder:p,...D,...w,...t,ref:i,style:F,id:P,tabIndex:I?0:-1,value:x??"",cursor:D.readOnly?"default":"text",pointerEvents:D.disabled?"none":"auto",onChange:A(t.onChange,u)}},[w,I,p,D,P,x,u]);return{value:s,getContainerProps:T,getPopoverProps:N,getFieldProps:j,getInputProps:h,getIconProps:z,getCalendarProps:H}},At=oe((m,l)=>{const[c,p]=yt("DatePicker",m);let{className:C,isClearable:d=!0,color:s,h:f,height:g,minH:P,minHeight:I,containerProps:B,inputProps:w,iconProps:D,clearIconProps:M,portalProps:O={isDisabled:!0},...R}=st(p);const{getPopoverProps:T,getContainerProps:N,getCalendarProps:j,getFieldProps:H,getInputProps:z,getIconProps:x,value:k}=_t(R);f??(f=g),P??(P=I);const u={w:"100%",h:"fit-content",color:s,...c.container};return r(vt,{value:c,children:r(tt,{...T(),children:xe(W.div,{className:L("ui-date-picker",C),__css:u,...N(B),children:[xe(W.div,{className:"ui-date-picker__inner",__css:{position:"relative",...c.inner},children:[r(Dt,{...H({h:f,minH:P},l),inputProps:z(w)}),d&&k?r(It,{...x({clear:!0,...M})}):r(Se,{...x({clear:!1,...D})})]}),r(ht,{...O,children:r(ot,{className:"ui-date-picker__popover",__css:{...c.list},children:r(qe,{className:"ui-date-picker__calendar",...j()})})})]})})})}),Dt=oe(({className:m,h:l,minH:c,inputProps:p,...C},d)=>{const s=ne(),{ref:f,...g}=p,P={pe:"2rem",h:l,minH:c,display:"flex",alignItems:"center",...s.field};return r(nt,{children:r(W.div,{className:L("ui-date-picker__field",m),__css:P,...C,children:r(W.input,{ref:te(d,f),className:"ui-date-picker__field__input",display:"inline-block",w:"100%",...g})})})}),Se=oe(({className:m,children:l,__css:c,...p},C)=>{const s={position:"absolute",top:"50%",transform:"translateY(-50%)",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",cursor:"pointer",...ne().icon,...c},g=Ct(l).map(P=>n.cloneElement(P,{focusable:!1,"aria-hidden":!0,style:{maxWidth:"1em",maxHeight:"1em",color:"currentColor"}}));return r(W.div,{ref:C,className:L("ui-date-picker__icon",m),__css:s,...p,children:Pt(l)?g:r(Ot,{})})}),Ot=({className:m,...l})=>r(gt,{className:L("ui-date-picker__icon__calendar",m),viewBox:"0 0 24 24",...l,children:r("path",{fill:"currentColor",d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"})}),It=({className:m,children:l,...c})=>{const p=n.useRef(null),C=ne(),d=c.disabled,s=Ue({ref:p,isDisabled:d,...c});return r(Se,{"aria-label":"Clear value",className:L("ui-date-picker__icon--clear",m),__css:C.clearIcon,...s,children:l??r(kt,{w:"0.5em",h:"0.5em"})})};export{At as D,vt as a,Dt as b,It as c,Se as d,ne as e,bt as u};
