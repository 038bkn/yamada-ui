import{j as l,a as ae}from"./jsx-runtime-5BUNAZ9W.js";import{t as se}from"./index-S3kV9-3b.js";import{r as o}from"./index-4g5l5LRQ.js";import{u as oe}from"./index-eGe9nbXZ.js";import{a as J,u as ie,g as X,f as H}from"./form-control-0T-coROG.js";import{g as B,c as ce,v as le,a as Q,o as A,p as W,Z as re,u as R,b as N,e as ue,R as E,w as Z,K as w,h as v}from"./factory-UNqBStR2.js";import{A as de}from"./index-EargzzxG.js";import{m as j}from"./motion-ukEXpwwk.js";import{u as he}from"./use-component-style-gpTvK3UI.js";import{o as fe}from"./theme-provider-4IHjaILr.js";import{F as me}from"./flex-3cqjIH1e.js";const z=n=>n&&W(n)&&W(n.target),Ce=({isNative:n,...d})=>{d.onChange=B(d.onChange);const[e,i]=oe({value:d.value,defaultValue:d.defaultValue||[],onChange:d.onChange}),f=o.useCallback(s=>{const h=z(s)?s.target.checked:!e.includes(s),c=z(s)?s.target.value:s,r=h?[...e,c]:e.filter(a=>String(a)!==String(c));i(r)},[e,i]),y=o.useCallback((s,h=null)=>({...s,ref:h,[n?"checked":"isChecked"]:e.some(c=>String(s==null?void 0:s.value)===String(c)),onChange:f}),[f,n,e]);return{value:e,setValue:i,onChange:f,getCheckboxProps:y}},[ke,be]=ce({strict:!1,name:"CheckboxGroupContext"}),ve=o.forwardRef(({className:n,size:d,variant:e,colorScheme:i,children:f,items:y=[],direction:s="column",gap:h,...c},r)=>{const{value:a,onChange:I}=Ce(c),{isRequired:D,isReadOnly:p,isDisabled:P,isInvalid:S}=J(c),m=le(f);let g=[];return!m.length&&y.length&&(g=y.map(({label:k,value:u,...F},_)=>l(Y,{value:u,...F,children:k},_))),l(ke,{value:{size:d,variant:e,colorScheme:i,isRequired:D,isReadOnly:p,isDisabled:P,isInvalid:S,value:a,onChange:I},children:l(me,{ref:r,className:Q("ui-checkbox-group",n),role:"group",direction:s,gap:h??(s==="row"?"1rem":void 0),...A(c,["value","defaultValue","onChange","isInvalid","isDisabled","isRequired","isReadOnly"]),children:f??g})})});ve.displayName="CheckboxGroup";const ge=n=>{const{id:d,name:e,value:i,defaultIsChecked:f,tabIndex:y,required:s,disabled:h,readOnly:c,isIndeterminate:r,...a}=ie(n),[I,D]=o.useState(!1),[p,P]=o.useState(!1),[S,m]=o.useState(!1),[g,k]=o.useState(!1),u=o.useRef(null),[F,_]=o.useState(!0),[L,M]=o.useState(!!f),q=n.isChecked!==void 0,b=q?n.isChecked:L,K=B(t=>{var x;if(c||h){t.preventDefault();return}q||M(!b||r?!0:t.target.checked),(x=a.onChange)==null||x.call(a,t)},[c,h,q,b,r]),G=B(a.onBlur),U=B(a.onFocus),V=o.useCallback(({key:t})=>{t===" "&&k(!0)},[k]),O=o.useCallback(({key:t})=>{t===" "&&k(!1)},[k]);o.useEffect(()=>se(D),[]),N(()=>{u.current&&(u.current.indeterminate=!!r)},[r]),ue(()=>{h&&P(!1)},[h,P]),N(()=>{var t;(t=u.current)!=null&&t.form&&(u.current.form.onreset=()=>M(!!f))},[]),N(()=>{u.current&&u.current.checked!==b&&M(u.current.checked)},[u.current]);const $=o.useCallback((t={},x=null)=>({...E(a,X({omit:["aria-readonly"]})),...t,ref:Z(x,C=>{C&&_(C.tagName==="LABEL")}),"data-checked":w(b),onClick:v(t.onClick,()=>{var C;F||((C=u.current)==null||C.click(),requestAnimationFrame(()=>{var T;return(T=u.current)==null?void 0:T.focus()}))})}),[b,F,a]),ee=o.useCallback((t={},x=null)=>({...E(a,H),...t,ref:x,"data-active":w(g),"data-hover":w(S),"data-checked":w(b),"data-focus":w(p),"data-focus-visible":w(p&&I),"data-indeterminate":w(r),"aria-hidden":!0,onMouseDown:v(t.onMouseDown,C=>{p&&C.preventDefault(),k(!0)}),onMouseUp:v(t.onMouseUp,()=>k(!1)),onMouseEnter:v(t.onMouseEnter,()=>m(!0)),onMouseLeave:v(t.onMouseLeave,()=>m(!1))}),[g,b,p,S,I,r,a]),te=o.useCallback((t={},x=null)=>({...E(a,H),...t,ref:Z(u,x),id:d,type:"checkbox",name:e,value:i,tabIndex:y,required:s,disabled:h,readOnly:c,checked:b,style:{border:"0px",clip:"rect(0px, 0px, 0px, 0px)",height:"1px",width:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},onChange:v(t.onChange,K),onBlur:v(t.onBlur,G,()=>P(!1)),onFocus:v(t.onFocus,U,()=>P(!0)),onKeyDown:v(t.onKeyDown,V),onKeyUp:v(t.onKeyUp,O)}),[a,d,e,i,y,s,h,c,b,K,G,U,V,O]),ne=o.useCallback((t={},x=null)=>({...E(a,X({omit:["aria-readonly"]})),...t,ref:x,"data-checked":w(b),onMouseDown:v(t.onMouseDown,C=>{C.preventDefault(),C.stopPropagation()}),onTouchStart:v(t.onTouchStart,C=>{C.preventDefault(),C.stopPropagation()})}),[b,a]);return{isFocusVisible:I,isFocused:p,isHovered:S,isActive:g,isChecked:b,isIndeterminate:r,getContainerProps:$,getIconProps:ee,getInputProps:te,getLabelProps:ne}},Y=o.forwardRef((n,d)=>{const e=be(),i=J(n),[f,y]=he("Checkbox",{...e?A(e,["value"]):{},...n}),{className:s,gap:h="0.5rem",isRequired:c=(e==null?void 0:e.isRequired)??i.isRequired,isReadOnly:r=(e==null?void 0:e.isReadOnly)??i.isReadOnly,isDisabled:a=(e==null?void 0:e.isDisabled)??i.isDisabled,isInvalid:I=(e==null?void 0:e.isInvalid)??i.isInvalid,iconProps:D,inputProps:p,labelProps:P,children:S,...m}=fe(y),{isChecked:g,isIndeterminate:k,getContainerProps:u,getInputProps:F,getIconProps:_,getLabelProps:L}=ge({...m,isRequired:c,isReadOnly:r,isDisabled:a,isInvalid:I,isChecked:e!=null&&e.value&&m.value?e.value.includes(m.value):m.isChecked,onChange:e!=null&&e.onChange&&m.value?re(e.onChange,m.onChange):m.onChange}),M=o.cloneElement((D==null?void 0:D.children)??l(xe,{}),{__css:{opacity:g||k?1:0,transform:g||k?"scale(1)":"scale(0.95)",transitionProperty:"transform",transitionDuration:"normal"},isIndeterminate:k,isChecked:g,isRequired:c,isReadOnly:r,isDisabled:a,isInvalid:I});return ae(R.label,{className:Q("ui-checkbox",s),...u(),__css:{cursor:"pointer",position:"relative",display:"inline-flex",alignItems:"center",verticalAlign:"top",gap:h,...f.container},...A(m,["id","name","value","defaultValue","defaultIsChecked","isChecked","isIndeterminate","onChange","onBlur","onFocus","tabIndex"]),children:[l(R.input,{className:"ui-checkbox__input",...F(p,d)}),l(R.span,{className:"ui-checkbox__icon",__css:{pointerEvents:r?"none":void 0,position:"relative",display:"inline-block",userSelect:"none",...f.icon},..._(A(D??{children:void 0},["children"])),children:M}),l(R.span,{className:"ui-checkbox__label",__css:{...f.label},...L(P),children:S})]})});Y.displayName="Checkbox";const xe=({isIndeterminate:n,isChecked:d,...e})=>{const i=A(e,["isRequired","isReadOnly","isDisabled","isInvalid"]);return l(de,{initial:!1,children:n||d?l(R.div,{__css:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:l(R.div,{as:j.div,variants:{unchecked:{scale:.5},checked:{scale:1}},initial:"unchecked",animate:"checked",exit:"unchecked",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:n?l(pe,{...i}):l(ye,{...i})})}):null})},ye=n=>l(R.svg,{as:j.svg,width:"1.2em",viewBox:"0 0 12 10",variants:{unchecked:{opacity:0,strokeDashoffset:16},checked:{opacity:1,strokeDashoffset:0,transition:{duration:.2}}},style:{fill:"none",strokeWidth:2,stroke:"currentColor",strokeDasharray:16},...n,children:l("polyline",{points:"1.5 6 4.5 9 10.5 1"})}),pe=n=>l(R.svg,{as:j.svg,width:"1.2em",viewBox:"0 0 24 24",variants:{unchecked:{scaleX:.65,opacity:0},checked:{scaleX:1,opacity:1,transition:{scaleX:{duration:0},opacity:{duration:.02}}}},style:{stroke:"currentColor",strokeWidth:4},...n,children:l("line",{x1:"21",x2:"3",y1:"12",y2:"12"})});export{Y as C,ve as a,ge as b,Ce as u};
