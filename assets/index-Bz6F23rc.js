import{r as p}from"./index-uCp2LrAq.js";import{u as k}from"./theme-provider-CfMKAtcZ.js";import{f as m,P as b}from"./factory-Bf0a1C4O.js";const u=()=>{const{theme:e}=k();if(!e)throw Error("useBreakpoint: `theme` is undefined. Seems you forgot to wrap your app in `<UIProvider />`");const t=e.__breakpoints;if(!t)throw Error("useBreakpoint: `breakpoints` is undefined. Seems you forgot to put theme in `breakpoints`");const o=p.useMemo(()=>t.queries.map(({breakpoint:n,minMaxQuery:r})=>({breakpoint:n,query:(r==null?void 0:r.replace("@media screen and ",""))??""})),[t]),[i,c]=p.useState(()=>{if(!b())return"base";for(const{breakpoint:r,query:s}of o)if(window.matchMedia(s).matches)return r});return p.useEffect(()=>{const n=o.map(({breakpoint:r,query:s})=>{const a=window.matchMedia(s),f=d=>{d.matches&&c(r)};return typeof a.addEventListener=="function"&&a.addEventListener("change",f),()=>{typeof a.removeEventListener=="function"&&a.removeEventListener("change",f)}});return()=>{n.forEach(r=>r())}},[o]),i},h=e=>{const{theme:t}=k(),o=u();return E(e)(t,o)},E=(e={})=>(t,o)=>{var n;if(!t)throw Error("useBreakpoint: `theme` is undefined. Seems you forgot to wrap your app in `<UIProvider />`");const i=(n=t.__breakpoints)==null?void 0:n.keys;if(!i)throw Error("useBreakpoint: `breakpoints` is undefined. Seems you forgot to put theme in `breakpoints`");const c=i.indexOf(o);for(let r=c;0<r;r--){const s=i[r];if(e.hasOwnProperty(s))return e[s]}return e.base},y=e=>{const t=h(e);return p.useState(t)},q=(e,t)=>{const o=u();p.useEffect(()=>{e(o)},[o,...t])},v=(e,t)=>{const o=u();m(()=>{e(o)},[o,...t])};export{y as a,q as b,v as c,u as d,h as u};
