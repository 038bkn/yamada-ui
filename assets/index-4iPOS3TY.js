import{a as F}from"./index-S_vv-FgL.js";import{r}from"./index-4g5l5LRQ.js";import{w as A,K as G}from"./factory-d4qha7R6.js";const P=p=>{const{tagName:e,isContentEditable:k}=p.target;return e!=="INPUT"&&e!=="TEXTAREA"&&k!==!0},S=({ref:p,isDisabled:e,isFocusable:k,clickOnEnter:h=!0,clickOnSpace:b=!0,onMouseDown:l,onMouseUp:n,onClick:g,onKeyDown:s,onKeyUp:c,tabIndex:I,onMouseOver:d,onMouseLeave:m,...o}={})=>{const[a,B]=r.useState(!0),[i,f]=r.useState(!1),u=F(),y=a?I:I||0,C=e&&!k,x=t=>{t&&t.tagName!=="BUTTON"&&B(!1)},N=r.useCallback(t=>{if(e){t.stopPropagation(),t.preventDefault();return}t.currentTarget.focus(),g==null||g(t)},[e,g]),T=r.useCallback(t=>{i&&P(t)&&(t.preventDefault(),t.stopPropagation(),f(!1),u.remove(document,"keyup",T,!1))},[i,u]),R=r.useCallback(t=>{s==null||s(t),!(e||t.defaultPrevented||t.metaKey)&&(!P(t.nativeEvent)||a||(b&&t.key===" "&&(t.preventDefault(),f(!0)),h&&t.key==="Enter"&&(t.preventDefault(),t.currentTarget.click()),u.add(document,"keyup",T,!1)))},[e,a,s,h,b,u,T]),V=r.useCallback(t=>{c==null||c(t),!(e||t.defaultPrevented||t.metaKey)&&(!P(t.nativeEvent)||a||b&&t.key===" "&&(t.preventDefault(),f(!1),t.currentTarget.click()))},[b,a,e,c]),E=r.useCallback(t=>{t.button===0&&(f(!1),u.remove(document,"mouseup",E,!1))},[u]),X=r.useCallback(t=>{if(t.button===0){if(e){t.stopPropagation(),t.preventDefault();return}a||f(!0),t.currentTarget.focus({preventScroll:!0}),u.add(document,"mouseup",E,!1),l==null||l(t)}},[e,a,l,u,E]),j=r.useCallback(t=>{t.button===0&&(a||f(!1),n==null||n(t))},[n,a]),q=r.useCallback(t=>{if(e){t.preventDefault();return}d==null||d(t)},[e,d]),z=r.useCallback(t=>{i&&(t.preventDefault(),f(!1)),m==null||m(t)},[i,m]);return a?{...o,ref:A(p,x),type:"button","aria-disabled":C?void 0:e,disabled:C,onClick:N,onMouseDown:l,onMouseUp:n,onKeyUp:c,onKeyDown:s,onMouseOver:d,onMouseLeave:m}:{...o,ref:A(p,x),role:"button","data-active":G(i),"aria-disabled":e?"true":void 0,tabIndex:C?void 0:y,onClick:N,onMouseDown:X,onMouseUp:j,onKeyUp:V,onKeyDown:R,onMouseOver:q,onMouseLeave:z}};export{S as u};
