import{a as x,j as s}from"./jsx-runtime-TtYKBvr-.js";import{r as _}from"./index-IybTgENJ.js";import{b as I}from"./icon-rps1Vs7a.js";import{u as j}from"./use-image-kYvleET7.js";import{u as g,c as k,a as w,H as F,h as S}from"./factory-KjDUWRxd.js";import{f as E}from"./forward-ref-6T0UNPU-.js";import{u as M}from"./use-component-style-xqqjtukQ.js";import{o as P}from"./theme-provider-H1stovVN.js";const R=t=>x(I,{viewBox:"0 0 128 128",color:["white","black"],width:"100%",height:"100%",className:"ui-avatar__icon",...t,children:[s("path",{fill:"currentColor",d:"M103,102.1388 C93.094,111.92 79.3504,118 64.1638,118 C48.8056,118 34.9294,111.768 25,101.7892 L25,95.2 C25,86.8096 31.981,80 40.6,80 L87.4,80 C96.019,80 103,86.8096 103,95.2 L103,102.1388 Z"}),s("path",{fill:"currentColor",d:"M63.9961647,24 C51.2938136,24 41,34.2938136 41,46.9961647 C41,59.7061864 51.2938136,70 63.9961647,70 C76.6985159,70 87,59.7061864 87,46.9961647 C87,34.2938136 76.6985159,24 63.9961647,24"})]}),T=t=>{const a=t.split(" "),e=a[0]??"",r=a.length>1?a[a.length-1]:"";return e&&r?`${e.charAt(0)}${r.charAt(0)}`:e.charAt(0)},$=({name:t,format:a=T,...e})=>{const o={...H().name};return s(g.div,{className:"ui-avatar__name",role:"img","aria-label":t,__css:o,...e,children:t?a(t):null})},[B,H]=k({strict:!1,name:"AvatarContext"}),Q=E((t,a)=>{const[e,r]=M("Avatar",t),{className:o,src:i,srcSet:m,name:d,loading:n,alt:u,icon:f,ignoreFallback:h,borderRadius:l="full",rounded:c="full",onError:A,onLoad:p,format:C,children:v,...b}=P(r),[L,N]=_.useState(!1),y={position:"relative",display:"inline-flex",justifyContent:"center",alignItems:"center",flexShrink:0,textAlign:"center",textTransform:"uppercase",fontWeight:"medium",...e.container};return s(B,{value:e,children:x(g.span,{ref:a,className:w("ui-avatar",o),"data-loaded":F(L),borderRadius:l,rounded:c,__css:y,...b,children:[s(W,{src:i,alt:u,srcSet:m,loading:n,borderRadius:l,rounded:c,onLoad:S(p,()=>N(!0)),onError:A,format:C,name:d,icon:f,ignoreFallback:h}),v]})})}),W=({src:t,alt:a,srcSet:e,onError:r,onLoad:o,format:i,borderRadius:m,rounded:d,name:n,loading:u,icon:f=s(R,{}),ignoreFallback:h,crossOrigin:l,referrerPolicy:c})=>{const p=j({src:t,onLoad:o,onError:r,crossOrigin:l,ignoreFallback:h})==="loaded";if(!t||!p)return n?s($,{name:n,format:i}):_.cloneElement(f,{role:"img"});const v={width:"100%",height:"100%",objectFit:"cover"};return s(g.img,{className:"ui-avatar__image",src:t,srcSet:e,alt:a??n,loading:u,referrerPolicy:c,borderRadius:m,rounded:d,__css:v})};export{Q as A,H as u};
