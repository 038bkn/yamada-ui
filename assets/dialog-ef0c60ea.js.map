{"version":3,"file":"dialog-ef0c60ea.js","sources":["../../node_modules/.pnpm/focus-lock@0.11.6/node_modules/focus-lock/dist/es2015/constants.js","../../node_modules/.pnpm/react-focus-lock@2.9.1_@types+react@18.2.22_react@18.2.0/node_modules/react-focus-lock/dist/es2015/FocusGuard.js","../../node_modules/.pnpm/react-focus-lock@2.9.1_@types+react@18.2.22_react@18.2.0/node_modules/react-focus-lock/dist/es2015/medium.js","../../node_modules/.pnpm/react-focus-lock@2.9.1_@types+react@18.2.22_react@18.2.0/node_modules/react-focus-lock/dist/es2015/Lock.js","../../node_modules/.pnpm/@babel+runtime@7.20.7/node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../../node_modules/.pnpm/@babel+runtime@7.20.7/node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","../../node_modules/.pnpm/react-clientside-effect@1.2.6_react@18.2.0/node_modules/react-clientside-effect/lib/index.es.js","../../node_modules/.pnpm/focus-lock@0.11.6/node_modules/focus-lock/dist/es2015/utils/array.js","../../node_modules/.pnpm/focus-lock@0.11.6/node_modules/focus-lock/dist/es2015/utils/is.js","../../node_modules/.pnpm/focus-lock@0.11.6/node_modules/focus-lock/dist/es2015/utils/tabOrder.js","../../node_modules/.pnpm/focus-lock@0.11.6/node_modules/focus-lock/dist/es2015/utils/tabbables.js","../../node_modules/.pnpm/focus-lock@0.11.6/node_modules/focus-lock/dist/es2015/utils/tabUtils.js","../../node_modules/.pnpm/focus-lock@0.11.6/node_modules/focus-lock/dist/es2015/utils/DOMutils.js","../../node_modules/.pnpm/focus-lock@0.11.6/node_modules/focus-lock/dist/es2015/utils/all-affected.js","../../node_modules/.pnpm/focus-lock@0.11.6/node_modules/focus-lock/dist/es2015/utils/safe.js","../../node_modules/.pnpm/focus-lock@0.11.6/node_modules/focus-lock/dist/es2015/utils/getActiveElement.js","../../node_modules/.pnpm/focus-lock@0.11.6/node_modules/focus-lock/dist/es2015/focusInside.js","../../node_modules/.pnpm/focus-lock@0.11.6/node_modules/focus-lock/dist/es2015/focusIsHidden.js","../../node_modules/.pnpm/focus-lock@0.11.6/node_modules/focus-lock/dist/es2015/utils/correctFocus.js","../../node_modules/.pnpm/focus-lock@0.11.6/node_modules/focus-lock/dist/es2015/utils/firstFocus.js","../../node_modules/.pnpm/focus-lock@0.11.6/node_modules/focus-lock/dist/es2015/solver.js","../../node_modules/.pnpm/focus-lock@0.11.6/node_modules/focus-lock/dist/es2015/utils/auto-focus.js","../../node_modules/.pnpm/focus-lock@0.11.6/node_modules/focus-lock/dist/es2015/utils/parenting.js","../../node_modules/.pnpm/focus-lock@0.11.6/node_modules/focus-lock/dist/es2015/focusMerge.js","../../node_modules/.pnpm/focus-lock@0.11.6/node_modules/focus-lock/dist/es2015/focusables.js","../../node_modules/.pnpm/focus-lock@0.11.6/node_modules/focus-lock/dist/es2015/setFocus.js","../../node_modules/.pnpm/react-focus-lock@2.9.1_@types+react@18.2.22_react@18.2.0/node_modules/react-focus-lock/dist/es2015/util.js","../../node_modules/.pnpm/react-focus-lock@2.9.1_@types+react@18.2.22_react@18.2.0/node_modules/react-focus-lock/dist/es2015/Trap.js","../../node_modules/.pnpm/react-focus-lock@2.9.1_@types+react@18.2.22_react@18.2.0/node_modules/react-focus-lock/dist/es2015/Combination.js","../../packages/components/focus-lock/src/focus-lock.tsx","../../packages/components/modal/src/drawer.tsx","../../packages/components/modal/src/modal.tsx","../../packages/components/modal/src/modal-overlay.tsx","../../packages/components/modal/src/modal-close-button.tsx","../../packages/components/modal/src/modal-header.tsx","../../packages/components/modal/src/modal-body.tsx","../../packages/components/modal/src/modal-footer.tsx","../../packages/components/modal/src/dialog.tsx"],"sourcesContent":["/**\n * defines a focus group\n */\nexport var FOCUS_GROUP = 'data-focus-lock';\n/**\n * disables element discovery inside a group marked by key\n */\nexport var FOCUS_DISABLED = 'data-focus-lock-disabled';\n/**\n * allows uncontrolled focus within the marked area, effectively disabling focus lock for it's content\n */\nexport var FOCUS_ALLOW = 'data-no-focus-lock';\n/**\n * instructs autofocus engine to pick default autofocus inside a given node\n * can be set on the element or container\n */\nexport var FOCUS_AUTO = 'data-autofocus-inside';\n/**\n * instructs autofocus to ignore elements within a given node\n * can be set on the element or container\n */\nexport var FOCUS_NO_AUTOFOCUS = 'data-no-autofocus';\n","import * as React from 'react';\nimport PropTypes from 'prop-types';\nexport var hiddenGuard = {\n  width: '1px',\n  height: '0px',\n  padding: 0,\n  overflow: 'hidden',\n  position: 'fixed',\n  top: '1px',\n  left: '1px'\n};\n\nvar InFocusGuard = function InFocusGuard(_ref) {\n  var children = _ref.children;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    key: \"guard-first\",\n    \"data-focus-guard\": true,\n    \"data-focus-auto-guard\": true,\n    style: hiddenGuard\n  }), children, children && /*#__PURE__*/React.createElement(\"div\", {\n    key: \"guard-last\",\n    \"data-focus-guard\": true,\n    \"data-focus-auto-guard\": true,\n    style: hiddenGuard\n  }));\n};\n\nInFocusGuard.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  children: PropTypes.node\n} : {};\nInFocusGuard.defaultProps = {\n  children: null\n};\nexport default InFocusGuard;","import { createMedium, createSidecarMedium } from 'use-sidecar';\nexport var mediumFocus = createMedium({}, function (_ref) {\n  var target = _ref.target,\n      currentTarget = _ref.currentTarget;\n  return {\n    target: target,\n    currentTarget: currentTarget\n  };\n});\nexport var mediumBlur = createMedium();\nexport var mediumEffect = createMedium();\nexport var mediumSidecar = createSidecarMedium({\n  async: true\n});","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport { node, bool, string, any, arrayOf, oneOfType, object, func } from 'prop-types';\nimport * as constants from 'focus-lock/constants';\nimport { useMergeRefs } from 'use-callback-ref';\nimport { useEffect } from 'react';\nimport { hiddenGuard } from './FocusGuard';\nimport { mediumFocus, mediumBlur, mediumSidecar } from './medium';\nvar emptyArray = [];\nvar FocusLock = /*#__PURE__*/React.forwardRef(function FocusLockUI(props, parentRef) {\n  var _extends2;\n\n  var _React$useState = React.useState(),\n      realObserved = _React$useState[0],\n      setObserved = _React$useState[1];\n\n  var observed = React.useRef();\n  var isActive = React.useRef(false);\n  var originalFocusedElement = React.useRef(null);\n  var children = props.children,\n      disabled = props.disabled,\n      noFocusGuards = props.noFocusGuards,\n      persistentFocus = props.persistentFocus,\n      crossFrame = props.crossFrame,\n      autoFocus = props.autoFocus,\n      allowTextSelection = props.allowTextSelection,\n      group = props.group,\n      className = props.className,\n      whiteList = props.whiteList,\n      hasPositiveIndices = props.hasPositiveIndices,\n      _props$shards = props.shards,\n      shards = _props$shards === void 0 ? emptyArray : _props$shards,\n      _props$as = props.as,\n      Container = _props$as === void 0 ? 'div' : _props$as,\n      _props$lockProps = props.lockProps,\n      containerProps = _props$lockProps === void 0 ? {} : _props$lockProps,\n      SideCar = props.sideCar,\n      shouldReturnFocus = props.returnFocus,\n      focusOptions = props.focusOptions,\n      onActivationCallback = props.onActivation,\n      onDeactivationCallback = props.onDeactivation;\n\n  var _React$useState2 = React.useState({}),\n      id = _React$useState2[0]; // SIDE EFFECT CALLBACKS\n\n\n  var onActivation = React.useCallback(function () {\n    originalFocusedElement.current = originalFocusedElement.current || document && document.activeElement;\n\n    if (observed.current && onActivationCallback) {\n      onActivationCallback(observed.current);\n    }\n\n    isActive.current = true;\n  }, [onActivationCallback]);\n  var onDeactivation = React.useCallback(function () {\n    isActive.current = false;\n\n    if (onDeactivationCallback) {\n      onDeactivationCallback(observed.current);\n    }\n  }, [onDeactivationCallback]);\n  useEffect(function () {\n    if (!disabled) {\n      // cleanup return focus on trap deactivation\n      // sideEffect/returnFocus should happen by this time\n      originalFocusedElement.current = null;\n    }\n  }, []);\n  var returnFocus = React.useCallback(function (allowDefer) {\n    var returnFocusTo = originalFocusedElement.current;\n\n    if (returnFocusTo && returnFocusTo.focus) {\n      var howToReturnFocus = typeof shouldReturnFocus === 'function' ? shouldReturnFocus(returnFocusTo) : shouldReturnFocus;\n\n      if (howToReturnFocus) {\n        var returnFocusOptions = typeof howToReturnFocus === 'object' ? howToReturnFocus : undefined;\n        originalFocusedElement.current = null;\n\n        if (allowDefer) {\n          // React might return focus after update\n          // it's safer to defer the action\n          Promise.resolve().then(function () {\n            return returnFocusTo.focus(returnFocusOptions);\n          });\n        } else {\n          returnFocusTo.focus(returnFocusOptions);\n        }\n      }\n    }\n  }, [shouldReturnFocus]); // MEDIUM CALLBACKS\n\n  var onFocus = React.useCallback(function (event) {\n    if (isActive.current) {\n      mediumFocus.useMedium(event);\n    }\n  }, []);\n  var onBlur = mediumBlur.useMedium; // REF PROPAGATION\n  // not using real refs due to race conditions\n\n  var setObserveNode = React.useCallback(function (newObserved) {\n    if (observed.current !== newObserved) {\n      observed.current = newObserved;\n      setObserved(newObserved);\n    }\n  }, []);\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (typeof allowTextSelection !== 'undefined') {\n      // eslint-disable-next-line no-console\n      console.warn('React-Focus-Lock: allowTextSelection is deprecated and enabled by default');\n    }\n\n    React.useEffect(function () {\n      if (!observed.current) {\n        // eslint-disable-next-line no-console\n        console.error('FocusLock: could not obtain ref to internal node');\n      }\n    }, []);\n  }\n\n  var lockProps = _extends((_extends2 = {}, _extends2[constants.FOCUS_DISABLED] = disabled && 'disabled', _extends2[constants.FOCUS_GROUP] = group, _extends2), containerProps);\n\n  var hasLeadingGuards = noFocusGuards !== true;\n  var hasTailingGuards = hasLeadingGuards && noFocusGuards !== 'tail';\n  var mergedRef = useMergeRefs([parentRef, setObserveNode]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, hasLeadingGuards && [\n  /*#__PURE__*/\n  // nearest focus guard\n  React.createElement(\"div\", {\n    key: \"guard-first\",\n    \"data-focus-guard\": true,\n    tabIndex: disabled ? -1 : 0,\n    style: hiddenGuard\n  }), // first tabbed element guard\n  hasPositiveIndices ? /*#__PURE__*/React.createElement(\"div\", {\n    key: \"guard-nearest\",\n    \"data-focus-guard\": true,\n    tabIndex: disabled ? -1 : 1,\n    style: hiddenGuard\n  }) : null], !disabled && /*#__PURE__*/React.createElement(SideCar, {\n    id: id,\n    sideCar: mediumSidecar,\n    observed: realObserved,\n    disabled: disabled,\n    persistentFocus: persistentFocus,\n    crossFrame: crossFrame,\n    autoFocus: autoFocus,\n    whiteList: whiteList,\n    shards: shards,\n    onActivation: onActivation,\n    onDeactivation: onDeactivation,\n    returnFocus: returnFocus,\n    focusOptions: focusOptions\n  }), /*#__PURE__*/React.createElement(Container, _extends({\n    ref: mergedRef\n  }, lockProps, {\n    className: className,\n    onBlur: onBlur,\n    onFocus: onFocus\n  }), children), hasTailingGuards && /*#__PURE__*/React.createElement(\"div\", {\n    \"data-focus-guard\": true,\n    tabIndex: disabled ? -1 : 0,\n    style: hiddenGuard\n  }));\n});\nFocusLock.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  children: node,\n  disabled: bool,\n  returnFocus: oneOfType([bool, object, func]),\n  focusOptions: object,\n  noFocusGuards: bool,\n  hasPositiveIndices: bool,\n  allowTextSelection: bool,\n  autoFocus: bool,\n  persistentFocus: bool,\n  crossFrame: bool,\n  group: string,\n  className: string,\n  whiteList: func,\n  shards: arrayOf(any),\n  as: oneOfType([string, func, object]),\n  lockProps: object,\n  onActivation: func,\n  onDeactivation: func,\n  sideCar: any.isRequired\n} : {};\nFocusLock.defaultProps = {\n  children: undefined,\n  disabled: false,\n  returnFocus: false,\n  focusOptions: undefined,\n  noFocusGuards: false,\n  autoFocus: true,\n  persistentFocus: false,\n  crossFrame: true,\n  hasPositiveIndices: undefined,\n  allowTextSelection: undefined,\n  group: undefined,\n  className: undefined,\n  whiteList: undefined,\n  shards: undefined,\n  as: 'div',\n  lockProps: {},\n  onActivation: undefined,\n  onDeactivation: undefined\n};\nexport default FocusLock;","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}","import _inheritsLoose from '@babel/runtime/helpers/esm/inheritsLoose';\nimport _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nimport React, { PureComponent } from 'react';\n\nfunction withSideEffect(reducePropsToState, handleStateChangeOnClient) {\n  if (process.env.NODE_ENV !== \"production\") {\n    if (typeof reducePropsToState !== 'function') {\n      throw new Error('Expected reducePropsToState to be a function.');\n    }\n\n    if (typeof handleStateChangeOnClient !== 'function') {\n      throw new Error('Expected handleStateChangeOnClient to be a function.');\n    }\n  }\n\n  function getDisplayName(WrappedComponent) {\n    return WrappedComponent.displayName || WrappedComponent.name || 'Component';\n  }\n\n  return function wrap(WrappedComponent) {\n    if (process.env.NODE_ENV !== \"production\") {\n      if (typeof WrappedComponent !== 'function') {\n        throw new Error('Expected WrappedComponent to be a React component.');\n      }\n    }\n\n    var mountedInstances = [];\n    var state;\n\n    function emitChange() {\n      state = reducePropsToState(mountedInstances.map(function (instance) {\n        return instance.props;\n      }));\n      handleStateChangeOnClient(state);\n    }\n\n    var SideEffect = /*#__PURE__*/function (_PureComponent) {\n      _inheritsLoose(SideEffect, _PureComponent);\n\n      function SideEffect() {\n        return _PureComponent.apply(this, arguments) || this;\n      }\n\n      // Try to use displayName of wrapped component\n      SideEffect.peek = function peek() {\n        return state;\n      };\n\n      var _proto = SideEffect.prototype;\n\n      _proto.componentDidMount = function componentDidMount() {\n        mountedInstances.push(this);\n        emitChange();\n      };\n\n      _proto.componentDidUpdate = function componentDidUpdate() {\n        emitChange();\n      };\n\n      _proto.componentWillUnmount = function componentWillUnmount() {\n        var index = mountedInstances.indexOf(this);\n        mountedInstances.splice(index, 1);\n        emitChange();\n      };\n\n      _proto.render = function render() {\n        return /*#__PURE__*/React.createElement(WrappedComponent, this.props);\n      };\n\n      return SideEffect;\n    }(PureComponent);\n\n    _defineProperty(SideEffect, \"displayName\", \"SideEffect(\" + getDisplayName(WrappedComponent) + \")\");\n\n    return SideEffect;\n  };\n}\n\nexport default withSideEffect;\n","/*\nIE11 support\n */\nexport var toArray = function (a) {\n    var ret = Array(a.length);\n    for (var i = 0; i < a.length; ++i) {\n        ret[i] = a[i];\n    }\n    return ret;\n};\nexport var asArray = function (a) { return (Array.isArray(a) ? a : [a]); };\nexport var getFirst = function (a) { return (Array.isArray(a) ? a[0] : a); };\n","import { FOCUS_NO_AUTOFOCUS } from '../constants';\nvar isElementHidden = function (node) {\n    // we can measure only \"elements\"\n    // consider others as \"visible\"\n    if (node.nodeType !== Node.ELEMENT_NODE) {\n        return false;\n    }\n    var computedStyle = window.getComputedStyle(node, null);\n    if (!computedStyle || !computedStyle.getPropertyValue) {\n        return false;\n    }\n    return (computedStyle.getPropertyValue('display') === 'none' || computedStyle.getPropertyValue('visibility') === 'hidden');\n};\nvar getParentNode = function (node) {\n    // DOCUMENT_FRAGMENT_NODE can also point on ShadowRoot. In this case .host will point on the next node\n    return node.parentNode && node.parentNode.nodeType === Node.DOCUMENT_FRAGMENT_NODE\n        ? // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            node.parentNode.host\n        : node.parentNode;\n};\nvar isTopNode = function (node) {\n    // @ts-ignore\n    return node === document || (node && node.nodeType === Node.DOCUMENT_NODE);\n};\nvar isVisibleUncached = function (node, checkParent) {\n    return !node || isTopNode(node) || (!isElementHidden(node) && checkParent(getParentNode(node)));\n};\nexport var isVisibleCached = function (visibilityCache, node) {\n    var cached = visibilityCache.get(node);\n    if (cached !== undefined) {\n        return cached;\n    }\n    var result = isVisibleUncached(node, isVisibleCached.bind(undefined, visibilityCache));\n    visibilityCache.set(node, result);\n    return result;\n};\nvar isAutoFocusAllowedUncached = function (node, checkParent) {\n    return node && !isTopNode(node) ? (isAutoFocusAllowed(node) ? checkParent(getParentNode(node)) : false) : true;\n};\nexport var isAutoFocusAllowedCached = function (cache, node) {\n    var cached = cache.get(node);\n    if (cached !== undefined) {\n        return cached;\n    }\n    var result = isAutoFocusAllowedUncached(node, isAutoFocusAllowedCached.bind(undefined, cache));\n    cache.set(node, result);\n    return result;\n};\nexport var getDataset = function (node) {\n    // @ts-ignore\n    return node.dataset;\n};\nexport var isHTMLButtonElement = function (node) { return node.tagName === 'BUTTON'; };\nexport var isHTMLInputElement = function (node) { return node.tagName === 'INPUT'; };\nexport var isRadioElement = function (node) {\n    return isHTMLInputElement(node) && node.type === 'radio';\n};\nexport var notHiddenInput = function (node) {\n    return !((isHTMLInputElement(node) || isHTMLButtonElement(node)) && (node.type === 'hidden' || node.disabled));\n};\nexport var isAutoFocusAllowed = function (node) {\n    var attribute = node.getAttribute(FOCUS_NO_AUTOFOCUS);\n    return ![true, 'true', ''].includes(attribute);\n};\nexport var isGuard = function (node) { var _a; return Boolean(node && ((_a = getDataset(node)) === null || _a === void 0 ? void 0 : _a.focusGuard)); };\nexport var isNotAGuard = function (node) { return !isGuard(node); };\nexport var isDefined = function (x) { return Boolean(x); };\n","import { toArray } from './array';\nexport var tabSort = function (a, b) {\n    var tabDiff = a.tabIndex - b.tabIndex;\n    var indexDiff = a.index - b.index;\n    if (tabDiff) {\n        if (!a.tabIndex) {\n            return 1;\n        }\n        if (!b.tabIndex) {\n            return -1;\n        }\n    }\n    return tabDiff || indexDiff;\n};\nexport var orderByTabIndex = function (nodes, filterNegative, keepGuards) {\n    return toArray(nodes)\n        .map(function (node, index) { return ({\n        node: node,\n        index: index,\n        tabIndex: keepGuards && node.tabIndex === -1 ? ((node.dataset || {}).focusGuard ? 0 : -1) : node.tabIndex,\n    }); })\n        .filter(function (data) { return !filterNegative || data.tabIndex >= 0; })\n        .sort(tabSort);\n};\n","/**\n * list of the object to be considered as focusable\n */\nexport var tabbables = [\n    'button:enabled',\n    'select:enabled',\n    'textarea:enabled',\n    'input:enabled',\n    // elements with explicit roles will also use explicit tabindex\n    // '[role=\"button\"]',\n    'a[href]',\n    'area[href]',\n    'summary',\n    'iframe',\n    'object',\n    'embed',\n    'audio[controls]',\n    'video[controls]',\n    '[tabindex]',\n    '[contenteditable]',\n    '[autofocus]',\n];\n","import { FOCUS_AUTO } from '../constants';\nimport { toArray } from './array';\nimport { tabbables } from './tabbables';\nvar queryTabbables = tabbables.join(',');\nvar queryGuardTabbables = \"\".concat(queryTabbables, \", [data-focus-guard]\");\nvar getFocusablesWithShadowDom = function (parent, withGuards) {\n    return toArray((parent.shadowRoot || parent).children).reduce(function (acc, child) {\n        return acc.concat(child.matches(withGuards ? queryGuardTabbables : queryTabbables) ? [child] : [], getFocusablesWithShadowDom(child));\n    }, []);\n};\nvar getFocusablesWithIFrame = function (parent, withGuards) {\n    var _a;\n    // contentDocument of iframe will be null if current origin cannot access it\n    if (parent instanceof HTMLIFrameElement && ((_a = parent.contentDocument) === null || _a === void 0 ? void 0 : _a.body)) {\n        return getFocusables([parent.contentDocument.body], withGuards);\n    }\n    return [parent];\n};\nexport var getFocusables = function (parents, withGuards) {\n    return parents.reduce(function (acc, parent) {\n        var _a;\n        var focusableWithShadowDom = getFocusablesWithShadowDom(parent, withGuards);\n        var focusableWithIframes = (_a = []).concat.apply(_a, focusableWithShadowDom.map(function (node) { return getFocusablesWithIFrame(node, withGuards); }));\n        return acc.concat(\n        // add all tabbables inside and within shadow DOMs in DOM order\n        focusableWithIframes, \n        // add if node is tabbable itself\n        parent.parentNode\n            ? toArray(parent.parentNode.querySelectorAll(queryTabbables)).filter(function (node) { return node === parent; })\n            : []);\n    }, []);\n};\n/**\n * return a list of focusable nodes within an area marked as \"auto-focusable\"\n * @param parent\n */\nexport var getParentAutofocusables = function (parent) {\n    var parentFocus = parent.querySelectorAll(\"[\".concat(FOCUS_AUTO, \"]\"));\n    return toArray(parentFocus)\n        .map(function (node) { return getFocusables([node]); })\n        .reduce(function (acc, nodes) { return acc.concat(nodes); }, []);\n};\n","import { toArray } from './array';\nimport { isAutoFocusAllowedCached, isVisibleCached, notHiddenInput } from './is';\nimport { orderByTabIndex } from './tabOrder';\nimport { getFocusables, getParentAutofocusables } from './tabUtils';\n/**\n * given list of focusable elements keeps the ones user can interact with\n * @param nodes\n * @param visibilityCache\n */\nexport var filterFocusable = function (nodes, visibilityCache) {\n    return toArray(nodes)\n        .filter(function (node) { return isVisibleCached(visibilityCache, node); })\n        .filter(function (node) { return notHiddenInput(node); });\n};\nexport var filterAutoFocusable = function (nodes, cache) {\n    if (cache === void 0) { cache = new Map(); }\n    return toArray(nodes).filter(function (node) { return isAutoFocusAllowedCached(cache, node); });\n};\n/**\n * only tabbable ones\n * (but with guards which would be ignored)\n */\nexport var getTabbableNodes = function (topNodes, visibilityCache, withGuards) {\n    return orderByTabIndex(filterFocusable(getFocusables(topNodes, withGuards), visibilityCache), true, withGuards);\n};\n/**\n * actually anything \"focusable\", not only tabbable\n * (without guards, as long as they are not expected to be focused)\n */\nexport var getAllTabbableNodes = function (topNodes, visibilityCache) {\n    return orderByTabIndex(filterFocusable(getFocusables(topNodes), visibilityCache), false);\n};\n/**\n * return list of nodes which are expected to be auto-focused\n * @param topNode\n * @param visibilityCache\n */\nexport var parentAutofocusables = function (topNode, visibilityCache) {\n    return filterFocusable(getParentAutofocusables(topNode), visibilityCache);\n};\n/*\n * Determines if element is contained in scope, including nested shadow DOMs\n */\nexport var contains = function (scope, element) {\n    if (scope.shadowRoot) {\n        return contains(scope.shadowRoot, element);\n    }\n    else {\n        if (Object.getPrototypeOf(scope).contains !== undefined &&\n            Object.getPrototypeOf(scope).contains.call(scope, element)) {\n            return true;\n        }\n        return toArray(scope.children).some(function (child) {\n            var _a;\n            if (child instanceof HTMLIFrameElement) {\n                var iframeBody = (_a = child.contentDocument) === null || _a === void 0 ? void 0 : _a.body;\n                if (iframeBody) {\n                    return contains(iframeBody, element);\n                }\n                return false;\n            }\n            return contains(child, element);\n        });\n    }\n};\n","import { FOCUS_DISABLED, FOCUS_GROUP } from '../constants';\nimport { asArray, toArray } from './array';\n/**\n * in case of multiple nodes nested inside each other\n * keeps only top ones\n * this is O(nlogn)\n * @param nodes\n * @returns {*}\n */\nvar filterNested = function (nodes) {\n    var contained = new Set();\n    var l = nodes.length;\n    for (var i = 0; i < l; i += 1) {\n        for (var j = i + 1; j < l; j += 1) {\n            var position = nodes[i].compareDocumentPosition(nodes[j]);\n            /* eslint-disable no-bitwise */\n            if ((position & Node.DOCUMENT_POSITION_CONTAINED_BY) > 0) {\n                contained.add(j);\n            }\n            if ((position & Node.DOCUMENT_POSITION_CONTAINS) > 0) {\n                contained.add(i);\n            }\n            /* eslint-enable */\n        }\n    }\n    return nodes.filter(function (_, index) { return !contained.has(index); });\n};\n/**\n * finds top most parent for a node\n * @param node\n * @returns {*}\n */\nvar getTopParent = function (node) {\n    return node.parentNode ? getTopParent(node.parentNode) : node;\n};\n/**\n * returns all \"focus containers\" inside a given node\n * @param node\n * @returns {T}\n */\nexport var getAllAffectedNodes = function (node) {\n    var nodes = asArray(node);\n    return nodes.filter(Boolean).reduce(function (acc, currentNode) {\n        var group = currentNode.getAttribute(FOCUS_GROUP);\n        acc.push.apply(acc, (group\n            ? filterNested(toArray(getTopParent(currentNode).querySelectorAll(\"[\".concat(FOCUS_GROUP, \"=\\\"\").concat(group, \"\\\"]:not([\").concat(FOCUS_DISABLED, \"=\\\"disabled\\\"])\"))))\n            : [currentNode]));\n        return acc;\n    }, []);\n};\n","export var safeProbe = function (cb) {\n    try {\n        return cb();\n    }\n    catch (e) {\n        return undefined;\n    }\n};\n","/**\n * returns active element from document or from nested shadowdoms\n */\nimport { safeProbe } from './safe';\nexport var getActiveElement = function (inDocument) {\n    if (inDocument === void 0) { inDocument = document; }\n    if (!inDocument || !inDocument.activeElement) {\n        return undefined;\n    }\n    var activeElement = inDocument.activeElement;\n    return (activeElement.shadowRoot\n        ? getActiveElement(activeElement.shadowRoot)\n        : activeElement instanceof HTMLIFrameElement && safeProbe(function () { return activeElement.contentWindow.document; })\n            ? getActiveElement(activeElement.contentWindow.document)\n            : activeElement);\n};\n","import { contains } from './utils/DOMutils';\nimport { getAllAffectedNodes } from './utils/all-affected';\nimport { getFirst, toArray } from './utils/array';\nimport { getActiveElement } from './utils/getActiveElement';\nvar focusInFrame = function (frame, activeElement) { return frame === activeElement; };\nvar focusInsideIframe = function (topNode, activeElement) {\n    return Boolean(toArray(topNode.querySelectorAll('iframe')).some(function (node) { return focusInFrame(node, activeElement); }));\n};\n/**\n * @returns {Boolean} true, if the current focus is inside given node or nodes\n */\nexport var focusInside = function (topNode, activeElement) {\n    // const activeElement = document && getActiveElement();\n    if (activeElement === void 0) { activeElement = getActiveElement(getFirst(topNode).ownerDocument); }\n    if (!activeElement || (activeElement.dataset && activeElement.dataset.focusGuard)) {\n        return false;\n    }\n    return getAllAffectedNodes(topNode).some(function (node) {\n        return contains(node, activeElement) || focusInsideIframe(node, activeElement);\n    });\n};\n","import { FOCUS_ALLOW } from './constants';\nimport { contains } from './utils/DOMutils';\nimport { toArray } from './utils/array';\nimport { getActiveElement } from './utils/getActiveElement';\n/**\n * focus is hidden FROM the focus-lock\n * ie contained inside a node focus-lock shall ignore\n * @returns {boolean} focus is currently is in \"allow\" area\n */\nexport var focusIsHidden = function (inDocument) {\n    if (inDocument === void 0) { inDocument = document; }\n    var activeElement = getActiveElement(inDocument);\n    if (!activeElement) {\n        return false;\n    }\n    // this does not support setting FOCUS_ALLOW within shadow dom\n    return toArray(inDocument.querySelectorAll(\"[\".concat(FOCUS_ALLOW, \"]\"))).some(function (node) { return contains(node, activeElement); });\n};\n","import { isRadioElement } from './is';\nvar findSelectedRadio = function (node, nodes) {\n    return nodes\n        .filter(isRadioElement)\n        .filter(function (el) { return el.name === node.name; })\n        .filter(function (el) { return el.checked; })[0] || node;\n};\nexport var correctNode = function (node, nodes) {\n    if (isRadioElement(node) && node.name) {\n        return findSelectedRadio(node, nodes);\n    }\n    return node;\n};\n/**\n * giving a set of radio inputs keeps only selected (tabbable) ones\n * @param nodes\n */\nexport var correctNodes = function (nodes) {\n    // IE11 has no Set(array) constructor\n    var resultSet = new Set();\n    nodes.forEach(function (node) { return resultSet.add(correctNode(node, nodes)); });\n    // using filter to support IE11\n    return nodes.filter(function (node) { return resultSet.has(node); });\n};\n","import { correctNode } from './correctFocus';\nexport var pickFirstFocus = function (nodes) {\n    if (nodes[0] && nodes.length > 1) {\n        return correctNode(nodes[0], nodes);\n    }\n    return nodes[0];\n};\nexport var pickFocusable = function (nodes, index) {\n    if (nodes.length > 1) {\n        return nodes.indexOf(correctNode(nodes[index], nodes));\n    }\n    return index;\n};\n","import { correctNodes } from './utils/correctFocus';\nimport { pickFocusable } from './utils/firstFocus';\nimport { isGuard } from './utils/is';\nexport var NEW_FOCUS = 'NEW_FOCUS';\n/**\n * Main solver for the \"find next focus\" question\n * @param innerNodes\n * @param outerNodes\n * @param activeElement\n * @param lastNode\n * @returns {number|string|undefined|*}\n */\nexport var newFocus = function (innerNodes, outerNodes, activeElement, lastNode) {\n    var cnt = innerNodes.length;\n    var firstFocus = innerNodes[0];\n    var lastFocus = innerNodes[cnt - 1];\n    var isOnGuard = isGuard(activeElement);\n    // focus is inside\n    if (activeElement && innerNodes.indexOf(activeElement) >= 0) {\n        return undefined;\n    }\n    var activeIndex = activeElement !== undefined ? outerNodes.indexOf(activeElement) : -1;\n    var lastIndex = lastNode ? outerNodes.indexOf(lastNode) : activeIndex;\n    var lastNodeInside = lastNode ? innerNodes.indexOf(lastNode) : -1;\n    var indexDiff = activeIndex - lastIndex;\n    var firstNodeIndex = outerNodes.indexOf(firstFocus);\n    var lastNodeIndex = outerNodes.indexOf(lastFocus);\n    var correctedNodes = correctNodes(outerNodes);\n    var correctedIndex = activeElement !== undefined ? correctedNodes.indexOf(activeElement) : -1;\n    var correctedIndexDiff = correctedIndex - (lastNode ? correctedNodes.indexOf(lastNode) : activeIndex);\n    var returnFirstNode = pickFocusable(innerNodes, 0);\n    var returnLastNode = pickFocusable(innerNodes, cnt - 1);\n    // new focus\n    if (activeIndex === -1 || lastNodeInside === -1) {\n        return NEW_FOCUS;\n    }\n    // old focus\n    if (!indexDiff && lastNodeInside >= 0) {\n        return lastNodeInside;\n    }\n    // first element\n    if (activeIndex <= firstNodeIndex && isOnGuard && Math.abs(indexDiff) > 1) {\n        return returnLastNode;\n    }\n    // last element\n    if (activeIndex >= lastNodeIndex && isOnGuard && Math.abs(indexDiff) > 1) {\n        return returnFirstNode;\n    }\n    // jump out, but not on the guard\n    if (indexDiff && Math.abs(correctedIndexDiff) > 1) {\n        return lastNodeInside;\n    }\n    // focus above lock\n    if (activeIndex <= firstNodeIndex) {\n        return returnLastNode;\n    }\n    // focus below lock\n    if (activeIndex > lastNodeIndex) {\n        return returnFirstNode;\n    }\n    // index is inside tab order, but outside Lock\n    if (indexDiff) {\n        if (Math.abs(indexDiff) > 1) {\n            return lastNodeInside;\n        }\n        return (cnt + lastNodeInside + indexDiff) % cnt;\n    }\n    // do nothing\n    return undefined;\n};\n","import { filterAutoFocusable } from './DOMutils';\nimport { pickFirstFocus } from './firstFocus';\nimport { getDataset } from './is';\nvar findAutoFocused = function (autoFocusables) {\n    return function (node) {\n        var _a;\n        var autofocus = (_a = getDataset(node)) === null || _a === void 0 ? void 0 : _a.autofocus;\n        return (\n        // @ts-expect-error\n        node.autofocus ||\n            //\n            (autofocus !== undefined && autofocus !== 'false') ||\n            //\n            autoFocusables.indexOf(node) >= 0);\n    };\n};\nexport var pickAutofocus = function (nodesIndexes, orderedNodes, groups) {\n    var nodes = nodesIndexes.map(function (_a) {\n        var node = _a.node;\n        return node;\n    });\n    var autoFocusable = filterAutoFocusable(nodes.filter(findAutoFocused(groups)));\n    if (autoFocusable && autoFocusable.length) {\n        return pickFirstFocus(autoFocusable);\n    }\n    return pickFirstFocus(filterAutoFocusable(orderedNodes));\n};\n","import { parentAutofocusables } from './DOMutils';\nimport { contains } from './DOMutils';\nimport { asArray } from './array';\nvar getParents = function (node, parents) {\n    if (parents === void 0) { parents = []; }\n    parents.push(node);\n    if (node.parentNode) {\n        getParents(node.parentNode.host || node.parentNode, parents);\n    }\n    return parents;\n};\n/**\n * finds a parent for both nodeA and nodeB\n * @param nodeA\n * @param nodeB\n * @returns {boolean|*}\n */\nexport var getCommonParent = function (nodeA, nodeB) {\n    var parentsA = getParents(nodeA);\n    var parentsB = getParents(nodeB);\n    // tslint:disable-next-line:prefer-for-of\n    for (var i = 0; i < parentsA.length; i += 1) {\n        var currentParent = parentsA[i];\n        if (parentsB.indexOf(currentParent) >= 0) {\n            return currentParent;\n        }\n    }\n    return false;\n};\nexport var getTopCommonParent = function (baseActiveElement, leftEntry, rightEntries) {\n    var activeElements = asArray(baseActiveElement);\n    var leftEntries = asArray(leftEntry);\n    var activeElement = activeElements[0];\n    var topCommon = false;\n    leftEntries.filter(Boolean).forEach(function (entry) {\n        topCommon = getCommonParent(topCommon || entry, entry) || topCommon;\n        rightEntries.filter(Boolean).forEach(function (subEntry) {\n            var common = getCommonParent(activeElement, subEntry);\n            if (common) {\n                if (!topCommon || contains(common, topCommon)) {\n                    topCommon = common;\n                }\n                else {\n                    topCommon = getCommonParent(common, topCommon);\n                }\n            }\n        });\n    });\n    // TODO: add assert here?\n    return topCommon;\n};\n/**\n * return list of nodes which are expected to be autofocused inside a given top nodes\n * @param entries\n * @param visibilityCache\n */\nexport var allParentAutofocusables = function (entries, visibilityCache) {\n    return entries.reduce(function (acc, node) { return acc.concat(parentAutofocusables(node, visibilityCache)); }, []);\n};\n","import { NEW_FOCUS, newFocus } from './solver';\nimport { getAllTabbableNodes, getTabbableNodes } from './utils/DOMutils';\nimport { getAllAffectedNodes } from './utils/all-affected';\nimport { asArray, getFirst } from './utils/array';\nimport { pickAutofocus } from './utils/auto-focus';\nimport { getActiveElement } from './utils/getActiveElement';\nimport { isDefined, isNotAGuard } from './utils/is';\nimport { allParentAutofocusables, getTopCommonParent } from './utils/parenting';\nvar reorderNodes = function (srcNodes, dstNodes) {\n    var remap = new Map();\n    // no Set(dstNodes) for IE11 :(\n    dstNodes.forEach(function (entity) { return remap.set(entity.node, entity); });\n    // remap to dstNodes\n    return srcNodes.map(function (node) { return remap.get(node); }).filter(isDefined);\n};\n/**\n * given top node(s) and the last active element return the element to be focused next\n * @param topNode\n * @param lastNode\n */\nexport var getFocusMerge = function (topNode, lastNode) {\n    var activeElement = getActiveElement(asArray(topNode).length > 0 ? document : getFirst(topNode).ownerDocument);\n    var entries = getAllAffectedNodes(topNode).filter(isNotAGuard);\n    var commonParent = getTopCommonParent(activeElement || topNode, topNode, entries);\n    var visibilityCache = new Map();\n    var anyFocusable = getAllTabbableNodes(entries, visibilityCache);\n    var innerElements = getTabbableNodes(entries, visibilityCache).filter(function (_a) {\n        var node = _a.node;\n        return isNotAGuard(node);\n    });\n    if (!innerElements[0]) {\n        innerElements = anyFocusable;\n        if (!innerElements[0]) {\n            return undefined;\n        }\n    }\n    var outerNodes = getAllTabbableNodes([commonParent], visibilityCache).map(function (_a) {\n        var node = _a.node;\n        return node;\n    });\n    var orderedInnerElements = reorderNodes(outerNodes, innerElements);\n    var innerNodes = orderedInnerElements.map(function (_a) {\n        var node = _a.node;\n        return node;\n    });\n    var newId = newFocus(innerNodes, outerNodes, activeElement, lastNode);\n    if (newId === NEW_FOCUS) {\n        var focusNode = pickAutofocus(anyFocusable, innerNodes, allParentAutofocusables(entries, visibilityCache));\n        if (focusNode) {\n            return { node: focusNode };\n        }\n        else {\n            console.warn('focus-lock: cannot find any node to move focus into');\n            return undefined;\n        }\n    }\n    if (newId === undefined) {\n        return newId;\n    }\n    return orderedInnerElements[newId];\n};\n","import { getTabbableNodes } from './utils/DOMutils';\nimport { getAllAffectedNodes } from './utils/all-affected';\nimport { isGuard, isNotAGuard } from './utils/is';\nimport { getTopCommonParent } from './utils/parenting';\n/**\n * return list of focusable elements inside a given top node\n * @deprecated use {@link getFocusableIn}. Yep, there is typo in the function name\n */\nexport var getFocusabledIn = function (topNode) {\n    var entries = getAllAffectedNodes(topNode).filter(isNotAGuard);\n    var commonParent = getTopCommonParent(topNode, topNode, entries);\n    var visibilityCache = new Map();\n    var outerNodes = getTabbableNodes([commonParent], visibilityCache, true);\n    var innerElements = getTabbableNodes(entries, visibilityCache)\n        .filter(function (_a) {\n        var node = _a.node;\n        return isNotAGuard(node);\n    })\n        .map(function (_a) {\n        var node = _a.node;\n        return node;\n    });\n    return outerNodes.map(function (_a) {\n        var node = _a.node, index = _a.index;\n        return ({\n            node: node,\n            index: index,\n            lockItem: innerElements.indexOf(node) >= 0,\n            guard: isGuard(node),\n        });\n    });\n};\n/**\n * return list of focusable elements inside a given top node\n */\nexport var getFocusableIn = getFocusabledIn;\n","import { getFocusMerge } from './focusMerge';\nexport var focusOn = function (target, focusOptions) {\n    if ('focus' in target) {\n        target.focus(focusOptions);\n    }\n    if ('contentWindow' in target && target.contentWindow) {\n        target.contentWindow.focus();\n    }\n};\nvar guardCount = 0;\nvar lockDisabled = false;\n/**\n * Sets focus at a given node. The last focused element will help to determine which element(first or last) should be focused.\n * HTML markers (see {@link import('./constants').FOCUS_AUTO} constants) can control autofocus\n * @param topNode\n * @param lastNode\n * @param options\n */\nexport var setFocus = function (topNode, lastNode, options) {\n    if (options === void 0) { options = {}; }\n    var focusable = getFocusMerge(topNode, lastNode);\n    if (lockDisabled) {\n        return;\n    }\n    if (focusable) {\n        if (guardCount > 2) {\n            // tslint:disable-next-line:no-console\n            console.error('FocusLock: focus-fighting detected. Only one focus management system could be active. ' +\n                'See https://github.com/theKashey/focus-lock/#focus-fighting');\n            lockDisabled = true;\n            setTimeout(function () {\n                lockDisabled = false;\n            }, 1);\n            return;\n        }\n        guardCount++;\n        focusOn(focusable.node, options.focusOptions);\n        guardCount--;\n    }\n};\n","export function deferAction(action) {\n  // Hidding setImmediate from Webpack to avoid inserting polyfill\n  var _window = window,\n      setImmediate = _window.setImmediate;\n\n  if (typeof setImmediate !== 'undefined') {\n    setImmediate(action);\n  } else {\n    setTimeout(action, 1);\n  }\n}\nexport var inlineProp = function inlineProp(name, value) {\n  var obj = {};\n  obj[name] = value;\n  return obj;\n};","/* eslint-disable no-mixed-operators */\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport withSideEffect from 'react-clientside-effect';\nimport moveFocusInside, { focusInside, focusIsHidden, getFocusabledIn } from 'focus-lock';\nimport { deferAction } from './util';\nimport { mediumFocus, mediumBlur, mediumEffect } from './medium';\n\nvar focusOnBody = function focusOnBody() {\n  return document && document.activeElement === document.body;\n};\n\nvar isFreeFocus = function isFreeFocus() {\n  return focusOnBody() || focusIsHidden();\n};\n\nvar lastActiveTrap = null;\nvar lastActiveFocus = null;\nvar lastPortaledElement = null;\nvar focusWasOutsideWindow = false;\n\nvar defaultWhitelist = function defaultWhitelist() {\n  return true;\n};\n\nvar focusWhitelisted = function focusWhitelisted(activeElement) {\n  return (lastActiveTrap.whiteList || defaultWhitelist)(activeElement);\n};\n\nvar recordPortal = function recordPortal(observerNode, portaledElement) {\n  lastPortaledElement = {\n    observerNode: observerNode,\n    portaledElement: portaledElement\n  };\n};\n\nvar focusIsPortaledPair = function focusIsPortaledPair(element) {\n  return lastPortaledElement && lastPortaledElement.portaledElement === element;\n};\n\nfunction autoGuard(startIndex, end, step, allNodes) {\n  var lastGuard = null;\n  var i = startIndex;\n\n  do {\n    var item = allNodes[i];\n\n    if (item.guard) {\n      if (item.node.dataset.focusAutoGuard) {\n        lastGuard = item;\n      }\n    } else if (item.lockItem) {\n      if (i !== startIndex) {\n        // we will tab to the next element\n        return;\n      }\n\n      lastGuard = null;\n    } else {\n      break;\n    }\n  } while ((i += step) !== end);\n\n  if (lastGuard) {\n    lastGuard.node.tabIndex = 0;\n  }\n}\n\nvar extractRef = function extractRef(ref) {\n  return ref && 'current' in ref ? ref.current : ref;\n};\n\nvar focusWasOutside = function focusWasOutside(crossFrameOption) {\n  if (crossFrameOption) {\n    // with cross frame return true for any value\n    return Boolean(focusWasOutsideWindow);\n  } // in other case return only of focus went a while aho\n\n\n  return focusWasOutsideWindow === 'meanwhile';\n};\n\nvar checkInHost = function checkInHost(check, el, boundary) {\n  return el && ( // find host equal to active element and check nested active element\n  el.host === check && (!el.activeElement || boundary.contains(el.activeElement)) // dive up\n  || el.parentNode && checkInHost(check, el.parentNode, boundary));\n};\n\nvar withinHost = function withinHost(activeElement, workingArea) {\n  return workingArea.some(function (area) {\n    return checkInHost(activeElement, area, area);\n  });\n};\n\nvar activateTrap = function activateTrap() {\n  var result = false;\n\n  if (lastActiveTrap) {\n    var _lastActiveTrap = lastActiveTrap,\n        observed = _lastActiveTrap.observed,\n        persistentFocus = _lastActiveTrap.persistentFocus,\n        autoFocus = _lastActiveTrap.autoFocus,\n        shards = _lastActiveTrap.shards,\n        crossFrame = _lastActiveTrap.crossFrame,\n        focusOptions = _lastActiveTrap.focusOptions;\n    var workingNode = observed || lastPortaledElement && lastPortaledElement.portaledElement;\n    var activeElement = document && document.activeElement;\n\n    if (workingNode) {\n      var workingArea = [workingNode].concat(shards.map(extractRef).filter(Boolean));\n\n      if (!activeElement || focusWhitelisted(activeElement)) {\n        if (persistentFocus || focusWasOutside(crossFrame) || !isFreeFocus() || !lastActiveFocus && autoFocus) {\n          if (workingNode && !( // active element is \"inside\" working area\n          focusInside(workingArea) || // check for shadow-dom contained elements\n          activeElement && withinHost(activeElement, workingArea) || focusIsPortaledPair(activeElement, workingNode))) {\n            if (document && !lastActiveFocus && activeElement && !autoFocus) {\n              // Check if blur() exists, which is missing on certain elements on IE\n              if (activeElement.blur) {\n                activeElement.blur();\n              }\n\n              document.body.focus();\n            } else {\n              result = moveFocusInside(workingArea, lastActiveFocus, {\n                focusOptions: focusOptions\n              });\n              lastPortaledElement = {};\n            }\n          }\n\n          focusWasOutsideWindow = false;\n          lastActiveFocus = document && document.activeElement;\n        }\n      }\n\n      if (document) {\n        var newActiveElement = document && document.activeElement;\n        var allNodes = getFocusabledIn(workingArea);\n        var focusedIndex = allNodes.map(function (_ref) {\n          var node = _ref.node;\n          return node;\n        }).indexOf(newActiveElement);\n\n        if (focusedIndex > -1) {\n          // remove old focus\n          allNodes.filter(function (_ref2) {\n            var guard = _ref2.guard,\n                node = _ref2.node;\n            return guard && node.dataset.focusAutoGuard;\n          }).forEach(function (_ref3) {\n            var node = _ref3.node;\n            return node.removeAttribute('tabIndex');\n          });\n          autoGuard(focusedIndex, allNodes.length, +1, allNodes);\n          autoGuard(focusedIndex, -1, -1, allNodes);\n        }\n      }\n    }\n  }\n\n  return result;\n};\n\nvar onTrap = function onTrap(event) {\n  if (activateTrap() && event) {\n    // prevent scroll jump\n    event.stopPropagation();\n    event.preventDefault();\n  }\n};\n\nvar onBlur = function onBlur() {\n  return deferAction(activateTrap);\n};\n\nvar onFocus = function onFocus(event) {\n  // detect portal\n  var source = event.target;\n  var currentNode = event.currentTarget;\n\n  if (!currentNode.contains(source)) {\n    recordPortal(currentNode, source);\n  }\n};\n\nvar FocusWatcher = function FocusWatcher() {\n  return null;\n};\n\nvar FocusTrap = function FocusTrap(_ref4) {\n  var children = _ref4.children;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    onBlur: onBlur,\n    onFocus: onFocus\n  }, children);\n};\n\nFocusTrap.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  children: PropTypes.node.isRequired\n} : {};\n\nvar onWindowBlur = function onWindowBlur() {\n  focusWasOutsideWindow = 'just'; // using setTimeout to set  this variable after React/sidecar reaction\n\n  setTimeout(function () {\n    focusWasOutsideWindow = 'meanwhile';\n  }, 0);\n};\n\nvar attachHandler = function attachHandler() {\n  document.addEventListener('focusin', onTrap);\n  document.addEventListener('focusout', onBlur);\n  window.addEventListener('blur', onWindowBlur);\n};\n\nvar detachHandler = function detachHandler() {\n  document.removeEventListener('focusin', onTrap);\n  document.removeEventListener('focusout', onBlur);\n  window.removeEventListener('blur', onWindowBlur);\n};\n\nfunction reducePropsToState(propsList) {\n  return propsList.filter(function (_ref5) {\n    var disabled = _ref5.disabled;\n    return !disabled;\n  });\n}\n\nfunction handleStateChangeOnClient(traps) {\n  var trap = traps.slice(-1)[0];\n\n  if (trap && !lastActiveTrap) {\n    attachHandler();\n  }\n\n  var lastTrap = lastActiveTrap;\n  var sameTrap = lastTrap && trap && trap.id === lastTrap.id;\n  lastActiveTrap = trap;\n\n  if (lastTrap && !sameTrap) {\n    lastTrap.onDeactivation(); // return focus only of last trap was removed\n\n    if (!traps.filter(function (_ref6) {\n      var id = _ref6.id;\n      return id === lastTrap.id;\n    }).length) {\n      // allow defer is no other trap is awaiting restore\n      lastTrap.returnFocus(!trap);\n    }\n  }\n\n  if (trap) {\n    lastActiveFocus = null;\n\n    if (!sameTrap || lastTrap.observed !== trap.observed) {\n      trap.onActivation();\n    }\n\n    activateTrap(true);\n    deferAction(activateTrap);\n  } else {\n    detachHandler();\n    lastActiveFocus = null;\n  }\n} // bind medium\n\n\nmediumFocus.assignSyncMedium(onFocus);\nmediumBlur.assignMedium(onBlur);\nmediumEffect.assignMedium(function (cb) {\n  return cb({\n    moveFocusInside: moveFocusInside,\n    focusInside: focusInside\n  });\n});\nexport default withSideEffect(reducePropsToState, handleStateChangeOnClient)(FocusWatcher);","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport FocusLockUI from './Lock';\nimport FocusTrap from './Trap';\n/* that would be a BREAKING CHANGE!\n// delaying sidecar execution till the first usage\nconst RequireSideCar = (props) => {\n  // eslint-disable-next-line global-require\n  const SideCar = require('./Trap').default;\n  return <SideCar {...props} />;\n};\n*/\n\nvar FocusLockCombination = /*#__PURE__*/React.forwardRef(function FocusLockUICombination(props, ref) {\n  return /*#__PURE__*/React.createElement(FocusLockUI, _extends({\n    sideCar: FocusTrap,\n    ref: ref\n  }, props));\n});\n\nvar _ref = FocusLockUI.propTypes || {},\n    sideCar = _ref.sideCar,\n    propTypes = _objectWithoutPropertiesLoose(_ref, [\"sideCar\"]);\n\nFocusLockCombination.propTypes = process.env.NODE_ENV !== \"production\" ? propTypes : {};\nexport default FocusLockCombination;","import { FocusableElement, getAllFocusable } from '@yamada-ui/utils'\nimport { FC, ReactNode, RefObject, useCallback } from 'react'\nimport ReactFocusLock from 'react-focus-lock'\n\nexport type FocusLockProps = {\n  /**\n   * `ref` of the element to receive focus initially.\n   */\n  initialFocusRef?: RefObject<FocusableElement>\n  /**\n   * `ref` of the element to return focus to when `FocusLock` unmounts.\n   */\n  finalFocusRef?: RefObject<FocusableElement>\n  /**\n   * The `ref` of the wrapper for which the focus-lock wraps.\n   */\n  contentRef?: RefObject<HTMLElement>\n  /**\n   * If `true`, focus will be restored to the element that triggered the `FocusLock` once it unmounts.\n   *\n   * @default false\n   */\n  restoreFocus?: boolean\n  children: ReactNode\n  /**\n   * If `true`, focus trapping will be disabled.\n   *\n   * @default false\n   */\n  isDisabled?: boolean\n  /**\n   * If `true`, the first focusable element within the `children` will auto-focused once `FocusLock` mounts.\n   *\n   * @default false\n   */\n  autoFocus?: boolean\n  /**\n   * If `true`, disables text selections inside, and outside focus lock.\n   *\n   * @default false\n   */\n  persistentFocus?: boolean\n  /**\n   * Enables aggressive focus capturing within iframes.\n   * - If `true`: keep focus in the lock, no matter where lock is active.\n   * - If `false`:  allows focus to move outside of iframe.\n   *\n   * @default false\n   */\n  lockFocusAcrossFrames?: boolean\n}\n\nexport const FocusLock: FC<FocusLockProps> = ({\n  initialFocusRef,\n  finalFocusRef,\n  contentRef,\n  restoreFocus,\n  children,\n  isDisabled,\n  autoFocus,\n  persistentFocus,\n  lockFocusAcrossFrames,\n}) => {\n  const onActivation = useCallback(() => {\n    if (initialFocusRef?.current) {\n      initialFocusRef.current.focus()\n    } else if (contentRef?.current) {\n      const focusables = getAllFocusable(contentRef.current)\n\n      if (focusables.length === 0)\n        requestAnimationFrame(() => {\n          contentRef.current?.focus()\n        })\n    }\n  }, [initialFocusRef, contentRef])\n\n  const onDeactivation = useCallback(() => {\n    finalFocusRef?.current?.focus()\n  }, [finalFocusRef])\n\n  const returnFocus = restoreFocus && !finalFocusRef\n\n  return (\n    <ReactFocusLock\n      crossFrame={lockFocusAcrossFrames}\n      persistentFocus={persistentFocus}\n      autoFocus={autoFocus}\n      disabled={isDisabled}\n      onActivation={onActivation}\n      onDeactivation={onDeactivation}\n      returnFocus={returnFocus}\n    >\n      {children}\n    </ReactFocusLock>\n  )\n}\n","import {\n  forwardRef,\n  useMultiComponentStyle,\n  omitThemeProps,\n  CSSUIObject,\n  ThemeProps,\n} from '@yamada-ui/core'\nimport { Slide, SlideProps } from '@yamada-ui/transitions'\nimport {\n  createContext,\n  getValidChildren,\n  findChildren,\n  cx,\n} from '@yamada-ui/utils'\nimport { useModal } from './modal'\nimport {\n  Modal,\n  ModalProps,\n  ModalOverlay,\n  ModalOverlayProps,\n  ModalCloseButton,\n  ModalCloseButtonProps,\n  ModalHeader,\n  ModalHeaderProps,\n  ModalBody,\n  ModalBodyProps,\n  ModalFooter,\n  ModalFooterProps,\n} from './'\n\ntype DrawerOptions = {\n  /**\n   * The placement of the drawer.\n   *\n   * @default 'right'\n   */\n  placement?: SlideProps['placement']\n  /**\n   * If `true` and drawer's placement is `top` or `bottom`, the drawer will occupy the viewport height (100dvh).\n   */\n  isFullHeight?: boolean\n}\n\nexport type DrawerProps = Omit<\n  ModalProps,\n  'scrollBehavior' | 'animation' | 'outside' | keyof ThemeProps\n> &\n  ThemeProps<'Drawer'> &\n  DrawerOptions\n\ntype DrawerContext = Record<string, CSSUIObject>\n\nconst [DrawerProvider, useDrawer] = createContext<DrawerContext>({\n  name: `DrawerContext`,\n  errorMessage: `useDrawer returned is 'undefined'. Seems you forgot to wrap the components in \"<Drawer />\" `,\n})\n\nexport const Drawer = forwardRef<DrawerProps, 'div'>(\n  ({ size, ...props }, ref) => {\n    const [styles, mergedProps] = useMultiComponentStyle('Drawer', {\n      size,\n      ...props,\n    })\n    const {\n      children,\n      isOpen,\n      placement = 'right',\n      onClose,\n      onOverlayClick,\n      onEsc,\n      onCloseComplete,\n      withCloseButton = true,\n      withOverlay = true,\n      allowPinchZoom,\n      autoFocus,\n      restoreFocus,\n      initialFocusRef,\n      finalFocusRef,\n      blockScrollOnMount,\n      closeOnOverlay,\n      closeOnEsc,\n      lockFocusAcrossFrames,\n      duration = { enter: 0.4, exit: 0.3 },\n      ...rest\n    } = omitThemeProps(mergedProps)\n\n    const validChildren = getValidChildren(children)\n\n    const [customDrawerOverlay, ...cloneChildren] = findChildren(\n      validChildren,\n      DrawerOverlay,\n    )\n\n    return (\n      <DrawerProvider value={styles}>\n        <Modal\n          ref={ref}\n          {...{\n            isOpen,\n            onClose,\n            onOverlayClick,\n            onEsc,\n            onCloseComplete,\n            withCloseButton: false,\n            withOverlay: false,\n            allowPinchZoom,\n            autoFocus,\n            restoreFocus,\n            initialFocusRef,\n            finalFocusRef,\n            blockScrollOnMount,\n            closeOnOverlay,\n            closeOnEsc,\n            lockFocusAcrossFrames,\n            duration,\n          }}\n        >\n          {customDrawerOverlay ?? (withOverlay ? <DrawerOverlay /> : null)}\n\n          <DrawerContent {...{ placement, withCloseButton, ...rest }}>\n            {cloneChildren}\n          </DrawerContent>\n        </Modal>\n      </DrawerProvider>\n    )\n  },\n)\n\ntype DrawerContentProps = Omit<\n  DrawerProps,\n  'color' | 'transition' | 'isOpen' | keyof ThemeProps\n>\n\nexport const DrawerContent = forwardRef<DrawerContentProps, 'div'>(\n  ({ className, children, placement, withCloseButton, ...rest }, ref) => {\n    const { isOpen, onClose, duration } = useModal()\n    const styles = useDrawer()\n\n    const validChildren = getValidChildren(children)\n\n    const [customDrawerCloseButton, ...cloneChildren] = findChildren(\n      validChildren,\n      DrawerCloseButton,\n    )\n\n    const css: CSSUIObject = {\n      display: 'flex',\n      flexDirection: 'column',\n      width: '100%',\n      outline: 0,\n      ...styles.container,\n    }\n\n    return (\n      <Slide\n        ref={ref}\n        className={cx('ui-drawer', className)}\n        tabIndex={-1}\n        isOpen={isOpen}\n        placement={placement}\n        duration={duration}\n        __css={css}\n        {...rest}\n      >\n        {customDrawerCloseButton ??\n          (withCloseButton && onClose ? <DrawerCloseButton /> : null)}\n\n        {cloneChildren}\n      </Slide>\n    )\n  },\n)\n\nexport type DrawerOverlayProps = ModalOverlayProps\n\nexport const DrawerOverlay = forwardRef<DrawerOverlayProps, 'div'>(\n  ({ className, ...rest }, ref) => {\n    const styles = useDrawer()\n\n    const css: CSSUIObject = { ...styles.overlay }\n\n    return (\n      <ModalOverlay\n        ref={ref}\n        className={cx('ui-drawer-overlay', className)}\n        __css={css}\n        {...rest}\n      />\n    )\n  },\n)\n\nexport type DrawerCloseButtonProps = ModalCloseButtonProps\n\nexport const DrawerCloseButton = forwardRef<DrawerCloseButtonProps, 'button'>(\n  ({ className, ...rest }, ref) => {\n    const styles = useDrawer()\n\n    const css: CSSUIObject = { ...styles.closeButton }\n\n    return (\n      <ModalCloseButton\n        ref={ref}\n        className={cx('ui-drawer-close-button', className)}\n        __css={css}\n        {...rest}\n      />\n    )\n  },\n)\n\nexport type DrawerHeaderProps = ModalHeaderProps\n\nexport const DrawerHeader = forwardRef<DrawerHeaderProps, 'header'>(\n  ({ className, ...rest }, ref) => {\n    const styles = useDrawer()\n\n    const css: CSSUIObject = { ...styles.header }\n\n    return (\n      <ModalHeader\n        ref={ref}\n        className={cx('ui-drawer-header', className)}\n        __css={css}\n        {...rest}\n      />\n    )\n  },\n)\n\nexport type DrawerBodyProps = ModalBodyProps\n\nexport const DrawerBody = forwardRef<DrawerBodyProps, 'main'>(\n  ({ className, ...rest }, ref) => {\n    const styles = useDrawer()\n\n    const css: CSSUIObject = { ...styles.body }\n\n    return (\n      <ModalBody\n        ref={ref}\n        className={cx('ui-drawer-body', className)}\n        __css={css}\n        {...rest}\n      />\n    )\n  },\n)\n\nexport type DrawerFooterProps = ModalFooterProps\n\nexport const DrawerFooter = forwardRef<DrawerFooterProps, 'footer'>(\n  ({ className, ...rest }, ref) => {\n    const styles = useDrawer()\n\n    const css: CSSUIObject = { ...styles.footer }\n\n    return (\n      <ModalFooter\n        ref={ref}\n        className={cx('ui-drawer-footer', className)}\n        __css={css}\n        {...rest}\n      />\n    )\n  },\n)\n","import {\n  ui,\n  forwardRef,\n  HTMLUIProps,\n  omitThemeProps,\n  ThemeProps,\n  CSSUIObject,\n  useMultiComponentStyle,\n  CSSUIProps,\n  Token,\n} from '@yamada-ui/core'\nimport { FocusLock, FocusLockProps } from '@yamada-ui/focus-lock'\nimport {\n  motion,\n  HTMLMotionProps,\n  AnimatePresence,\n  MotionTransitionProperties,\n} from '@yamada-ui/motion'\nimport { Portal } from '@yamada-ui/portal'\nimport { scaleFadeProps, slideFadeProps } from '@yamada-ui/transitions'\nimport { useValue } from '@yamada-ui/use-value'\nimport {\n  cx,\n  createContext,\n  getValidChildren,\n  findChildren,\n} from '@yamada-ui/utils'\nimport { cloneElement, KeyboardEvent, useCallback } from 'react'\nimport { RemoveScroll } from 'react-remove-scroll'\nimport { DrawerContent } from './drawer'\nimport {\n  DrawerOverlay,\n  DialogOverlay,\n  DialogCloseButton,\n  ModalOverlay,\n  ModalCloseButton,\n} from './'\n\ntype ModalContext = ModalOptions & {\n  styles: Record<string, CSSUIObject>\n}\n\nconst [ModalProvider, useModal] = createContext<ModalContext>({\n  name: `ModalContext`,\n  errorMessage: `useModal returned is 'undefined'. Seems you forgot to wrap the components in \"<Modal />\" `,\n})\n\nexport { useModal }\n\ntype ModalOptions = Pick<\n  FocusLockProps,\n  | 'autoFocus'\n  | 'initialFocusRef'\n  | 'finalFocusRef'\n  | 'restoreFocus'\n  | 'lockFocusAcrossFrames'\n> & {\n  /**\n   * If `true`, the open will be opened.\n   */\n  isOpen: boolean\n  /**\n   * Callback invoked to close the modal.\n   */\n  onClose?: () => void\n  /**\n   * Callback fired when the overlay is clicked.\n   */\n  onOverlayClick?: () => void\n  /**\n   * Callback fired when the escape key is pressed and focus is within modal.\n   */\n  onEsc?(): void\n  /**\n   * Callback function to run side effects after the modal has closed.\n   */\n  onCloseComplete?: () => void\n  /**\n   * The placement of the modal.\n   *\n   * @default 'center'\n   */\n  placement?: Token<\n    | 'center'\n    | 'top'\n    | 'right'\n    | 'bottom'\n    | 'left'\n    | 'top-left'\n    | 'top-right'\n    | 'bottom-left'\n    | 'bottom-right'\n  >\n  /**\n   * The CSS `padding` property.\n   */\n  outside?: CSSUIProps['p']\n  /**\n   * If `true`, display the modal close button.\n   *\n   * @default true\n   */\n  withCloseButton?: boolean\n  /**\n   * If `true`, display the modal overlay.\n   *\n   * @default true\n   */\n  withOverlay?: boolean\n  /**\n   * Handle zoom or pinch gestures on iOS devices when scroll locking is enabled.\n   *\n   * @default false.\n   */\n  allowPinchZoom?: boolean\n  /**\n   * Where scroll behavior should originate.\n   *\n   * - `inside`: scroll only occurs within the `ModalBody`.\n   * - `outside`: the entire `ModalContent` will scroll within the viewport.\n   *\n   * @default 'inside'\n   */\n  scrollBehavior?: 'inside' | 'outside'\n  /**\n   * If `true`, scrolling will be disabled on the `body` when the modal opens.\n   *\n   * @default true\n   */\n  blockScrollOnMount?: boolean\n  /**\n   * If `true`, the modal will close when the overlay is clicked.\n   *\n   * @default true\n   */\n  closeOnOverlay?: boolean\n  /**\n   * If `true`, the modal will close when the `Esc` key is pressed.\n   *\n   * @default true\n   */\n  closeOnEsc?: boolean\n  /**\n   * The animation of the tooltip.\n   *\n   * @default 'scale'\n   */\n  animation?: 'scale' | 'top' | 'right' | 'left' | 'bottom' | 'none'\n  /**\n   * The animation duration.\n   */\n  duration?: MotionTransitionProperties['duration']\n}\n\nexport type ModalProps = Omit<\n  HTMLUIProps<'section'>,\n  'scrollBehavior' | 'animation'\n> &\n  Omit<HTMLMotionProps<'section'>, 'color' | 'transition'> &\n  ThemeProps<'Modal'> &\n  ModalOptions\n\nexport const Modal = forwardRef<ModalProps, 'section'>(\n  ({ size, ...props }, ref) => {\n    const [styles, mergedProps] = useMultiComponentStyle('Modal', {\n      size,\n      ...props,\n    })\n    const {\n      className,\n      children,\n      isOpen,\n      onClose,\n      onOverlayClick,\n      onEsc,\n      onCloseComplete,\n      placement: _placement = 'center',\n      outside = 'md',\n      withCloseButton = true,\n      withOverlay = true,\n      allowPinchZoom = false,\n      scrollBehavior = 'inside',\n      autoFocus,\n      restoreFocus,\n      initialFocusRef,\n      finalFocusRef,\n      blockScrollOnMount = true,\n      closeOnOverlay = true,\n      closeOnEsc = true,\n      lockFocusAcrossFrames = true,\n      animation = 'scale',\n      duration,\n      ...rest\n    } = omitThemeProps(mergedProps)\n\n    const onKeyDown = useCallback(\n      (ev: KeyboardEvent) => {\n        if (ev.key !== 'Escape') return\n\n        ev.stopPropagation()\n\n        if (closeOnEsc) onClose?.()\n\n        onEsc?.()\n      },\n      [closeOnEsc, onClose, onEsc],\n    )\n\n    const validChildren = getValidChildren(children)\n\n    const [customModalOverlay, ...cloneChildren] = findChildren(\n      validChildren,\n      ModalOverlay,\n      DialogOverlay,\n      DrawerOverlay,\n    )\n\n    let [drawerContent] = findChildren(validChildren, DrawerContent)\n\n    if (drawerContent)\n      drawerContent = cloneElement(drawerContent, { onKeyDown })\n\n    const placement = useValue(_placement)\n\n    const css: CSSUIObject = {\n      position: 'fixed',\n      top: 0,\n      left: 0,\n      zIndex: 'beerus',\n      w: '100vw',\n      h: '100dvh',\n      p: size !== 'full' ? outside : undefined,\n      display: 'flex',\n      justifyContent: placement.includes('left')\n        ? 'flex-start'\n        : placement.includes('right')\n        ? 'flex-end'\n        : 'center',\n      alignItems: placement.includes('top')\n        ? 'flex-start'\n        : placement.includes('bottom')\n        ? 'flex-end'\n        : 'center',\n    }\n\n    return (\n      <ModalProvider\n        value={{\n          isOpen,\n          onClose,\n          onOverlayClick,\n          withCloseButton,\n          scrollBehavior,\n          closeOnOverlay,\n          animation,\n          duration,\n          styles,\n        }}\n      >\n        <AnimatePresence onExitComplete={onCloseComplete}>\n          {isOpen ? (\n            <Portal>\n              <FocusLock\n                autoFocus={autoFocus}\n                initialFocusRef={initialFocusRef}\n                finalFocusRef={finalFocusRef}\n                restoreFocus={restoreFocus}\n                lockFocusAcrossFrames={lockFocusAcrossFrames}\n              >\n                <RemoveScroll\n                  allowPinchZoom={allowPinchZoom}\n                  enabled={blockScrollOnMount}\n                  forwardProps\n                >\n                  <ui.div __css={css}>\n                    {customModalOverlay ??\n                      (withOverlay && size !== 'full' ? (\n                        <ModalOverlay />\n                      ) : null)}\n\n                    {drawerContent ?? (\n                      <ModalContent\n                        ref={ref}\n                        className={className}\n                        onKeyDown={onKeyDown}\n                        {...rest}\n                      >\n                        {cloneChildren}\n                      </ModalContent>\n                    )}\n                  </ui.div>\n                </RemoveScroll>\n              </FocusLock>\n            </Portal>\n          ) : null}\n        </AnimatePresence>\n      </ModalProvider>\n    )\n  },\n)\n\ntype ModalContentProps = Omit<\n  HTMLUIProps<'section'>,\n  'scrollBehavior' | 'animation'\n> &\n  Omit<HTMLMotionProps<'section'>, 'color' | 'transition'>\n\nconst getModalContentProps = (\n  animation: ModalProps['animation'] = 'scale',\n  duration?: MotionTransitionProperties['duration'],\n) => {\n  switch (animation) {\n    case 'scale':\n      return {\n        ...scaleFadeProps,\n        custom: { scale: 0.95, reverse: true, duration },\n      }\n    case 'top':\n      return {\n        ...slideFadeProps,\n        custom: { offsetY: -16, reverse: true, duration },\n      }\n    case 'right':\n      return {\n        ...slideFadeProps,\n        custom: { offsetX: 16, reverse: true, duration },\n      }\n    case 'left':\n      return {\n        ...slideFadeProps,\n        custom: { offsetX: -16, reverse: true, duration },\n      }\n    case 'bottom':\n      return {\n        ...slideFadeProps,\n        custom: { offsetY: 16, reverse: true, duration },\n      }\n  }\n}\n\nconst ModalContent = forwardRef<ModalContentProps, 'section'>(\n  ({ className, children, __css, ...rest }, ref) => {\n    const {\n      styles,\n      scrollBehavior,\n      withCloseButton,\n      onClose,\n      animation,\n      duration,\n    } = useModal()\n\n    const validChildren = getValidChildren(children)\n\n    const [customModalCloseButton, ...cloneChildren] = findChildren(\n      validChildren,\n      ModalCloseButton,\n      DialogCloseButton,\n    )\n\n    const props =\n      animation !== 'none' ? getModalContentProps(animation, duration) : {}\n\n    const css: CSSUIObject = {\n      position: 'relative',\n      maxH: '100%',\n      display: 'flex',\n      flexDirection: 'column',\n      overflow: scrollBehavior === 'inside' ? 'hidden' : 'auto',\n      outline: 0,\n      ...(__css ? __css : styles.container),\n    }\n\n    return (\n      <ui.section\n        as={motion.section}\n        ref={ref}\n        className={cx('ui-modal', className)}\n        tabIndex={-1}\n        __css={css}\n        {...props}\n        {...rest}\n      >\n        {customModalCloseButton ??\n          (withCloseButton && onClose ? <ModalCloseButton /> : null)}\n\n        {cloneChildren}\n      </ui.section>\n    )\n  },\n)\n","import { ui, forwardRef, HTMLUIProps, CSSUIObject } from '@yamada-ui/core'\nimport { motion, HTMLMotionProps } from '@yamada-ui/motion'\nimport { fadeProps } from '@yamada-ui/transitions'\nimport { cx, handlerAll } from '@yamada-ui/utils'\nimport { useModal } from './modal'\n\nexport type ModalOverlayProps = HTMLUIProps<'div'> &\n  Omit<HTMLMotionProps<'div'>, 'color' | 'transition'>\n\nexport const ModalOverlay = forwardRef<ModalOverlayProps, 'div'>(\n  ({ className, __css, onClick, ...rest }, ref) => {\n    const {\n      styles,\n      closeOnOverlay,\n      onOverlayClick,\n      onClose,\n      animation,\n      duration,\n    } = useModal()\n\n    const css: CSSUIObject = {\n      position: 'fixed',\n      top: 0,\n      left: 0,\n      w: '100vw',\n      h: '100vh',\n      ...(__css ? __css : styles.overlay),\n    }\n\n    const props = animation !== 'none' ? fadeProps : {}\n\n    return (\n      <ui.div\n        as={motion.div}\n        ref={ref}\n        className={cx('ui-modal-overlay', className)}\n        custom={{ duration }}\n        __css={css}\n        onClick={handlerAll(onClick, onOverlayClick, (ev) => {\n          ev.stopPropagation()\n          if (closeOnOverlay) onClose?.()\n        })}\n        {...props}\n        {...rest}\n      />\n    )\n  },\n)\n","import { CloseButton, CloseButtonProps } from '@yamada-ui/close-button'\nimport { forwardRef, CSSUIObject } from '@yamada-ui/core'\nimport { cx, handlerAll } from '@yamada-ui/utils'\nimport { useModal } from './modal'\n\nexport type ModalCloseButtonProps = CloseButtonProps\n\nexport const ModalCloseButton = forwardRef<ModalCloseButtonProps, 'button'>(\n  ({ onClick, __css, ...rest }, ref) => {\n    const { styles, onClose } = useModal()\n\n    const css: CSSUIObject = {\n      position: 'absolute',\n      ...(__css ? __css : styles.closeButton),\n    }\n\n    return (\n      <CloseButton\n        ref={ref}\n        className={cx('ui-modal-close-button')}\n        __css={css}\n        onClick={handlerAll(onClick, (ev) => {\n          ev.stopPropagation()\n          onClose?.()\n        })}\n        {...rest}\n      />\n    )\n  },\n)\n","import { ui, forwardRef, HTMLUIProps, CSSUIObject } from '@yamada-ui/core'\nimport { cx } from '@yamada-ui/utils'\nimport { useModal } from './modal'\n\nexport type ModalHeaderProps = HTMLUIProps<'header'>\n\nexport const ModalHeader = forwardRef<ModalHeaderProps, 'header'>(\n  ({ className, __css, ...rest }, ref) => {\n    const { styles } = useModal()\n\n    const css: CSSUIObject = {\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'flex-start',\n      ...(__css ? __css : styles.header),\n    }\n\n    return (\n      <ui.header\n        ref={ref}\n        className={cx('ui-modal-header', className)}\n        __css={css}\n        {...rest}\n      />\n    )\n  },\n)\n","import { ui, forwardRef, HTMLUIProps, CSSUIObject } from '@yamada-ui/core'\nimport { cx } from '@yamada-ui/utils'\nimport { useModal } from './modal'\n\nexport type ModalBodyProps = HTMLUIProps<'main'>\n\nexport const ModalBody = forwardRef<ModalBodyProps, 'main'>(\n  ({ className, __css, ...rest }, ref) => {\n    const { styles, scrollBehavior } = useModal()\n\n    const css: CSSUIObject = {\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'flex-start',\n      overflow: scrollBehavior === 'inside' ? 'auto' : undefined,\n      ...(__css ? __css : styles.body),\n    }\n\n    return (\n      <ui.main\n        ref={ref}\n        className={cx('ui-modal-body', className)}\n        __css={css}\n        {...rest}\n      />\n    )\n  },\n)\n","import { ui, forwardRef, HTMLUIProps, CSSUIObject } from '@yamada-ui/core'\nimport { cx } from '@yamada-ui/utils'\nimport { useModal } from './modal'\n\nexport type ModalFooterProps = HTMLUIProps<'footer'>\n\nexport const ModalFooter = forwardRef<ModalFooterProps, 'footer'>(\n  ({ className, __css, ...rest }, ref) => {\n    const { styles } = useModal()\n\n    const css: CSSUIObject = {\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'flex-end',\n      ...(__css ? __css : styles.footer),\n    }\n\n    return (\n      <ui.footer\n        ref={ref}\n        className={cx('ui-modal-footer', className)}\n        __css={css}\n        {...rest}\n      />\n    )\n  },\n)\n","import { Button, ButtonProps } from '@yamada-ui/button'\nimport { CloseButtonProps } from '@yamada-ui/close-button'\nimport {\n  forwardRef,\n  useMultiComponentStyle,\n  omitThemeProps,\n  CSSUIObject,\n  ThemeProps,\n} from '@yamada-ui/core'\nimport {\n  createContext,\n  getValidChildren,\n  findChildren,\n  omitChildren,\n  isValidElement,\n  isEmpty,\n  cx,\n} from '@yamada-ui/utils'\nimport { ReactNode } from 'react'\nimport {\n  Modal,\n  ModalProps,\n  ModalOverlay,\n  ModalOverlayProps,\n  ModalCloseButton,\n  ModalHeader,\n  ModalHeaderProps,\n  ModalBody,\n  ModalBodyProps,\n  ModalFooter,\n  ModalFooterProps,\n} from './'\n\ntype DialogOptions = {\n  /**\n   * The dialog header to use.\n   */\n  header?: ReactNode\n  /**\n   * The dialog footer to use.\n   */\n  footer?: ReactNode\n  /**\n   * The dialog cancel to use.\n   */\n  cancel?: ReactNode | ButtonProps\n  /**\n   * The dialog other to use.\n   */\n  other?: ReactNode | ButtonProps\n  /**\n   * The dialog success to use.\n   */\n  success?: ReactNode | ButtonProps\n  /**\n   * The callback invoked when cancel button clicked.\n   */\n  onCancel?: (onClose: (() => void) | undefined) => void\n  /**\n   * The callback invoked when other button clicked.\n   */\n  onOther?: (onClose: (() => void) | undefined) => void\n  /**\n   * The callback invoked when success button clicked.\n   */\n  onSuccess?: (onClose: (() => void) | undefined) => void\n}\n\nexport type DialogProps = Omit<ModalProps, keyof ThemeProps> &\n  ThemeProps<'Dialog'> &\n  DialogOptions\n\ntype DialogContext = Record<string, CSSUIObject>\n\nconst [DialogProvider, useDialog] = createContext<DialogContext>({\n  name: `DialogContext`,\n  errorMessage: `useDialog returned is 'undefined'. Seems you forgot to wrap the components in \"<Dialog />\" `,\n})\n\nexport const Dialog = forwardRef<DialogProps, 'section'>(\n  ({ size, ...props }, ref) => {\n    const [styles, mergedProps] = useMultiComponentStyle('Dialog', {\n      size,\n      ...props,\n    })\n    const {\n      className,\n      children,\n      withOverlay = true,\n      withCloseButton = true,\n      header,\n      footer,\n      cancel,\n      other,\n      success,\n      onClose,\n      onCancel,\n      onOther,\n      onSuccess,\n      ...rest\n    } = omitThemeProps(mergedProps)\n\n    const validChildren = getValidChildren(children)\n\n    const [customDialogOverlay] = findChildren(validChildren, DialogOverlay)\n    const [customDialogCloseButton] = findChildren(\n      validChildren,\n      DialogCloseButton,\n    )\n    const [customDialogHeader] = findChildren(validChildren, DialogHeader)\n    const [customDialogBody] = findChildren(validChildren, DialogBody)\n    const [customDialogFooter] = findChildren(validChildren, DialogFooter)\n\n    const cloneChildren = !isEmpty(validChildren)\n      ? omitChildren(\n          validChildren,\n          DialogOverlay,\n          DialogCloseButton,\n          DialogHeader,\n          DialogBody,\n          DialogFooter,\n        )\n      : children\n\n    const css: CSSUIObject = { ...styles.container }\n\n    const cancelButtonProps: ButtonProps = isValidElement(cancel)\n      ? { children: cancel }\n      : cancel\n    const otherButtonProps: ButtonProps = isValidElement(other)\n      ? { children: other }\n      : other\n    const successButtonProps: ButtonProps = isValidElement(success)\n      ? { children: success }\n      : success\n\n    if (cancelButtonProps && !cancelButtonProps.variant)\n      cancelButtonProps.variant = 'ghost'\n    if (otherButtonProps && !otherButtonProps.colorScheme)\n      otherButtonProps.colorScheme = 'secondary'\n    if (successButtonProps && !successButtonProps.colorScheme)\n      successButtonProps.colorScheme = 'primary'\n\n    return (\n      <DialogProvider value={styles}>\n        <Modal\n          ref={ref}\n          className={cx('ui-dialog', className)}\n          __css={css}\n          {...{\n            size,\n            onClose,\n            withOverlay: false,\n            withCloseButton: false,\n            ...rest,\n          }}\n        >\n          {customDialogOverlay ??\n            (withOverlay && size !== 'full' ? <DialogOverlay /> : null)}\n          {customDialogCloseButton ??\n            (withCloseButton && onClose ? <DialogCloseButton /> : null)}\n          {customDialogHeader ??\n            (header ? <DialogHeader>{header}</DialogHeader> : null)}\n          {customDialogBody ??\n            (cloneChildren ? <DialogBody>{cloneChildren}</DialogBody> : null)}\n          {customDialogFooter ??\n            (footer ||\n            cancelButtonProps ||\n            otherButtonProps ||\n            successButtonProps ? (\n              <DialogFooter>\n                {footer ?? (\n                  <>\n                    {cancelButtonProps ? (\n                      <Button\n                        onClick={() => onCancel?.(onClose)}\n                        {...cancelButtonProps}\n                      />\n                    ) : null}\n                    {otherButtonProps ? (\n                      <Button\n                        onClick={() => onOther?.(onClose)}\n                        {...otherButtonProps}\n                      />\n                    ) : null}\n                    {successButtonProps ? (\n                      <Button\n                        onClick={() => onSuccess?.(onClose)}\n                        {...successButtonProps}\n                      />\n                    ) : null}\n                  </>\n                )}\n              </DialogFooter>\n            ) : null)}\n        </Modal>\n      </DialogProvider>\n    )\n  },\n)\n\nexport type DialogOverlayProps = ModalOverlayProps\n\nexport const DialogOverlay = forwardRef<DialogOverlayProps, 'div'>(\n  ({ className, ...rest }, ref) => {\n    const styles = useDialog()\n\n    const css: CSSUIObject = { ...styles.overlay }\n\n    return (\n      <ModalOverlay\n        ref={ref}\n        className={cx('ui-dialog-overlay', className)}\n        __css={css}\n        {...rest}\n      />\n    )\n  },\n)\n\nexport type DialogCloseButtonProps = CloseButtonProps\n\nexport const DialogCloseButton = forwardRef<DialogCloseButtonProps, 'button'>(\n  ({ className, ...rest }, ref) => {\n    const styles = useDialog()\n\n    const css: CSSUIObject = { ...styles.closeButton }\n\n    return (\n      <ModalCloseButton\n        ref={ref}\n        className={cx('ui-dialog-close-button', className)}\n        __css={css}\n        {...rest}\n      />\n    )\n  },\n)\n\nexport type DialogHeaderProps = ModalHeaderProps\n\nexport const DialogHeader = forwardRef<DialogHeaderProps, 'header'>(\n  ({ className, ...rest }, ref) => {\n    const styles = useDialog()\n\n    const css: CSSUIObject = { ...styles.header }\n\n    return (\n      <ModalHeader\n        ref={ref}\n        className={cx('ui-dialog-header', className)}\n        __css={css}\n        {...rest}\n      />\n    )\n  },\n)\n\nexport type DialogBodyProps = ModalBodyProps\n\nexport const DialogBody = forwardRef<DialogBodyProps, 'main'>(\n  ({ className, ...rest }, ref) => {\n    const styles = useDialog()\n\n    const css: CSSUIObject = { ...styles.body }\n\n    return (\n      <ModalBody\n        ref={ref}\n        className={cx('ui-dialog-body', className)}\n        __css={css}\n        {...rest}\n      />\n    )\n  },\n)\n\nexport type DialogFooterProps = ModalFooterProps\n\nexport const DialogFooter = forwardRef<DialogFooterProps, 'footer'>(\n  ({ className, ...rest }, ref) => {\n    const styles = useDialog()\n\n    const css: CSSUIObject = { ...styles.footer }\n\n    return (\n      <ModalFooter\n        ref={ref}\n        className={cx('ui-dialog-footer', className)}\n        __css={css}\n        {...rest}\n      />\n    )\n  },\n)\n"],"names":["FOCUS_GROUP","FOCUS_DISABLED","FOCUS_ALLOW","FOCUS_AUTO","FOCUS_NO_AUTOFOCUS","hiddenGuard","mediumFocus","createMedium","_ref","target","currentTarget","mediumBlur","mediumEffect","mediumSidecar","createSidecarMedium","emptyArray","FocusLock","React.forwardRef","props","parentRef","_extends2","_React$useState","React.useState","realObserved","setObserved","observed","React.useRef","isActive","originalFocusedElement","children","disabled","noFocusGuards","persistentFocus","crossFrame","autoFocus","group","className","whiteList","hasPositiveIndices","_props$shards","shards","_props$as","Container","_props$lockProps","containerProps","SideCar","shouldReturnFocus","focusOptions","onActivationCallback","onDeactivationCallback","_React$useState2","id","onActivation","React.useCallback","onDeactivation","useEffect","returnFocus","allowDefer","returnFocusTo","howToReturnFocus","returnFocusOptions","onFocus","event","onBlur","setObserveNode","newObserved","lockProps","_extends","constants.FOCUS_DISABLED","constants.FOCUS_GROUP","hasLeadingGuards","hasTailingGuards","mergedRef","useMergeRefs","React.createElement","React.Fragment","FocusLockUI","_setPrototypeOf","o","p","_inheritsLoose","subClass","superClass","setPrototypeOf","withSideEffect","reducePropsToState","handleStateChangeOnClient","getDisplayName","WrappedComponent","mountedInstances","state","emitChange","instance","SideEffect","_PureComponent","_proto","index","React","PureComponent","_defineProperty","toArray","a","ret","i","asArray","getFirst","isElementHidden","node","computedStyle","getParentNode","isTopNode","isVisibleUncached","checkParent","isVisibleCached","visibilityCache","cached","result","isAutoFocusAllowedUncached","isAutoFocusAllowed","isAutoFocusAllowedCached","cache","getDataset","isHTMLButtonElement","isHTMLInputElement","isRadioElement","notHiddenInput","attribute","isGuard","_a","isNotAGuard","isDefined","x","tabSort","b","tabDiff","indexDiff","orderByTabIndex","nodes","filterNegative","keepGuards","data","tabbables","queryTabbables","queryGuardTabbables","getFocusablesWithShadowDom","parent","withGuards","acc","child","getFocusablesWithIFrame","getFocusables","parents","focusableWithShadowDom","focusableWithIframes","getParentAutofocusables","parentFocus","filterFocusable","filterAutoFocusable","getTabbableNodes","topNodes","getAllTabbableNodes","parentAutofocusables","topNode","contains","scope","element","iframeBody","filterNested","contained","l","j","position","_","getTopParent","getAllAffectedNodes","currentNode","safeProbe","cb","getActiveElement","inDocument","activeElement","focusInFrame","frame","focusInsideIframe","focusInside","focusIsHidden","findSelectedRadio","el","correctNode","correctNodes","resultSet","pickFirstFocus","pickFocusable","NEW_FOCUS","newFocus","innerNodes","outerNodes","lastNode","cnt","firstFocus","lastFocus","isOnGuard","activeIndex","lastIndex","lastNodeInside","firstNodeIndex","lastNodeIndex","correctedNodes","correctedIndex","correctedIndexDiff","returnFirstNode","returnLastNode","findAutoFocused","autoFocusables","autofocus","pickAutofocus","nodesIndexes","orderedNodes","groups","autoFocusable","getParents","getCommonParent","nodeA","nodeB","parentsA","parentsB","currentParent","getTopCommonParent","baseActiveElement","leftEntry","rightEntries","activeElements","leftEntries","topCommon","entry","subEntry","common","allParentAutofocusables","entries","reorderNodes","srcNodes","dstNodes","remap","entity","getFocusMerge","commonParent","anyFocusable","innerElements","orderedInnerElements","newId","focusNode","getFocusabledIn","focusOn","guardCount","lockDisabled","setFocus","options","focusable","deferAction","action","_window","setImmediate","focusOnBody","isFreeFocus","lastActiveTrap","lastActiveFocus","lastPortaledElement","focusWasOutsideWindow","defaultWhitelist","focusWhitelisted","recordPortal","observerNode","portaledElement","focusIsPortaledPair","autoGuard","startIndex","end","step","allNodes","lastGuard","item","extractRef","ref","focusWasOutside","crossFrameOption","checkInHost","check","boundary","withinHost","workingArea","area","activateTrap","_lastActiveTrap","workingNode","moveFocusInside","newActiveElement","focusedIndex","_ref2","guard","_ref3","onTrap","source","FocusWatcher","onWindowBlur","attachHandler","detachHandler","propsList","_ref5","traps","trap","lastTrap","sameTrap","_ref6","FocusTrap","FocusLockCombination","_objectWithoutPropertiesLoose","FocusLock$1","initialFocusRef","finalFocusRef","contentRef","restoreFocus","isDisabled","lockFocusAcrossFrames","useCallback","getAllFocusable","jsx","ReactFocusLock","DrawerProvider","useDrawer","createContext","Drawer","forwardRef","size","styles","mergedProps","useMultiComponentStyle","isOpen","placement","onClose","onOverlayClick","onEsc","onCloseComplete","withCloseButton","withOverlay","allowPinchZoom","blockScrollOnMount","closeOnOverlay","closeOnEsc","duration","rest","omitThemeProps","validChildren","getValidChildren","customDrawerOverlay","cloneChildren","findChildren","DrawerOverlay","jsxs","Modal","DrawerContent","useModal","customDrawerCloseButton","DrawerCloseButton","css","Slide","cx","ModalOverlay","ModalCloseButton","DrawerHeader","ModalHeader","DrawerBody","ModalBody","DrawerFooter","ModalFooter","ModalProvider","_placement","outside","scrollBehavior","animation","onKeyDown","ev","customModalOverlay","DialogOverlay","drawerContent","cloneElement","useValue","AnimatePresence","Portal","RemoveScroll","ui","ModalContent","getModalContentProps","scaleFadeProps","slideFadeProps","__css","customModalCloseButton","DialogCloseButton","motion","onClick","fadeProps","handlerAll","CloseButton","DialogProvider","useDialog","Dialog","header","footer","cancel","other","success","onCancel","onOther","onSuccess","customDialogOverlay","customDialogCloseButton","customDialogHeader","DialogHeader","customDialogBody","DialogBody","customDialogFooter","DialogFooter","isEmpty","omitChildren","cancelButtonProps","isValidElement","otherButtonProps","successButtonProps","Fragment","Button"],"mappings":"06BAGO,IAAIA,GAAc,kBAIdC,GAAiB,2BAIjBC,GAAc,qBAKdC,GAAa,wBAKbC,GAAqB,oBCnBrBC,GAAc,CACvB,MAAO,MACP,OAAQ,MACR,QAAS,EACT,SAAU,SACV,SAAU,QACV,IAAK,MACL,KAAM,KACR,ECTWC,GAAcC,GAAa,GAAI,SAAUC,EAAM,CACxD,IAAIC,EAASD,EAAK,OACdE,EAAgBF,EAAK,cACzB,MAAO,CACL,OAAQC,EACR,cAAeC,CACnB,CACA,CAAC,EACUC,GAAaJ,GAAY,EACzBK,GAAeL,GAAY,EAC3BM,GAAgBC,GAAoB,CAC7C,MAAO,EACT,CAAC,ECLGC,GAAa,CAAA,EACbC,GAAyBC,EAAAA,WAAiB,SAAqBC,EAAOC,EAAW,CACnF,IAAIC,EAEAC,EAAkBC,EAAAA,SAAgB,EAClCC,EAAeF,EAAgB,CAAC,EAChCG,EAAcH,EAAgB,CAAC,EAE/BI,EAAWC,EAAAA,SACXC,EAAWD,SAAa,EAAK,EAC7BE,EAAyBF,SAAa,IAAI,EAC1CG,EAAWX,EAAM,SACjBY,EAAWZ,EAAM,SACjBa,EAAgBb,EAAM,cACtBc,EAAkBd,EAAM,gBACxBe,EAAaf,EAAM,WACnBgB,EAAYhB,EAAM,UACGA,EAAM,mBACjC,IAAMiB,EAAQjB,EAAM,MACdkB,EAAYlB,EAAM,UAClBmB,EAAYnB,EAAM,UAClBoB,EAAqBpB,EAAM,mBAC3BqB,EAAgBrB,EAAM,OACtBsB,EAASD,IAAkB,OAASxB,GAAawB,EACjDE,EAAYvB,EAAM,GAClBwB,EAAYD,IAAc,OAAS,MAAQA,EAC3CE,EAAmBzB,EAAM,UACzB0B,EAAiBD,IAAqB,OAAS,CAAA,EAAKA,EACpDE,EAAU3B,EAAM,QAChB4B,EAAoB5B,EAAM,YAC1B6B,EAAe7B,EAAM,aACrB8B,EAAuB9B,EAAM,aAC7B+B,EAAyB/B,EAAM,eAE/BgC,GAAmB5B,EAAc,SAAC,EAAE,EACpC6B,GAAKD,GAAiB,CAAC,EAGvBE,EAAeC,EAAAA,YAAkB,UAAY,CAC/CzB,EAAuB,QAAUA,EAAuB,SAAW,UAAY,SAAS,cAEpFH,EAAS,SAAWuB,GACtBA,EAAqBvB,EAAS,OAAO,EAGvCE,EAAS,QAAU,EACvB,EAAK,CAACqB,CAAoB,CAAC,EACrBM,EAAiBD,EAAAA,YAAkB,UAAY,CACjD1B,EAAS,QAAU,GAEfsB,GACFA,EAAuBxB,EAAS,OAAO,CAE7C,EAAK,CAACwB,CAAsB,CAAC,EAC3BM,EAAAA,UAAU,UAAY,CACfzB,IAGHF,EAAuB,QAAU,KAEpC,EAAE,CAAE,CAAA,EACL,IAAI4B,GAAcH,cAAkB,SAAUI,EAAY,CACxD,IAAIC,EAAgB9B,EAAuB,QAE3C,GAAI8B,GAAiBA,EAAc,MAAO,CACxC,IAAIC,GAAmB,OAAOb,GAAsB,WAAaA,EAAkBY,CAAa,EAAIZ,EAEpG,GAAIa,GAAkB,CACpB,IAAIC,GAAqB,OAAOD,IAAqB,SAAWA,GAAmB,OACnF/B,EAAuB,QAAU,KAE7B6B,EAGF,QAAQ,UAAU,KAAK,UAAY,CACjC,OAAOC,EAAc,MAAME,EAAkB,CACzD,CAAW,EAEDF,EAAc,MAAME,EAAkB,CAEzC,CACF,CACL,EAAK,CAACd,CAAiB,CAAC,EAElBe,EAAUR,cAAkB,SAAUS,EAAO,CAC3CnC,EAAS,SACXrB,GAAY,UAAUwD,CAAK,CAE9B,EAAE,CAAE,CAAA,EACDC,GAASpD,GAAW,UAGpBqD,GAAiBX,cAAkB,SAAUY,EAAa,CACxDxC,EAAS,UAAYwC,IACvBxC,EAAS,QAAUwC,EACnBzC,EAAYyC,CAAW,EAE1B,EAAE,CAAE,CAAA,EAgBDC,GAAYC,IAAU/C,EAAY,CAAA,EAAIA,EAAUgD,EAAwB,EAAItC,GAAY,WAAYV,EAAUiD,EAAqB,EAAIlC,EAAOf,GAAYwB,CAAc,EAExK0B,GAAmBvC,IAAkB,GACrCwC,GAAmBD,IAAoBvC,IAAkB,OACzDyC,GAAYC,GAAa,CAACtD,EAAW6C,EAAc,CAAC,EACxD,OAAoBU,gBAAoBC,EAAAA,SAAgB,KAAML,IAAoB,CAGlFI,EAAAA,cAAoB,MAAO,CACzB,IAAK,cACL,mBAAoB,GACpB,SAAU5C,EAAW,GAAK,EAC1B,MAAOzB,EACX,CAAG,EACDiC,EAAkCoC,EAAmB,cAAC,MAAO,CAC3D,IAAK,gBACL,mBAAoB,GACpB,SAAU5C,EAAW,GAAK,EAC1B,MAAOzB,EACR,CAAA,EAAI,IAAI,EAAG,CAACyB,GAAyB4C,EAAAA,cAAoB7B,EAAS,CACjE,GAAIM,GACJ,QAAStC,GACT,SAAUU,EACV,SAAUO,EACV,gBAAiBE,EACjB,WAAYC,EACZ,UAAWC,EACX,UAAWG,EACX,OAAQG,EACR,aAAcY,EACd,eAAgBE,EAChB,YAAaE,GACb,aAAcT,CAClB,CAAG,EAAgB2B,EAAAA,cAAoBhC,EAAWyB,GAAS,CACvD,IAAKK,EACN,EAAEN,GAAW,CACZ,UAAW9B,EACX,OAAQ2B,GACR,QAASF,CACV,CAAA,EAAGhC,CAAQ,EAAG0C,IAAiCG,EAAAA,cAAoB,MAAO,CACzE,mBAAoB,GACpB,SAAU5C,EAAW,GAAK,EAC1B,MAAOzB,EACR,CAAA,CAAC,CACJ,CAAC,EACDW,GAAU,UAoBN,CAAA,EACJA,GAAU,aAAe,CACvB,SAAU,OACV,SAAU,GACV,YAAa,GACb,aAAc,OACd,cAAe,GACf,UAAW,GACX,gBAAiB,GACjB,WAAY,GACZ,mBAAoB,OACpB,mBAAoB,OACpB,MAAO,OACP,UAAW,OACX,UAAW,OACX,OAAQ,OACR,GAAI,MACJ,UAAW,CAAE,EACb,aAAc,OACd,eAAgB,MAClB,EACA,MAAA4D,GAAe5D,GC/MA,SAAS6D,GAAgBC,EAAGC,EAAG,CAC5C,OAAAF,GAAkB,OAAO,eAAiB,OAAO,eAAe,KAAI,EAAK,SAAyBC,EAAGC,EAAG,CACtG,OAAAD,EAAE,UAAYC,EACPD,CACX,EACSD,GAAgBC,EAAGC,CAAC,CAC7B,CCLe,SAASC,GAAeC,EAAUC,EAAY,CAC3DD,EAAS,UAAY,OAAO,OAAOC,EAAW,SAAS,EACvDD,EAAS,UAAU,YAAcA,EACjCE,GAAeF,EAAUC,CAAU,CACrC,CCDA,SAASE,GAAeC,EAAoBC,EAA2B,CAWrE,SAASC,EAAeC,EAAkB,CACxC,OAAOA,EAAiB,aAAeA,EAAiB,MAAQ,WACjE,CAED,OAAO,SAAcA,EAAkB,CAOrC,IAAIC,EAAmB,CAAA,EACnBC,EAEJ,SAASC,GAAa,CACpBD,EAAQL,EAAmBI,EAAiB,IAAI,SAAUG,EAAU,CAClE,OAAOA,EAAS,KACjB,CAAA,CAAC,EACFN,EAA0BI,CAAK,CAChC,CAED,IAAIG,EAA0B,SAAUC,EAAgB,CACtDd,GAAea,EAAYC,CAAc,EAEzC,SAASD,GAAa,CACpB,OAAOC,EAAe,MAAM,KAAM,SAAS,GAAK,IACjD,CAGDD,EAAW,KAAO,UAAgB,CAChC,OAAOH,CACf,EAEM,IAAIK,EAASF,EAAW,UAExB,OAAAE,EAAO,kBAAoB,UAA6B,CACtDN,EAAiB,KAAK,IAAI,EAC1BE,GACR,EAEMI,EAAO,mBAAqB,UAA8B,CACxDJ,GACR,EAEMI,EAAO,qBAAuB,UAAgC,CAC5D,IAAIC,EAAQP,EAAiB,QAAQ,IAAI,EACzCA,EAAiB,OAAOO,EAAO,CAAC,EAChCL,GACR,EAEMI,EAAO,OAAS,UAAkB,CAChC,OAAoBE,GAAM,cAAcT,EAAkB,KAAK,KAAK,CAC5E,EAEaK,CACR,EAACK,EAAa,aAAA,EAEf,OAAAC,GAAgBN,EAAY,cAAe,cAAgBN,EAAeC,CAAgB,EAAI,GAAG,EAE1FK,CACX,CACA,CCzEO,IAAIO,EAAU,SAAUC,EAAG,CAE9B,QADIC,EAAM,MAAMD,EAAE,MAAM,EACfE,EAAI,EAAGA,EAAIF,EAAE,OAAQ,EAAEE,EAC5BD,EAAIC,CAAC,EAAIF,EAAEE,CAAC,EAEhB,OAAOD,CACX,EACWE,GAAU,SAAUH,EAAG,CAAE,OAAQ,MAAM,QAAQA,CAAC,EAAIA,EAAI,CAACA,CAAC,CAAG,EAC7DI,GAAW,SAAUJ,EAAG,CAAE,OAAQ,MAAM,QAAQA,CAAC,EAAIA,EAAE,CAAC,EAAIA,CAAK,ECVxEK,GAAkB,SAAUC,EAAM,CAGlC,GAAIA,EAAK,WAAa,KAAK,aACvB,MAAO,GAEX,IAAIC,EAAgB,OAAO,iBAAiBD,EAAM,IAAI,EACtD,MAAI,CAACC,GAAiB,CAACA,EAAc,iBAC1B,GAEHA,EAAc,iBAAiB,SAAS,IAAM,QAAUA,EAAc,iBAAiB,YAAY,IAAM,QACrH,EACIC,GAAgB,SAAUF,EAAM,CAEhC,OAAOA,EAAK,YAAcA,EAAK,WAAW,WAAa,KAAK,uBAEpDA,EAAK,WAAW,KAClBA,EAAK,UACf,EACIG,GAAY,SAAUH,EAAM,CAE5B,OAAOA,IAAS,UAAaA,GAAQA,EAAK,WAAa,KAAK,aAChE,EACII,GAAoB,SAAUJ,EAAMK,EAAa,CACjD,MAAO,CAACL,GAAQG,GAAUH,CAAI,GAAM,CAACD,GAAgBC,CAAI,GAAKK,EAAYH,GAAcF,CAAI,CAAC,CACjG,EACWM,GAAkB,SAAUC,EAAiBP,EAAM,CAC1D,IAAIQ,EAASD,EAAgB,IAAIP,CAAI,EACrC,GAAIQ,IAAW,OACX,OAAOA,EAEX,IAAIC,EAASL,GAAkBJ,EAAMM,GAAgB,KAAK,OAAWC,CAAe,CAAC,EACrF,OAAAA,EAAgB,IAAIP,EAAMS,CAAM,EACzBA,CACX,EACIC,GAA6B,SAAUV,EAAMK,EAAa,CAC1D,OAAOL,GAAQ,CAACG,GAAUH,CAAI,EAAKW,GAAmBX,CAAI,EAAIK,EAAYH,GAAcF,CAAI,CAAC,EAAI,GAAS,EAC9G,EACWY,GAA2B,SAAUC,EAAOb,EAAM,CACzD,IAAIQ,EAASK,EAAM,IAAIb,CAAI,EAC3B,GAAIQ,IAAW,OACX,OAAOA,EAEX,IAAIC,EAASC,GAA2BV,EAAMY,GAAyB,KAAK,OAAWC,CAAK,CAAC,EAC7F,OAAAA,EAAM,IAAIb,EAAMS,CAAM,EACfA,CACX,EACWK,GAAa,SAAUd,EAAM,CAEpC,OAAOA,EAAK,OAChB,EACWe,GAAsB,SAAUf,EAAM,CAAE,OAAOA,EAAK,UAAY,UAChEgB,GAAqB,SAAUhB,EAAM,CAAE,OAAOA,EAAK,UAAY,SAC/DiB,GAAiB,SAAUjB,EAAM,CACxC,OAAOgB,GAAmBhB,CAAI,GAAKA,EAAK,OAAS,OACrD,EACWkB,GAAiB,SAAUlB,EAAM,CACxC,MAAO,GAAGgB,GAAmBhB,CAAI,GAAKe,GAAoBf,CAAI,KAAOA,EAAK,OAAS,UAAYA,EAAK,UACxG,EACWW,GAAqB,SAAUX,EAAM,CAC5C,IAAImB,EAAYnB,EAAK,aAAavG,EAAkB,EACpD,MAAO,CAAC,CAAC,GAAM,OAAQ,EAAE,EAAE,SAAS0H,CAAS,CACjD,EACWC,GAAU,SAAUpB,EAAM,CAAE,IAAIqB,EAAI,MAAO,GAAQrB,IAAU,GAAAqB,EAAKP,GAAWd,CAAI,KAAO,MAAQqB,IAAO,SAAkBA,EAAG,cAC5HC,GAAc,SAAUtB,EAAM,CAAE,MAAO,CAACoB,GAAQpB,CAAI,GACpDuB,GAAY,SAAUC,EAAG,CAAE,MAAO,EAAQA,CAAK,ECjE/CC,GAAU,SAAU/B,EAAGgC,EAAG,CACjC,IAAIC,EAAUjC,EAAE,SAAWgC,EAAE,SACzBE,EAAYlC,EAAE,MAAQgC,EAAE,MAC5B,GAAIC,EAAS,CACT,GAAI,CAACjC,EAAE,SACH,MAAO,GAEX,GAAI,CAACgC,EAAE,SACH,MAAO,EAEd,CACD,OAAOC,GAAWC,CACtB,EACWC,GAAkB,SAAUC,EAAOC,EAAgBC,EAAY,CACtE,OAAOvC,EAAQqC,CAAK,EACf,IAAI,SAAU9B,EAAMX,EAAO,CAAE,MAAQ,CACtC,KAAMW,EACN,MAAOX,EACP,SAAU2C,GAAchC,EAAK,WAAa,IAAOA,EAAK,SAAW,CAAA,GAAI,WAAa,EAAI,GAAMA,EAAK,QACpG,EAAI,EACA,OAAO,SAAUiC,EAAM,CAAE,MAAO,CAACF,GAAkBE,EAAK,UAAY,EAAI,EACxE,KAAKR,EAAO,CACrB,ECpBWS,GAAY,CACnB,iBACA,iBACA,mBACA,gBAGA,UACA,aACA,UACA,SACA,SACA,QACA,kBACA,kBACA,aACA,oBACA,aACJ,EClBIC,GAAiBD,GAAU,KAAK,GAAG,EACnCE,GAAsB,GAAG,OAAOD,GAAgB,sBAAsB,EACtEE,GAA6B,SAAUC,EAAQC,EAAY,CAC3D,OAAO9C,GAAS6C,EAAO,YAAcA,GAAQ,QAAQ,EAAE,OAAO,SAAUE,EAAKC,EAAO,CAChF,OAAOD,EAAI,OAAOC,EAAM,QAAQF,EAAaH,GAAsBD,EAAc,EAAI,CAACM,CAAK,EAAI,CAAA,EAAIJ,GAA2BI,CAAK,CAAC,CACvI,EAAE,CAAE,CAAA,CACT,EACIC,GAA0B,SAAUJ,EAAQC,EAAY,CACxD,IAAIlB,EAEJ,OAAIiB,aAAkB,oBAAuB,GAAAjB,EAAKiB,EAAO,mBAAqB,MAAQjB,IAAO,SAAkBA,EAAG,MACvGsB,GAAc,CAACL,EAAO,gBAAgB,IAAI,EAAGC,CAAU,EAE3D,CAACD,CAAM,CAClB,EACWK,GAAgB,SAAUC,EAASL,EAAY,CACtD,OAAOK,EAAQ,OAAO,SAAUJ,EAAKF,EAAQ,CACzC,IAAIjB,EACAwB,EAAyBR,GAA2BC,EAAQC,CAAU,EACtEO,GAAwBzB,EAAK,CAAA,GAAI,OAAO,MAAMA,EAAIwB,EAAuB,IAAI,SAAU7C,EAAM,CAAE,OAAO0C,GAAwB1C,EAAMuC,CAAU,CAAI,CAAA,CAAC,EACvJ,OAAOC,EAAI,OAEXM,EAEAR,EAAO,WACD7C,EAAQ6C,EAAO,WAAW,iBAAiBH,EAAc,CAAC,EAAE,OAAO,SAAUnC,EAAM,CAAE,OAAOA,IAASsC,CAAO,CAAE,EAC9G,CAAA,CAAE,CACX,EAAE,CAAE,CAAA,CACT,EAKWS,GAA0B,SAAUT,EAAQ,CACnD,IAAIU,EAAcV,EAAO,iBAAiB,IAAI,OAAO9I,GAAY,GAAG,CAAC,EACrE,OAAOiG,EAAQuD,CAAW,EACrB,IAAI,SAAUhD,EAAM,CAAE,OAAO2C,GAAc,CAAC3C,CAAI,CAAC,EAAI,EACrD,OAAO,SAAUwC,EAAKV,EAAO,CAAE,OAAOU,EAAI,OAAOV,CAAK,GAAM,CAAA,CAAE,CACvE,EChCWmB,GAAkB,SAAUnB,EAAOvB,EAAiB,CAC3D,OAAOd,EAAQqC,CAAK,EACf,OAAO,SAAU9B,EAAM,CAAE,OAAOM,GAAgBC,EAAiBP,CAAI,EAAI,EACzE,OAAO,SAAUA,EAAM,CAAE,OAAOkB,GAAelB,CAAI,CAAE,CAAE,CAChE,EACWkD,GAAsB,SAAUpB,EAAOjB,EAAO,CACrD,OAAIA,IAAU,SAAUA,EAAQ,IAAI,KAC7BpB,EAAQqC,CAAK,EAAE,OAAO,SAAU9B,EAAM,CAAE,OAAOY,GAAyBC,EAAOb,CAAI,CAAI,CAAA,CAClG,EAKWmD,GAAmB,SAAUC,EAAU7C,EAAiBgC,EAAY,CAC3E,OAAOV,GAAgBoB,GAAgBN,GAAcS,EAAUb,CAAU,EAAGhC,CAAe,EAAG,GAAMgC,CAAU,CAClH,EAKWc,GAAsB,SAAUD,EAAU7C,EAAiB,CAClE,OAAOsB,GAAgBoB,GAAgBN,GAAcS,CAAQ,EAAG7C,CAAe,EAAG,EAAK,CAC3F,EAMW+C,GAAuB,SAAUC,EAAShD,EAAiB,CAClE,OAAO0C,GAAgBF,GAAwBQ,CAAO,EAAGhD,CAAe,CAC5E,EAIWiD,EAAW,SAAUC,EAAOC,EAAS,CAC5C,OAAID,EAAM,WACCD,EAASC,EAAM,WAAYC,CAAO,EAGrC,OAAO,eAAeD,CAAK,EAAE,WAAa,QAC1C,OAAO,eAAeA,CAAK,EAAE,SAAS,KAAKA,EAAOC,CAAO,EAClD,GAEJjE,EAAQgE,EAAM,QAAQ,EAAE,KAAK,SAAUhB,EAAO,CACjD,IAAIpB,EACJ,GAAIoB,aAAiB,kBAAmB,CACpC,IAAIkB,GAActC,EAAKoB,EAAM,mBAAqB,MAAQpB,IAAO,OAAS,OAASA,EAAG,KACtF,OAAIsC,EACOH,EAASG,EAAYD,CAAO,EAEhC,EACV,CACD,OAAOF,EAASf,EAAOiB,CAAO,CAC1C,CAAS,CAET,ECvDIE,GAAe,SAAU9B,EAAO,CAGhC,QAFI+B,EAAY,IAAI,IAChBC,EAAIhC,EAAM,OACLlC,EAAI,EAAGA,EAAIkE,EAAGlE,GAAK,EACxB,QAASmE,EAAInE,EAAI,EAAGmE,EAAID,EAAGC,GAAK,EAAG,CAC/B,IAAIC,EAAWlC,EAAMlC,CAAC,EAAE,wBAAwBkC,EAAMiC,CAAC,CAAC,GAEnDC,EAAW,KAAK,gCAAkC,GACnDH,EAAU,IAAIE,CAAC,GAEdC,EAAW,KAAK,4BAA8B,GAC/CH,EAAU,IAAIjE,CAAC,CAGtB,CAEL,OAAOkC,EAAM,OAAO,SAAUmC,EAAG5E,EAAO,CAAE,MAAO,CAACwE,EAAU,IAAIxE,CAAK,CAAI,CAAA,CAC7E,EAMI6E,GAAe,SAAUlE,EAAM,CAC/B,OAAOA,EAAK,WAAakE,GAAalE,EAAK,UAAU,EAAIA,CAC7D,EAMWmE,GAAsB,SAAUnE,EAAM,CAC7C,IAAI8B,EAAQjC,GAAQG,CAAI,EACxB,OAAO8B,EAAM,OAAO,OAAO,EAAE,OAAO,SAAUU,EAAK4B,EAAa,CAC5D,IAAI5I,EAAQ4I,EAAY,aAAa/K,EAAW,EAChD,OAAAmJ,EAAI,KAAK,MAAMA,EAAMhH,EACfoI,GAAanE,EAAQyE,GAAaE,CAAW,EAAE,iBAAiB,IAAI,OAAO/K,GAAa,IAAK,EAAE,OAAOmC,EAAO,UAAW,EAAE,OAAOlC,GAAgB,eAAiB,CAAC,CAAC,CAAC,EACrK,CAAC8K,CAAW,CAAC,EACZ5B,CACV,EAAE,CAAE,CAAA,CACT,ECjDW6B,GAAY,SAAUC,EAAI,CACjC,GAAI,CACA,OAAOA,EAAE,CACZ,MACS,CACN,MACH,CACL,ECHWC,EAAmB,SAAUC,EAAY,CAEhD,GADIA,IAAe,SAAUA,EAAa,UACtC,GAACA,GAAc,CAACA,EAAW,eAG/B,KAAIC,EAAgBD,EAAW,cAC/B,OAAQC,EAAc,WAChBF,EAAiBE,EAAc,UAAU,EACzCA,aAAyB,mBAAqBJ,GAAU,UAAY,CAAE,OAAOI,EAAc,cAAc,SAAW,EAChHF,EAAiBE,EAAc,cAAc,QAAQ,EACrDA,EACd,ECXIC,GAAe,SAAUC,EAAOF,EAAe,CAAE,OAAOE,IAAUF,GAClEG,GAAoB,SAAUrB,EAASkB,EAAe,CACtD,MAAO,EAAQhF,EAAQ8D,EAAQ,iBAAiB,QAAQ,CAAC,EAAE,KAAK,SAAUvD,EAAM,CAAE,OAAO0E,GAAa1E,EAAMyE,CAAa,CAAI,CAAA,CACjI,EAIWI,GAAc,SAAUtB,EAASkB,EAAe,CAGvD,OADIA,IAAkB,SAAUA,EAAgBF,EAAiBzE,GAASyD,CAAO,EAAE,aAAa,GAC5F,CAACkB,GAAkBA,EAAc,SAAWA,EAAc,QAAQ,WAC3D,GAEJN,GAAoBZ,CAAO,EAAE,KAAK,SAAUvD,EAAM,CACrD,OAAOwD,EAASxD,EAAMyE,CAAa,GAAKG,GAAkB5E,EAAMyE,CAAa,CACrF,CAAK,CACL,ECXWK,GAAgB,SAAUN,EAAY,CACzCA,IAAe,SAAUA,EAAa,UAC1C,IAAIC,EAAgBF,EAAiBC,CAAU,EAC/C,OAAKC,EAIEhF,EAAQ+E,EAAW,iBAAiB,IAAI,OAAOjL,GAAa,GAAG,CAAC,CAAC,EAAE,KAAK,SAAUyG,EAAM,CAAE,OAAOwD,EAASxD,EAAMyE,CAAa,CAAE,CAAE,EAH7H,EAIf,EChBIM,GAAoB,SAAU/E,EAAM8B,EAAO,CAC3C,OAAOA,EACF,OAAOb,EAAc,EACrB,OAAO,SAAU+D,EAAI,CAAE,OAAOA,EAAG,OAAShF,EAAK,KAAO,EACtD,OAAO,SAAUgF,EAAI,CAAE,OAAOA,EAAG,QAAU,EAAE,CAAC,GAAKhF,CAC5D,EACWiF,GAAc,SAAUjF,EAAM8B,EAAO,CAC5C,OAAIb,GAAejB,CAAI,GAAKA,EAAK,KACtB+E,GAAkB/E,EAAM8B,CAAK,EAEjC9B,CACX,EAKWkF,GAAe,SAAUpD,EAAO,CAEvC,IAAIqD,EAAY,IAAI,IACpB,OAAArD,EAAM,QAAQ,SAAU9B,EAAM,CAAE,OAAOmF,EAAU,IAAIF,GAAYjF,EAAM8B,CAAK,CAAC,CAAI,CAAA,EAE1EA,EAAM,OAAO,SAAU9B,EAAM,CAAE,OAAOmF,EAAU,IAAInF,CAAI,CAAE,CAAE,CACvE,ECtBWoF,GAAiB,SAAUtD,EAAO,CACzC,OAAIA,EAAM,CAAC,GAAKA,EAAM,OAAS,EACpBmD,GAAYnD,EAAM,CAAC,EAAGA,CAAK,EAE/BA,EAAM,CAAC,CAClB,EACWuD,GAAgB,SAAUvD,EAAOzC,EAAO,CAC/C,OAAIyC,EAAM,OAAS,EACRA,EAAM,QAAQmD,GAAYnD,EAAMzC,CAAK,EAAGyC,CAAK,CAAC,EAElDzC,CACX,ECTWiG,GAAY,YASZC,GAAW,SAAUC,EAAYC,EAAYhB,EAAeiB,EAAU,CAC7E,IAAIC,EAAMH,EAAW,OACjBI,EAAaJ,EAAW,CAAC,EACzBK,EAAYL,EAAWG,EAAM,CAAC,EAC9BG,EAAY1E,GAAQqD,CAAa,EAErC,GAAI,EAAAA,GAAiBe,EAAW,QAAQf,CAAa,GAAK,GAG1D,KAAIsB,EAActB,IAAkB,OAAYgB,EAAW,QAAQhB,CAAa,EAAI,GAChFuB,EAAYN,EAAWD,EAAW,QAAQC,CAAQ,EAAIK,EACtDE,EAAiBP,EAAWF,EAAW,QAAQE,CAAQ,EAAI,GAC3D9D,EAAYmE,EAAcC,EAC1BE,EAAiBT,EAAW,QAAQG,CAAU,EAC9CO,EAAgBV,EAAW,QAAQI,CAAS,EAC5CO,EAAiBlB,GAAaO,CAAU,EACxCY,EAAiB5B,IAAkB,OAAY2B,EAAe,QAAQ3B,CAAa,EAAI,GACvF6B,EAAqBD,GAAkBX,EAAWU,EAAe,QAAQV,CAAQ,EAAIK,GACrFQ,EAAkBlB,GAAcG,EAAY,CAAC,EAC7CgB,EAAiBnB,GAAcG,EAAYG,EAAM,CAAC,EAEtD,GAAII,IAAgB,IAAME,IAAmB,GACzC,OAAOX,GAGX,GAAI,CAAC1D,GAAaqE,GAAkB,EAChC,OAAOA,EAGX,GAAIF,GAAeG,GAAkBJ,GAAa,KAAK,IAAIlE,CAAS,EAAI,EACpE,OAAO4E,EAGX,GAAIT,GAAeI,GAAiBL,GAAa,KAAK,IAAIlE,CAAS,EAAI,EACnE,OAAO2E,EAGX,GAAI3E,GAAa,KAAK,IAAI0E,CAAkB,EAAI,EAC5C,OAAOL,EAGX,GAAIF,GAAeG,EACf,OAAOM,EAGX,GAAIT,EAAcI,EACd,OAAOI,EAGX,GAAI3E,EACA,OAAI,KAAK,IAAIA,CAAS,EAAI,EACfqE,GAEHN,EAAMM,EAAiBrE,GAAa+D,EAIpD,EClEIc,GAAkB,SAAUC,EAAgB,CAC5C,OAAO,SAAU1G,EAAM,CACnB,IAAIqB,EACAsF,GAAatF,EAAKP,GAAWd,CAAI,KAAO,MAAQqB,IAAO,OAAS,OAASA,EAAG,UAChF,OAEArB,EAAK,WAEA2G,IAAc,QAAaA,IAAc,SAE1CD,EAAe,QAAQ1G,CAAI,GAAK,CAC5C,CACA,EACW4G,GAAgB,SAAUC,EAAcC,EAAcC,EAAQ,CACrE,IAAIjF,EAAQ+E,EAAa,IAAI,SAAUxF,EAAI,CACvC,IAAIrB,EAAOqB,EAAG,KACd,OAAOrB,CACf,CAAK,EACGgH,EAAgB9D,GAAoBpB,EAAM,OAAO2E,GAAgBM,CAAM,CAAC,CAAC,EAC7E,OAAIC,GAAiBA,EAAc,OACxB5B,GAAe4B,CAAa,EAEhC5B,GAAelC,GAAoB4D,CAAY,CAAC,CAC3D,ECvBIG,GAAa,SAAUjH,EAAM4C,EAAS,CACtC,OAAIA,IAAY,SAAUA,EAAU,CAAE,GACtCA,EAAQ,KAAK5C,CAAI,EACbA,EAAK,YACLiH,GAAWjH,EAAK,WAAW,MAAQA,EAAK,WAAY4C,CAAO,EAExDA,CACX,EAOWsE,GAAkB,SAAUC,EAAOC,EAAO,CAIjD,QAHIC,EAAWJ,GAAWE,CAAK,EAC3BG,EAAWL,GAAWG,CAAK,EAEtBxH,EAAI,EAAGA,EAAIyH,EAAS,OAAQzH,GAAK,EAAG,CACzC,IAAI2H,EAAgBF,EAASzH,CAAC,EAC9B,GAAI0H,EAAS,QAAQC,CAAa,GAAK,EACnC,OAAOA,CAEd,CACD,MAAO,EACX,EACWC,GAAqB,SAAUC,EAAmBC,EAAWC,EAAc,CAClF,IAAIC,EAAiB/H,GAAQ4H,CAAiB,EAC1CI,EAAchI,GAAQ6H,CAAS,EAC/BjD,EAAgBmD,EAAe,CAAC,EAChCE,EAAY,GAChB,OAAAD,EAAY,OAAO,OAAO,EAAE,QAAQ,SAAUE,EAAO,CACjDD,EAAYZ,GAAgBY,GAAaC,EAAOA,CAAK,GAAKD,EAC1DH,EAAa,OAAO,OAAO,EAAE,QAAQ,SAAUK,EAAU,CACrD,IAAIC,EAASf,GAAgBzC,EAAeuD,CAAQ,EAChDC,IACI,CAACH,GAAatE,EAASyE,EAAQH,CAAS,EACxCA,EAAYG,EAGZH,EAAYZ,GAAgBe,EAAQH,CAAS,EAGjE,CAAS,CACT,CAAK,EAEMA,CACX,EAMWI,GAA0B,SAAUC,EAAS5H,EAAiB,CACrE,OAAO4H,EAAQ,OAAO,SAAU3F,EAAKxC,EAAM,CAAE,OAAOwC,EAAI,OAAOc,GAAqBtD,EAAMO,CAAe,CAAC,CAAI,EAAE,CAAE,CAAA,CACtH,EClDI6H,GAAe,SAAUC,EAAUC,EAAU,CAC7C,IAAIC,EAAQ,IAAI,IAEhB,OAAAD,EAAS,QAAQ,SAAUE,EAAQ,CAAE,OAAOD,EAAM,IAAIC,EAAO,KAAMA,CAAM,CAAI,CAAA,EAEtEH,EAAS,IAAI,SAAUrI,EAAM,CAAE,OAAOuI,EAAM,IAAIvI,CAAI,CAAI,CAAA,EAAE,OAAOuB,EAAS,CACrF,EAMWkH,GAAgB,SAAUlF,EAASmC,EAAU,CACpD,IAAIjB,EAAgBF,EAAiB1E,GAAQ0D,CAAO,EAAE,OAAS,EAAI,SAAWzD,GAASyD,CAAO,EAAE,aAAa,EACzG4E,EAAUhE,GAAoBZ,CAAO,EAAE,OAAOjC,EAAW,EACzDoH,EAAelB,GAAmB/C,GAAiBlB,EAASA,EAAS4E,CAAO,EAC5E5H,EAAkB,IAAI,IACtBoI,EAAetF,GAAoB8E,EAAS5H,CAAe,EAC3DqI,EAAgBzF,GAAiBgF,EAAS5H,CAAe,EAAE,OAAO,SAAUc,EAAI,CAChF,IAAIrB,EAAOqB,EAAG,KACd,OAAOC,GAAYtB,CAAI,CAC/B,CAAK,EACD,GAAI,GAAC4I,EAAc,CAAC,IAChBA,EAAgBD,EACZ,CAACC,EAAc,CAAC,IAIxB,KAAInD,EAAapC,GAAoB,CAACqF,CAAY,EAAGnI,CAAe,EAAE,IAAI,SAAUc,EAAI,CACpF,IAAIrB,EAAOqB,EAAG,KACd,OAAOrB,CACf,CAAK,EACG6I,EAAuBT,GAAa3C,EAAYmD,CAAa,EAC7DpD,EAAaqD,EAAqB,IAAI,SAAUxH,EAAI,CACpD,IAAIrB,EAAOqB,EAAG,KACd,OAAOrB,CACf,CAAK,EACG8I,EAAQvD,GAASC,EAAYC,EAAYhB,EAAeiB,CAAQ,EACpE,GAAIoD,IAAUxD,GAAW,CACrB,IAAIyD,EAAYnC,GAAc+B,EAAcnD,EAAY0C,GAAwBC,EAAS5H,CAAe,CAAC,EACzG,GAAIwI,EACA,MAAO,CAAE,KAAMA,GAGf,QAAQ,KAAK,qDAAqD,EAClE,MAEP,CACD,OAAID,IAAU,OACHA,EAEJD,EAAqBC,CAAK,EACrC,ECpDWE,GAAkB,SAAUzF,EAAS,CAC5C,IAAI4E,EAAUhE,GAAoBZ,CAAO,EAAE,OAAOjC,EAAW,EACzDoH,EAAelB,GAAmBjE,EAASA,EAAS4E,CAAO,EAC3D5H,EAAkB,IAAI,IACtBkF,EAAatC,GAAiB,CAACuF,CAAY,EAAGnI,EAAiB,EAAI,EACnEqI,EAAgBzF,GAAiBgF,EAAS5H,CAAe,EACxD,OAAO,SAAUc,EAAI,CACtB,IAAIrB,EAAOqB,EAAG,KACd,OAAOC,GAAYtB,CAAI,CAC/B,CAAK,EACI,IAAI,SAAUqB,EAAI,CACnB,IAAIrB,EAAOqB,EAAG,KACd,OAAOrB,CACf,CAAK,EACD,OAAOyF,EAAW,IAAI,SAAUpE,EAAI,CAChC,IAAIrB,EAAOqB,EAAG,KAAMhC,EAAQgC,EAAG,MAC/B,MAAQ,CACJ,KAAMrB,EACN,MAAOX,EACP,SAAUuJ,EAAc,QAAQ5I,CAAI,GAAK,EACzC,MAAOoB,GAAQpB,CAAI,CAC/B,CACA,CAAK,CACL,EC9BWiJ,GAAU,SAAUnP,EAAQsC,EAAc,CAC7C,UAAWtC,GACXA,EAAO,MAAMsC,CAAY,EAEzB,kBAAmBtC,GAAUA,EAAO,eACpCA,EAAO,cAAc,OAE7B,EACIoP,GAAa,EACbC,GAAe,GAQRC,GAAW,SAAU7F,EAASmC,EAAU2D,EAAS,CACpDA,IAAY,SAAUA,EAAU,CAAE,GACtC,IAAIC,EAAYb,GAAclF,EAASmC,CAAQ,EAC/C,GAAI,CAAAyD,IAGAG,EAAW,CACX,GAAIJ,GAAa,EAAG,CAEhB,QAAQ,MAAM,mJACmD,EACjEC,GAAe,GACf,WAAW,UAAY,CACnBA,GAAe,EAClB,EAAE,CAAC,EACJ,MACH,CACDD,KACAD,GAAQK,EAAU,KAAMD,EAAQ,YAAY,EAC5CH,IACH,CACL,ECvCO,SAASK,GAAYC,EAAQ,CAElC,IAAIC,EAAU,OACVC,EAAeD,EAAQ,aAEvB,OAAOC,EAAiB,IAC1BA,EAAaF,CAAM,EAEnB,WAAWA,EAAQ,CAAC,CAExB,CCFA,IAAIG,GAAc,UAAuB,CACvC,OAAO,UAAY,SAAS,gBAAkB,SAAS,IACzD,EAEIC,GAAc,UAAuB,CACvC,OAAOD,GAAW,GAAM7E,IAC1B,EAEI+E,EAAiB,KACjBC,EAAkB,KAClBC,EAAsB,KACtBC,EAAwB,GAExBC,GAAmB,UAA4B,CACjD,MAAO,EACT,EAEIC,GAAmB,SAA0BzF,EAAe,CAC9D,OAAQoF,EAAe,WAAaI,IAAkBxF,CAAa,CACrE,EAEI0F,GAAe,SAAsBC,EAAcC,EAAiB,CACtEN,EAAsB,CACpB,aAAcK,EACd,gBAAiBC,CACrB,CACA,EAEIC,GAAsB,SAA6B5G,EAAS,CAC9D,OAAOqG,GAAuBA,EAAoB,kBAAoBrG,CACxE,EAEA,SAAS6G,GAAUC,EAAYC,EAAKC,EAAMC,EAAU,CAClD,IAAIC,EAAY,KACZhL,EAAI4K,EAER,EAAG,CACD,IAAIK,EAAOF,EAAS/K,CAAC,EAErB,GAAIiL,EAAK,MACHA,EAAK,KAAK,QAAQ,iBACpBD,EAAYC,WAELA,EAAK,SAAU,CACxB,GAAIjL,IAAM4K,EAER,OAGFI,EAAY,IAClB,KACM,MAEN,QAAYhL,GAAK8K,KAAUD,GAErBG,IACFA,EAAU,KAAK,SAAW,EAE9B,CAEA,IAAIE,GAAa,SAAoBC,EAAK,CACxC,OAAOA,GAAO,YAAaA,EAAMA,EAAI,QAAUA,CACjD,EAEIC,GAAkB,SAAyBC,EAAkB,CAC/D,OAAIA,EAEK,EAAQjB,EAIVA,IAA0B,WACnC,EAEIkB,GAAc,SAASA,EAAYC,EAAOnG,EAAIoG,EAAU,CAC1D,OAAOpG,IACPA,EAAG,OAASmG,IAAU,CAACnG,EAAG,eAAiBoG,EAAS,SAASpG,EAAG,aAAa,IAC1EA,EAAG,YAAckG,EAAYC,EAAOnG,EAAG,WAAYoG,CAAQ,EAChE,EAEIC,GAAa,SAAoB5G,EAAe6G,EAAa,CAC/D,OAAOA,EAAY,KAAK,SAAUC,EAAM,CACtC,OAAOL,GAAYzG,EAAe8G,EAAMA,CAAI,CAChD,CAAG,CACH,EAEIC,GAAe,UAAwB,CACzC,IAAI/K,EAAS,GAEb,GAAIoJ,EAAgB,CAClB,IAAI4B,EAAkB5B,EAClB/O,EAAW2Q,EAAgB,SAC3BpQ,EAAkBoQ,EAAgB,gBAClClQ,EAAYkQ,EAAgB,UAC5B5P,EAAS4P,EAAgB,OACzBnQ,EAAamQ,EAAgB,WAC7BrP,EAAeqP,EAAgB,aAC/BC,EAAc5Q,GAAYiP,GAAuBA,EAAoB,gBACrEtF,EAAgB,UAAY,SAAS,cAEzC,GAAIiH,EAAa,CACf,IAAIJ,EAAc,CAACI,CAAW,EAAE,OAAO7P,EAAO,IAAIiP,EAAU,EAAE,OAAO,OAAO,CAAC,EA2B7E,IAzBI,CAACrG,GAAiByF,GAAiBzF,CAAa,KAC9CpJ,GAAmB2P,GAAgB1P,CAAU,GAAK,CAACsO,MAAiB,CAACE,GAAmBvO,KACtFmQ,GAAe,EACnB7G,GAAYyG,CAAW,GACvB7G,GAAiB4G,GAAW5G,EAAe6G,CAAW,GAAKhB,GAAoB7F,CAA0B,KACnG,UAAY,CAACqF,GAAmBrF,GAAiB,CAAClJ,GAEhDkJ,EAAc,MAChBA,EAAc,KAAI,EAGpB,SAAS,KAAK,UAEdhE,EAASkL,GAAgBL,EAAaxB,EAAiB,CACrD,aAAc1N,CAC9B,CAAe,EACD2N,EAAsB,CAAA,IAI1BC,EAAwB,GACxBF,EAAkB,UAAY,SAAS,eAIvC,SAAU,CACZ,IAAI8B,EAAmB,UAAY,SAAS,cACxCjB,EAAW3B,GAAgBsC,CAAW,EACtCO,EAAelB,EAAS,IAAI,SAAU9Q,EAAM,CAC9C,IAAImG,EAAOnG,EAAK,KAChB,OAAOmG,CACjB,CAAS,EAAE,QAAQ4L,CAAgB,EAEvBC,EAAe,KAEjBlB,EAAS,OAAO,SAAUmB,EAAO,CAC/B,IAAIC,EAAQD,EAAM,MACd9L,EAAO8L,EAAM,KACjB,OAAOC,GAAS/L,EAAK,QAAQ,cACzC,CAAW,EAAE,QAAQ,SAAUgM,EAAO,CAC1B,IAAIhM,EAAOgM,EAAM,KACjB,OAAOhM,EAAK,gBAAgB,UAAU,CAClD,CAAW,EACDuK,GAAUsB,EAAclB,EAAS,OAAQ,EAAIA,CAAQ,EACrDJ,GAAUsB,EAAc,GAAI,GAAIlB,CAAQ,EAE3C,CACF,CACF,CAED,OAAOlK,CACT,EAEIwL,GAAS,SAAgB9O,EAAO,CAC9BqO,GAAc,GAAIrO,IAEpBA,EAAM,gBAAe,EACrBA,EAAM,eAAc,EAExB,EAEIC,GAAS,UAAkB,CAC7B,OAAOmM,GAAYiC,EAAY,CACjC,EAEItO,GAAU,SAAiBC,EAAO,CAEpC,IAAI+O,EAAS/O,EAAM,OACfiH,EAAcjH,EAAM,cAEnBiH,EAAY,SAAS8H,CAAM,GAC9B/B,GAAa/F,EAAa8H,CAAM,CAEpC,EAEIC,GAAe,UAAwB,CACzC,OAAO,IACT,EAcIC,GAAe,UAAwB,CACzCpC,EAAwB,OAExB,WAAW,UAAY,CACrBA,EAAwB,WACzB,EAAE,CAAC,CACN,EAEIqC,GAAgB,UAAyB,CAC3C,SAAS,iBAAiB,UAAWJ,EAAM,EAC3C,SAAS,iBAAiB,WAAY7O,EAAM,EAC5C,OAAO,iBAAiB,OAAQgP,EAAY,CAC9C,EAEIE,GAAgB,UAAyB,CAC3C,SAAS,oBAAoB,UAAWL,EAAM,EAC9C,SAAS,oBAAoB,WAAY7O,EAAM,EAC/C,OAAO,oBAAoB,OAAQgP,EAAY,CACjD,EAEA,SAAS1N,GAAmB6N,EAAW,CACrC,OAAOA,EAAU,OAAO,SAAUC,EAAO,CACvC,IAAIrR,EAAWqR,EAAM,SACrB,MAAO,CAACrR,CACZ,CAAG,CACH,CAEA,SAASwD,GAA0B8N,EAAO,CACxC,IAAIC,EAAOD,EAAM,MAAM,EAAE,EAAE,CAAC,EAExBC,GAAQ,CAAC7C,GACXwC,KAGF,IAAIM,EAAW9C,EACX+C,EAAWD,GAAYD,GAAQA,EAAK,KAAOC,EAAS,GACxD9C,EAAiB6C,EAEbC,GAAY,CAACC,IACfD,EAAS,eAAc,EAElBF,EAAM,OAAO,SAAUI,EAAO,CACjC,IAAIrQ,EAAKqQ,EAAM,GACf,OAAOrQ,IAAOmQ,EAAS,EACxB,CAAA,EAAE,QAEDA,EAAS,YAAY,CAACD,CAAI,GAI1BA,GACF5C,EAAkB,MAEd,CAAC8C,GAAYD,EAAS,WAAaD,EAAK,WAC1CA,EAAK,aAAY,EAGnBlB,GAAiB,EACjBjC,GAAYiC,EAAY,IAExBc,KACAxC,EAAkB,KAEtB,CAGAnQ,GAAY,iBAAiBuD,EAAO,EACpClD,GAAW,aAAaoD,EAAM,EAC9BnD,GAAa,aAAa,SAAUqK,EAAI,CACtC,OAAOA,EAAG,CACR,gBAAiBqH,GACjB,YAAa9G,EACjB,CAAG,CACH,CAAC,EACD,MAAeiI,GAAArO,GAAeC,GAAoBC,EAAyB,EAAEwN,EAAY,ECtQzF,IAAIY,GAAoCzS,EAAAA,WAAiB,SAAgCC,EAAOwQ,EAAK,CACnG,OAAoBhN,EAAmB,cAACE,GAAaT,GAAS,CAC5D,QAASsP,GACT,IAAK/B,CACT,EAAKxQ,CAAK,CAAC,CACX,CAAC,EAEGV,GAAOoE,GAAY,WAAa,GACtBpE,GAAK,QACHmT,GAA8BnT,GAAM,CAAC,SAAS,CAAC,EAE/DkT,GAAqB,UAAgE,CAAA,EACrF,MAAAE,GAAeF,GC0BF1S,GAAgC,CAAC,CAC5C,gBAAA6S,EACA,cAAAC,EACA,WAAAC,EACA,aAAAC,EACA,SAAAnS,EACA,WAAAoS,EACA,UAAA/R,EACA,gBAAAF,EACA,sBAAAkS,CACF,IAAM,CACE,MAAA9Q,EAAe+Q,EAAAA,YAAY,IAAM,CACjCN,GAAA,MAAAA,EAAiB,QACnBA,EAAgB,QAAQ,QACfE,GAAA,MAAAA,EAAY,SACFK,GAAgBL,EAAW,OAAO,EAEtC,SAAW,GACxB,sBAAsB,IAAM,QAC1B/L,EAAA+L,EAAW,UAAX,MAAA/L,EAAoB,OAAM,CAC3B,CACL,EACC,CAAC6L,EAAiBE,CAAU,CAAC,EAE1BzQ,EAAiB6Q,EAAAA,YAAY,IAAM,QACvCnM,EAAA8L,GAAA,YAAAA,EAAe,UAAf,MAAA9L,EAAwB,OAAM,EAC7B,CAAC8L,CAAa,CAAC,EAKhB,OAAAO,EAACC,GAAA,CACC,WAAYJ,EACZ,gBAAAlS,EACA,UAAAE,EACA,SAAU+R,EACV,aAAA7Q,EACA,eAAAE,EACA,YAVgB0Q,GAAgB,CAACF,EAYhC,SAAAjS,CAAA,CAAA,CAGP,EC3CM,CAAC0S,GAAgBC,CAAS,EAAIC,GAA6B,CAC/D,KAAM,gBACN,aAAc,6FAChB,CAAC,EAEYC,GAASC,EACpB,CAAC,CAAE,KAAAC,EAAM,GAAG1T,CAAA,EAASwQ,IAAQ,CAC3B,KAAM,CAACmD,EAAQC,CAAW,EAAIC,GAAuB,SAAU,CAC7D,KAAAH,EACA,GAAG1T,CAAA,CACJ,EACK,CACJ,SAAAW,EACA,OAAAmT,EACA,UAAAC,EAAY,QACZ,QAAAC,EACA,eAAAC,EACA,MAAAC,EACA,gBAAAC,EACA,gBAAAC,EAAkB,GAClB,YAAAC,EAAc,GACd,eAAAC,EACA,UAAAtT,EACA,aAAA8R,EACA,gBAAAH,EACA,cAAAC,EACA,mBAAA2B,EACA,eAAAC,EACA,WAAAC,EACA,sBAAAzB,EACA,SAAA0B,EAAW,CAAE,MAAO,GAAK,KAAM,EAAI,EACnC,GAAGC,CAAA,EACDC,GAAehB,CAAW,EAExBiB,EAAgBC,EAAiBnU,CAAQ,EAEzC,CAACoU,EAAqB,GAAGC,CAAa,EAAIC,EAC9CJ,EACAK,EAAA,EAIA,OAAA/B,EAACE,GAAe,CAAA,MAAOM,EACrB,SAAAwB,EAACC,GAAA,CACC,IAAA5E,EAEE,OAAAsD,EACA,QAAAE,EACA,eAAAC,EACA,MAAAC,EACA,gBAAAC,EACA,gBAAiB,GACjB,YAAa,GACb,eAAAG,EACA,UAAAtT,EACA,aAAA8R,EACA,gBAAAH,EACA,cAAAC,EACA,mBAAA2B,EACA,eAAAC,EACA,WAAAC,EACA,sBAAAzB,EACA,SAAA0B,EAGD,SAAA,CAAwBK,IAAAV,EAAelB,EAAA+B,GAAA,CAAc,CAAA,EAAK,MAE3D/B,EAACkC,IAAoB,UAAAtB,EAAW,gBAAAK,EAAiB,GAAGO,EACjD,SACHK,EAAA,CAAA,CAAA,CAEJ,CAAA,CAAA,CAEJ,CACF,EAOaK,GAAgB5B,EAC3B,CAAC,CAAE,UAAAvS,EAAW,SAAAP,EAAU,UAAAoT,EAAW,gBAAAK,EAAiB,GAAGO,CAAK,EAAGnE,IAAQ,CACrE,KAAM,CAAE,OAAAsD,EAAQ,QAAAE,EAAS,SAAAU,GAAaY,EAAS,EACzC3B,EAASL,IAETuB,EAAgBC,EAAiBnU,CAAQ,EAEzC,CAAC4U,EAAyB,GAAGP,CAAa,EAAIC,EAClDJ,EACAW,EAAA,EAGIC,EAAmB,CACvB,QAAS,OACT,cAAe,SACf,MAAO,OACP,QAAS,EACT,GAAG9B,EAAO,SAAA,EAIV,OAAAwB,EAACO,GAAA,CACC,IAAAlF,EACA,UAAWmF,EAAG,YAAazU,CAAS,EACpC,SAAU,GACV,OAAA4S,EACA,UAAAC,EACA,SAAAW,EACA,MAAOe,EACN,GAAGd,EAEH,SAAA,CAAAY,IACEnB,GAAmBJ,EAAWb,EAAAqC,GAAA,CAAA,CAAkB,EAAK,MAEvDR,CAAA,CAAA,CAAA,CAGP,CACF,EAIaE,GAAgBzB,EAC3B,CAAC,CAAE,UAAAvS,EAAW,GAAGyT,CAAA,EAAQnE,IAAQ,CAG/B,MAAMiF,EAAmB,CAAE,GAFZnC,IAEsB,OAAQ,EAG3C,OAAAH,EAACyC,GAAA,CACC,IAAApF,EACA,UAAWmF,EAAG,oBAAqBzU,CAAS,EAC5C,MAAOuU,EACN,GAAGd,CAAA,CAAA,CAGV,CACF,EAIaa,GAAoB/B,EAC/B,CAAC,CAAE,UAAAvS,EAAW,GAAGyT,CAAA,EAAQnE,IAAQ,CAG/B,MAAMiF,EAAmB,CAAE,GAFZnC,IAEsB,WAAY,EAG/C,OAAAH,EAAC0C,GAAA,CACC,IAAArF,EACA,UAAWmF,EAAG,yBAA0BzU,CAAS,EACjD,MAAOuU,EACN,GAAGd,CAAA,CAAA,CAGV,CACF,EAIamB,GAAerC,EAC1B,CAAC,CAAE,UAAAvS,EAAW,GAAGyT,CAAA,EAAQnE,IAAQ,CAG/B,MAAMiF,EAAmB,CAAE,GAFZnC,IAEsB,MAAO,EAG1C,OAAAH,EAAC4C,GAAA,CACC,IAAAvF,EACA,UAAWmF,EAAG,mBAAoBzU,CAAS,EAC3C,MAAOuU,EACN,GAAGd,CAAA,CAAA,CAGV,CACF,EAIaqB,GAAavC,EACxB,CAAC,CAAE,UAAAvS,EAAW,GAAGyT,CAAA,EAAQnE,IAAQ,CAG/B,MAAMiF,EAAmB,CAAE,GAFZnC,IAEsB,IAAK,EAGxC,OAAAH,EAAC8C,GAAA,CACC,IAAAzF,EACA,UAAWmF,EAAG,iBAAkBzU,CAAS,EACzC,MAAOuU,EACN,GAAGd,CAAA,CAAA,CAGV,CACF,EAIauB,GAAezC,EAC1B,CAAC,CAAE,UAAAvS,EAAW,GAAGyT,CAAA,EAAQnE,IAAQ,CAG/B,MAAMiF,EAAmB,CAAE,GAFZnC,IAEsB,MAAO,EAG1C,OAAAH,EAACgD,GAAA,CACC,IAAA3F,EACA,UAAWmF,EAAG,mBAAoBzU,CAAS,EAC3C,MAAOuU,EACN,GAAGd,CAAA,CAAA,CAGV,CACF,EChOM,CAACyB,GAAed,CAAQ,EAAI/B,GAA4B,CAC5D,KAAM,eACN,aAAc,2FAChB,CAAC,EAqHY6B,GAAQ3B,EACnB,CAAC,CAAE,KAAAC,EAAM,GAAG1T,CAAA,EAASwQ,IAAQ,CAC3B,KAAM,CAACmD,EAAQC,CAAW,EAAIC,GAAuB,QAAS,CAC5D,KAAAH,EACA,GAAG1T,CAAA,CACJ,EACK,CACJ,UAAAkB,EACA,SAAAP,EACA,OAAAmT,EACA,QAAAE,EACA,eAAAC,EACA,MAAAC,EACA,gBAAAC,EACA,UAAWkC,EAAa,SACxB,QAAAC,EAAU,KACV,gBAAAlC,EAAkB,GAClB,YAAAC,EAAc,GACd,eAAAC,EAAiB,GACjB,eAAAiC,EAAiB,SACjB,UAAAvV,EACA,aAAA8R,EACA,gBAAAH,EACA,cAAAC,EACA,mBAAA2B,EAAqB,GACrB,eAAAC,EAAiB,GACjB,WAAAC,EAAa,GACb,sBAAAzB,EAAwB,GACxB,UAAAwD,EAAY,QACZ,SAAA9B,EACA,GAAGC,CAAA,EACDC,GAAehB,CAAW,EAExB6C,EAAYxD,EAAA,YACfyD,GAAsB,CACjBA,EAAG,MAAQ,WAEfA,EAAG,gBAAgB,EAEfjC,IAAsBT,GAAA,MAAAA,KAElBE,GAAA,MAAAA,IACV,EACA,CAACO,EAAYT,EAASE,CAAK,CAAA,EAGvBW,EAAgBC,EAAiBnU,CAAQ,EAEzC,CAACgW,GAAoB,GAAG3B,EAAa,EAAIC,EAC7CJ,EACAe,GACAgB,GACA1B,EAAA,EAGF,GAAI,CAAC2B,CAAa,EAAI5B,EAAaJ,EAAeQ,EAAa,EAE3DwB,IACFA,EAAgBC,EAAAA,aAAaD,EAAe,CAAE,UAAAJ,CAAW,CAAA,GAErD,MAAA1C,EAAYgD,GAASV,CAAU,EAE/BZ,GAAmB,CACvB,SAAU,QACV,IAAK,EACL,KAAM,EACN,OAAQ,SACR,EAAG,QACH,EAAG,SACH,EAAG/B,IAAS,OAAS4C,EAAU,OAC/B,QAAS,OACT,eAAgBvC,EAAU,SAAS,MAAM,EACrC,aACAA,EAAU,SAAS,OAAO,EAC1B,WACA,SACJ,WAAYA,EAAU,SAAS,KAAK,EAChC,aACAA,EAAU,SAAS,QAAQ,EAC3B,WACA,QAAA,EAIJ,OAAAZ,EAACiD,GAAA,CACC,MAAO,CACL,OAAAtC,EACA,QAAAE,EACA,eAAAC,EACA,gBAAAG,EACA,eAAAmC,EACA,eAAA/B,EACA,UAAAgC,EACA,SAAA9B,EACA,OAAAf,CACF,EAEA,WAACqD,GAAgB,CAAA,eAAgB7C,EAC9B,SAAAL,IACEmD,GACC,CAAA,SAAA9D,EAACrT,GAAA,CACC,UAAAkB,EACA,gBAAA2R,EACA,cAAAC,EACA,aAAAE,EACA,sBAAAE,EAEA,SAAAG,EAAC+D,GAAA,CACC,eAAA5C,EACA,QAASC,EACT,aAAY,GAEZ,SAACY,EAAAgC,EAAG,IAAH,CAAO,MAAO1B,GACZ,SAAA,CAAAkB,KACEtC,GAAeX,IAAS,OACvBP,EAACyC,KAAa,EACZ,MAELiB,GACC1D,EAACiE,GAAA,CACC,IAAA5G,EACA,UAAAtP,EACA,UAAAuV,EACC,GAAG9B,EAEH,SAAAK,EAAA,CACH,CAAA,EAEJ,CAAA,CACF,CAAA,CAAA,CAEJ,CAAA,EACE,KACN,CAAA,CAAA,CAGN,CACF,EAQMqC,GAAuB,CAC3Bb,EAAqC,QACrC9B,IACG,CACH,OAAQ8B,EAAW,CACjB,IAAK,QACI,MAAA,CACL,GAAGc,GACH,OAAQ,CAAE,MAAO,IAAM,QAAS,GAAM,SAAA5C,CAAS,CAAA,EAEnD,IAAK,MACI,MAAA,CACL,GAAG6C,GACH,OAAQ,CAAE,QAAS,IAAK,QAAS,GAAM,SAAA7C,CAAS,CAAA,EAEpD,IAAK,QACI,MAAA,CACL,GAAG6C,GACH,OAAQ,CAAE,QAAS,GAAI,QAAS,GAAM,SAAA7C,CAAS,CAAA,EAEnD,IAAK,OACI,MAAA,CACL,GAAG6C,GACH,OAAQ,CAAE,QAAS,IAAK,QAAS,GAAM,SAAA7C,CAAS,CAAA,EAEpD,IAAK,SACI,MAAA,CACL,GAAG6C,GACH,OAAQ,CAAE,QAAS,GAAI,QAAS,GAAM,SAAA7C,CAAS,CAAA,CAErD,CACF,EAEM0C,GAAe3D,EACnB,CAAC,CAAE,UAAAvS,EAAW,SAAAP,EAAU,MAAA6W,EAAO,GAAG7C,GAAQnE,IAAQ,CAC1C,KAAA,CACJ,OAAAmD,EACA,eAAA4C,EACA,gBAAAnC,EACA,QAAAJ,EACA,UAAAwC,EACA,SAAA9B,GACEY,EAAS,EAEPT,EAAgBC,EAAiBnU,CAAQ,EAEzC,CAAC8W,EAAwB,GAAGzC,CAAa,EAAIC,EACjDJ,EACAgB,GACA6B,EAAA,EAGI1X,EACJwW,IAAc,OAASa,GAAqBb,EAAW9B,CAAQ,EAAI,GAE/De,EAAmB,CACvB,SAAU,WACV,KAAM,OACN,QAAS,OACT,cAAe,SACf,SAAUc,IAAmB,SAAW,SAAW,OACnD,QAAS,EACT,GAAIiB,GAAgB7D,EAAO,SAAA,EAI3B,OAAAwB,EAACgC,EAAG,QAAH,CACC,GAAIQ,GAAO,QACX,IAAAnH,EACA,UAAWmF,EAAG,WAAYzU,CAAS,EACnC,SAAU,GACV,MAAOuU,EACN,GAAGzV,EACH,GAAG2U,EAEH,SAAA,CAAA8C,IACErD,GAAmBJ,EAAWb,EAAA0C,GAAA,CAAA,CAAiB,EAAK,MAEtDb,CAAA,CAAA,CAAA,CAGP,CACF,EC5XaY,GAAenC,EAC1B,CAAC,CAAE,UAAAvS,EAAW,MAAAsW,EAAO,QAAAI,EAAS,GAAGjD,GAAQnE,IAAQ,CACzC,KAAA,CACJ,OAAAmD,EACA,eAAAa,EACA,eAAAP,EACA,QAAAD,EACA,UAAAwC,EACA,SAAA9B,GACEY,EAAS,EAEPG,EAAmB,CACvB,SAAU,QACV,IAAK,EACL,KAAM,EACN,EAAG,QACH,EAAG,QACH,GAAI+B,GAAgB7D,EAAO,OAAA,EAGvB3T,EAAQwW,IAAc,OAASqB,GAAY,CAAA,EAG/C,OAAA1E,EAACgE,EAAG,IAAH,CACC,GAAIQ,GAAO,IACX,IAAAnH,EACA,UAAWmF,EAAG,mBAAoBzU,CAAS,EAC3C,OAAQ,CAAE,SAAAwT,CAAS,EACnB,MAAOe,EACP,QAASqC,GAAWF,EAAS3D,EAAiByC,GAAO,CACnDA,EAAG,gBAAgB,EACflC,IAA0BR,GAAA,MAAAA,IAAA,CAC/B,EACA,GAAGhU,EACH,GAAG2U,CAAA,CAAA,CAGV,CACF,ECxCakB,GAAmBpC,EAC9B,CAAC,CAAE,QAAAmE,EAAS,MAAAJ,EAAO,GAAG7C,CAAA,EAAQnE,IAAQ,CACpC,KAAM,CAAE,OAAAmD,EAAQ,QAAAK,CAAQ,EAAIsB,EAAS,EAE/BG,EAAmB,CACvB,SAAU,WACV,GAAI+B,GAAgB7D,EAAO,WAAA,EAI3B,OAAAR,EAAC4E,GAAA,CACC,IAAAvH,EACA,UAAWmF,EAAG,uBAAuB,EACrC,MAAOF,EACP,QAASqC,GAAWF,EAAUlB,GAAO,CACnCA,EAAG,gBAAgB,EACT1C,GAAA,MAAAA,GAAA,CACX,EACA,GAAGW,CAAA,CAAA,CAGV,CACF,ECvBaoB,GAActC,EACzB,CAAC,CAAE,UAAAvS,EAAW,MAAAsW,EAAO,GAAG7C,CAAA,EAAQnE,IAAQ,CAChC,KAAA,CAAE,OAAAmD,GAAW2B,IAEbG,EAAmB,CACvB,QAAS,OACT,WAAY,SACZ,eAAgB,aAChB,GAAI+B,GAAgB7D,EAAO,MAAA,EAI3B,OAAAR,EAACgE,EAAG,OAAH,CACC,IAAA3G,EACA,UAAWmF,EAAG,kBAAmBzU,CAAS,EAC1C,MAAOuU,EACN,GAAGd,CAAA,CAAA,CAGV,CACF,ECpBasB,GAAYxC,EACvB,CAAC,CAAE,UAAAvS,EAAW,MAAAsW,EAAO,GAAG7C,CAAA,EAAQnE,IAAQ,CACtC,KAAM,CAAE,OAAAmD,EAAQ,eAAA4C,CAAe,EAAIjB,EAAS,EAEtCG,EAAmB,CACvB,QAAS,OACT,cAAe,SACf,WAAY,aACZ,SAAUc,IAAmB,SAAW,OAAS,OACjD,GAAIiB,GAAgB7D,EAAO,IAAA,EAI3B,OAAAR,EAACgE,EAAG,KAAH,CACC,IAAA3G,EACA,UAAWmF,EAAG,gBAAiBzU,CAAS,EACxC,MAAOuU,EACN,GAAGd,CAAA,CAAA,CAGV,CACF,ECrBawB,GAAc1C,EACzB,CAAC,CAAE,UAAAvS,EAAW,MAAAsW,EAAO,GAAG7C,CAAA,EAAQnE,IAAQ,CAChC,KAAA,CAAE,OAAAmD,GAAW2B,IAEbG,EAAmB,CACvB,QAAS,OACT,WAAY,SACZ,eAAgB,WAChB,GAAI+B,GAAgB7D,EAAO,MAAA,EAI3B,OAAAR,EAACgE,EAAG,OAAH,CACC,IAAA3G,EACA,UAAWmF,EAAG,kBAAmBzU,CAAS,EAC1C,MAAOuU,EACN,GAAGd,CAAA,CAAA,CAGV,CACF,ECgDM,CAACqD,GAAgBC,CAAS,EAAI1E,GAA6B,CAC/D,KAAM,gBACN,aAAc,6FAChB,CAAC,EAEY2E,GAASzE,EACpB,CAAC,CAAE,KAAAC,EAAM,GAAG1T,CAAA,EAASwQ,IAAQ,CAC3B,KAAM,CAACmD,EAAQC,CAAW,EAAIC,GAAuB,SAAU,CAC7D,KAAAH,EACA,GAAG1T,CAAA,CACJ,EACK,CACJ,UAAAkB,EACA,SAAAP,EACA,YAAA0T,EAAc,GACd,gBAAAD,EAAkB,GAClB,OAAA+D,EACA,OAAAC,EACA,OAAAC,EACA,MAAAC,EACA,QAAAC,EACA,QAAAvE,EACA,SAAAwE,EACA,QAAAC,EACA,UAAAC,EACA,GAAG/D,CAAA,EACDC,GAAehB,CAAW,EAExBiB,EAAgBC,EAAiBnU,CAAQ,EAEzC,CAACgY,CAAmB,EAAI1D,EAAaJ,EAAe+B,EAAa,EACjE,CAACgC,CAAuB,EAAI3D,EAChCJ,EACA6C,EAAA,EAEI,CAACmB,CAAkB,EAAI5D,EAAaJ,EAAeiE,EAAY,EAC/D,CAACC,CAAgB,EAAI9D,EAAaJ,EAAemE,EAAU,EAC3D,CAACC,CAAkB,EAAIhE,EAAaJ,EAAeqE,EAAY,EAE/DlE,EAAiBmE,GAAQtE,CAAa,EASxClU,EARAyY,GACEvE,EACA+B,GACAc,GACAoB,GACAE,GACAE,EAEF,EAEEzD,EAAmB,CAAE,GAAG9B,EAAO,SAAU,EAEzC0F,EAAiCC,GAAejB,CAAM,EACxD,CAAE,SAAUA,CACZ,EAAAA,EACEkB,EAAgCD,GAAehB,CAAK,EACtD,CAAE,SAAUA,CACZ,EAAAA,EACEkB,EAAkCF,GAAef,CAAO,EAC1D,CAAE,SAAUA,CACZ,EAAAA,EAEA,OAAAc,GAAqB,CAACA,EAAkB,UAC1CA,EAAkB,QAAU,SAC1BE,GAAoB,CAACA,EAAiB,cACxCA,EAAiB,YAAc,aAC7BC,GAAsB,CAACA,EAAmB,cAC5CA,EAAmB,YAAc,WAGjCrG,EAAC6E,GAAe,CAAA,MAAOrE,EACrB,SAAAwB,EAACC,GAAA,CACC,IAAA5E,EACA,UAAWmF,EAAG,YAAazU,CAAS,EACpC,MAAOuU,EAEL,KAAA/B,EACA,QAAAM,EACA,YAAa,GACb,gBAAiB,GACjB,GAAGW,EAGJ,SAAA,CAAAgE,IACEtE,GAAeX,IAAS,OAASP,EAACyD,KAAc,EAAK,MACvDgC,IACExE,GAAmBJ,EAAUb,EAACuE,KAAkB,EAAK,MACvDmB,IACEV,EAAUhF,EAAA2F,GAAA,CAAc,WAAO,EAAkB,MACnDC,IACE/D,EAAiB7B,EAAA6F,GAAA,CAAY,WAAc,EAAgB,MAC7DC,IACEb,GACDiB,GACAE,GACAC,EACGrG,EAAA+F,GAAA,CACE,YAEI/D,EAAAsE,GAAA,CAAA,SAAA,CACCJ,EAAAlG,EAACuG,GAAA,CACC,QAAS,IAAMlB,GAAA,YAAAA,EAAWxE,GACzB,GAAGqF,CAAA,CAAA,EAEJ,KACHE,EACCpG,EAACuG,GAAA,CACC,QAAS,IAAMjB,GAAA,YAAAA,EAAUzE,GACxB,GAAGuF,CAAA,CAAA,EAEJ,KACHC,EACCrG,EAACuG,GAAA,CACC,QAAS,IAAMhB,GAAA,YAAAA,EAAY1E,GAC1B,GAAGwF,CAAA,CAAA,EAEJ,IAAA,EACN,EAEJ,EACE,KAAA,CAAA,CAEV,CAAA,CAAA,CAEJ,CACF,EAIa5C,GAAgBnD,EAC3B,CAAC,CAAE,UAAAvS,EAAW,GAAGyT,CAAA,EAAQnE,IAAQ,CAG/B,MAAMiF,EAAmB,CAAE,GAFZwC,IAEsB,OAAQ,EAG3C,OAAA9E,EAACyC,GAAA,CACC,IAAApF,EACA,UAAWmF,EAAG,oBAAqBzU,CAAS,EAC5C,MAAOuU,EACN,GAAGd,CAAA,CAAA,CAGV,CACF,EAIa+C,GAAoBjE,EAC/B,CAAC,CAAE,UAAAvS,EAAW,GAAGyT,CAAA,EAAQnE,IAAQ,CAG/B,MAAMiF,EAAmB,CAAE,GAFZwC,IAEsB,WAAY,EAG/C,OAAA9E,EAAC0C,GAAA,CACC,IAAArF,EACA,UAAWmF,EAAG,yBAA0BzU,CAAS,EACjD,MAAOuU,EACN,GAAGd,CAAA,CAAA,CAGV,CACF,EAIamE,GAAerF,EAC1B,CAAC,CAAE,UAAAvS,EAAW,GAAGyT,CAAA,EAAQnE,IAAQ,CAG/B,MAAMiF,EAAmB,CAAE,GAFZwC,IAEsB,MAAO,EAG1C,OAAA9E,EAAC4C,GAAA,CACC,IAAAvF,EACA,UAAWmF,EAAG,mBAAoBzU,CAAS,EAC3C,MAAOuU,EACN,GAAGd,CAAA,CAAA,CAGV,CACF,EAIaqE,GAAavF,EACxB,CAAC,CAAE,UAAAvS,EAAW,GAAGyT,CAAA,EAAQnE,IAAQ,CAG/B,MAAMiF,EAAmB,CAAE,GAFZwC,IAEsB,IAAK,EAGxC,OAAA9E,EAAC8C,GAAA,CACC,IAAAzF,EACA,UAAWmF,EAAG,iBAAkBzU,CAAS,EACzC,MAAOuU,EACN,GAAGd,CAAA,CAAA,CAGV,CACF,EAIauE,GAAezF,EAC1B,CAAC,CAAE,UAAAvS,EAAW,GAAGyT,CAAA,EAAQnE,IAAQ,CAG/B,MAAMiF,EAAmB,CAAE,GAFZwC,IAEsB,MAAO,EAG1C,OAAA9E,EAACgD,GAAA,CACC,IAAA3F,EACA,UAAWmF,EAAG,mBAAoBzU,CAAS,EAC3C,MAAOuU,EACN,GAAGd,CAAA,CAAA,CAGV,CACF","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28]}