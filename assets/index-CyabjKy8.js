import{r as u}from"./index-uCp2LrAq.js";import{u as f}from"./theme-provider-jjrI8DS5.js";import{O as k}from"./factory-BskLObbI.js";const d=()=>{const{theme:t}=f();if(!t)throw Error("useBreakpoint: `theme` is undefined. Seems you forgot to wrap your app in `<UIProvider />`");const r=t.__breakpoints;if(!r)throw Error("useBreakpoint: `breakpoints` is undefined. Seems you forgot to put theme in `breakpoints`");const o=u.useMemo(()=>r.queries.map(({breakpoint:n,minMaxQuery:e})=>({breakpoint:n,query:(e==null?void 0:e.replace("@media screen and ",""))??""})),[r]),[i,p]=u.useState(()=>{if(!k())return"base";for(const{breakpoint:e,query:s}of o)if(window.matchMedia(s).matches)return e});return u.useEffect(()=>{const n=o.map(({breakpoint:e,query:s})=>{const a=window.matchMedia(s),c=m=>{m.matches&&p(e)};return typeof a.addEventListener=="function"&&a.addEventListener("change",c),()=>{typeof a.removeEventListener=="function"&&a.removeEventListener("change",c)}});return()=>{n.forEach(e=>e())}},[o]),i},E=t=>{const{theme:r}=f(),o=d();return h(t)(r,o)},h=t=>(r,o)=>{var n;if(!r)throw Error("useBreakpoint: `theme` is undefined. Seems you forgot to wrap your app in `<UIProvider />`");const i=(n=r.__breakpoints)==null?void 0:n.keys;if(!i)throw Error("useBreakpoint: `breakpoints` is undefined. Seems you forgot to put theme in `breakpoints`");const p=i.indexOf(o);for(let e=p;0<e;e--){const s=i[e];if(t.hasOwnProperty(s))return t[s]}return t.base};export{d as a,E as u};
