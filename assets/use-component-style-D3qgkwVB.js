import{r as A}from"./index-BwDkhjyp.js";import{g as P}from"./_commonjsHelpers-BosuxZz1.js";import{o as W,p as I,m,w as $,R as D,s as T,F as K,B as v,Z as B,_ as U}from"./factory-CtEVzbYf.js";import{u as Z,b as G}from"./theme-provider-DwNsBv-g.js";var H=typeof Element<"u",J=typeof Map=="function",L=typeof Set=="function",N=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function w(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,s;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!w(e[r],t[r]))return!1;return!0}var o;if(J&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(o=e.entries();!(r=o.next()).done;)if(!t.has(r.value[0]))return!1;for(o=e.entries();!(r=o.next()).done;)if(!w(r.value[1],t.get(r.value[0])))return!1;return!0}if(L&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(o=e.entries();!(r=o.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(N&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,s[r]))return!1;if(H&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!((s[r]==="_owner"||s[r]==="__v"||s[r]==="__o")&&e.$$typeof)&&!w(e[s[r]],t[s[r]]))return!1;return!0}return e!==e&&t!==t}var Q=function(t,n){try{return w(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const F=P(Q),X=(e,t,n)=>({isMulti:r=!1})=>{const[s,o]=e,c=d(t[s],n)({isMulti:r,query:B._light}),i=d(t[o],n)({isMulti:r,query:B._dark});return[c,i]},Y=(e,t,n)=>({isMulti:r=!1})=>{var o;const s=U(e);if(s.length===1&&"base"in e)return d(t[e.base],n)({isMulti:r});{const{queries:c=[]}=n.theme.__breakpoints??{},{direction:i="down",identifier:g}=((o=n.theme.__config)==null?void 0:o.breakpoint)??{},y=i!=="up",E=c.filter(({breakpoint:f})=>f!=="base"&&s.includes(f)).sort((f,u)=>y?(f.maxW??0)-(u.maxW??0):(u.minW??0)-(f.minW??0))[0];let l=!1;return c.reduce((f,{breakpoint:u,minW:S,maxW:O,maxWQuery:_,minWQuery:M},p)=>{const x=e[u],V=u===E.breakpoint;if(u==="base"||!x)return f;if(!l){const h=e.base,a=c[p-1],j=a==null?void 0:a[y?"minWQuery":"maxWQuery"],q=d(h?t[h]:{},n)({isMulti:r,query:j});f=m(f,q),l=!0}let z=y?_:M;if(!V){let h=p+1,a;for(;h<c.length;){const j=c[h]??{};if(e[j.breakpoint]){const q=h-1;a=c[q];break}h+=1}S=y?a==null?void 0:a.minW:S,O=y?O:a==null?void 0:a.maxW,z=G(S,O,g)}const k=d(t[x],n)({isMulti:r,query:z});return f=m(f,k),f},{})}},R=(e,t,n)=>({isMulti:r=!1})=>{let s={};if(T(e)){const[o,c]=X(e,t,n)({isMulti:r});s=m(o,c)}else K(e)?s=Y(e,t,n)({isMulti:r}):s=d(t[e],n)({isMulti:r});return s},d=(e,t)=>({isMulti:n=!1,query:r})=>{let s=v(e,t);if(n)for(const[o,c]of Object.entries(s??{})){const i=v(c,t);r?s=m(s,{[o]:{[r]:i}}):s=m(s,{[o]:i})}else if(r)return{[r]:s};return s},C=(e,t,{isMulti:n,isProcessSkip:r,styles:s}={})=>{const{theme:o,themeScheme:c}=Z(),{colorMode:i}=W(),g=A.useRef({}),y=A.useRef(s??{});if(!r){const l=I(o,`components.${e}`);if(t=m((l==null?void 0:l.defaultProps)??{},$(t)),l){const f=D(t,["children"]);let u=d(l.baseStyle??{},{theme:o,colorMode:i,themeScheme:c,...f})({isMulti:n});const S=R(t.variant,l.variants??{},{theme:o,colorMode:i,themeScheme:c,...f})({isMulti:n}),O=R(t.size,l.sizes??{},{theme:o,colorMode:i,themeScheme:c,...f})({isMulti:n});u=m(u,O),u=m(u,S),F(y.current,u)||(y.current=u)}}return F(g.current,t)||(g.current=t),[y.current,g.current]},ne=(e,t,n)=>C(e,t,n),se=(e,t,n)=>C(e,t,{isMulti:!0,...n});export{se as a,ne as u};
