import{j as s,a as R,F as T}from"./jsx-runtime-e6a661ac.js";import{u as j}from"./index-121a462f.js";import{r as a}from"./index-61bf1805.js";import{R as U}from"./Combination-0278cbee.js";import{M as w}from"./motion-eb01b2a4.js";import{L as N}from"./loading-1f9d49b8.js";import{m as q}from"./motion-fb190baf.js";import{d as O,g as f,h as G,i as H,j as J}from"./factory-3c20bca9.js";import{A as K}from"./index-6bcd17ac.js";import{P as Q}from"./container-portal-e35a969d.js";const z=a.createContext({}),h=()=>({isLoading:a.createRef(),start:a.createRef(),finish:a.createRef(),update:a.createRef(),force:a.createRef()}),x=e=>({isLoading:()=>{var t,n;return((n=(t=e.current.isLoading).current)==null?void 0:n.call(t))??!1},start:t=>{var n,o;return(o=(n=e.current.start).current)==null?void 0:o.call(n,t)},finish:()=>{var t,n;return(n=(t=e.current.finish).current)==null?void 0:n.call(t)},update:t=>{var n,o;return(o=(n=e.current.update).current)==null?void 0:o.call(n,t)},force:t=>{var n,o;return(o=(n=e.current.force).current)==null?void 0:o.call(n,t)}}),X=e=>e+1,Y=e=>e===0?e:e-1,de=({screen:e,page:t,background:n,custom:o,children:l})=>{const r=a.useRef(h()),i=a.useRef(h()),g=a.useRef(h()),p=a.useRef(h()),v=x(r),m=x(i),y=x(g),F=x(p),_={screen:v,page:m,background:y,custom:F};return R(z.Provider,{value:_,children:[l,s(C,{controlRefs:r,...e,component:(e==null?void 0:e.component)??(c=>s(A,{...c}))}),s(C,{controlRefs:i,...t,component:(t==null?void 0:t.component)??(c=>s(E,{...c}))}),s(C,{controlRefs:g,...n,blockScrollOnMount:(n==null?void 0:n.blockScrollOnMount)??!1,component:(n==null?void 0:n.component)??(c=>s(W,{...c}))}),s(C,{controlRefs:p,blockScrollOnMount:(n==null?void 0:n.blockScrollOnMount)??!1,...o,component:o==null?void 0:o.component})]})},C=({controlRefs:e,appendToParentPortal:t,containerRef:n,allowPinchZoom:o=!1,blockScrollOnMount:l=!0,initialState:r,duration:i=null,icon:g,text:p,component:v})=>{const m=a.useRef(!1),[{loadingCount:y,message:F,duration:_},c]=a.useState({loadingCount:r?1:0,message:void 0,duration:i}),{isLoading:B,start:D,finish:b,update:P,force:V}=a.useMemo(()=>({isLoading:()=>m.current,start:({message:d,duration:u=i}={})=>{m.current=!0,c(({loadingCount:M})=>({loadingCount:X(M),message:d,duration:u}))},update:d=>c(u=>({...u,...d})),finish:()=>{m.current=!1,c(({loadingCount:d})=>({loadingCount:Y(d),message:void 0,duration:i}))},force:({loadingCount:d=0,message:u,duration:M=i})=>{m.current=!!d,c({loadingCount:d,message:u,duration:M})}}),[i]);f(e.current.isLoading,B),f(e.current.start,D),f(e.current.finish,b),f(e.current.update,P),f(e.current.force,V);const k={initialState:r,icon:g,text:p,message:F,duration:_,onFinish:b};return G(()=>{(r||H(i))&&c({loadingCount:r?1:0,message:void 0,duration:i})},[r,i]),s(K,{initial:!1,children:y?s(Q,{appendToParentPortal:t,containerRef:n,children:s(U,{allowPinchZoom:o,enabled:l,forwardProps:!0,children:s(a.Fragment,{children:s(Z,{component:v,...k})})})}):null})},Z=({component:e,...t})=>typeof e=="function"?e(t):s(T,{}),S=({message:e,...t})=>e?J(e)?e:s(O.p,{...t,children:e}):null,$=(e="fade")=>({initial:{opacity:0,scale:e==="scaleFade"?.95:void 0},animate:{opacity:1,scale:e==="scaleFade"?1:void 0,transition:{duration:.4,ease:[.4,0,.2,1]}},exit:{opacity:0,scale:e==="scaleFade"?.95:void 0,transition:{duration:.4,ease:[.4,0,1,1]}}}),I=(e="fill")=>({position:"fixed",top:0,right:0,bottom:0,left:0,zIndex:9999,bg:e==="fill"?["white","black"]:"blackAlpha.600",w:"100vw",h:"100vh",p:"md",display:"flex",justifyContent:"center",alignItems:"center"}),L=(e,t="fade")=>({initial:e?!1:"initial",animate:"animate",exit:"exit",variants:$(t)}),A=a.memo(({initialState:e,icon:t,text:n,message:o,duration:l,onFinish:r})=>{const i={maxW:"md",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"sm"};return j(r,l),s(w,{className:"ui-loading-screen",...L(e),__css:I(),children:R(O.div,{__css:i,children:[s(N,{size:"6xl",...t}),s(S,{message:o,noOfLines:3,...n})]})})});A.displayName="ScreenComponent";const E=a.memo(({initialState:e,icon:t,text:n,message:o,duration:l,onFinish:r})=>{const i={bg:["white","black"],maxW:"md",p:"md",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"sm",rounded:"md",boxShadow:["lg","dark-lg"]};return j(r,l),s(w,{className:"ui-loading-page",...L(e),__css:I("transparent"),children:R(O.div,{as:q.div,className:"ui-loading-page-container",...L(e,"scaleFade"),__css:i,children:[s(N,{size:"6xl",...t}),s(S,{message:o,noOfLines:3,...n})]})})});E.displayName="PageComponent";const W=a.memo(({initialState:e,icon:t,text:n,message:o,duration:l,onFinish:r})=>{const i={position:"fixed",right:"md",bottom:"md",zIndex:"beerus",bg:["white","black"],maxW:"sm",p:"sm",display:"flex",justifyContent:"center",alignItems:"center",gap:"sm",rounded:"md",boxShadow:["3xl","dark-lg"]};return j(r,l),R(w,{className:"ui-loading-page-container",...L(e,"scaleFade"),__css:i,children:[s(N,{size:"xl",...t}),s(S,{message:o,fontSize:"sm",noOfLines:1,...n})]})});W.displayName="BackgroundComponent";const me=()=>{const{screen:e,page:t,background:n,custom:o}=a.useContext(z);return{screen:e,page:t,background:n,custom:o}};export{de as L,me as u};
//# sourceMappingURL=loading-provider-9b0281b0.js.map
