import{j as f}from"./jsx-runtime-Nms4Y4qS.js";import{r as g}from"./index-BwDkhjyp.js";import{u as _,s as h}from"./use-image-DD8Vp5Z_.js";import{f as L}from"./forward-ref-BmTAT9U5.js";import{u as N}from"./use-component-style-CSU0rxou.js";import{o as O}from"./theme-provider-Bt6-FvIL.js";import{b as u,c as b,R as P}from"./factory-Bw4mCpcs.js";const v=L((e,t)=>{const[m,{size:p,...d}]=N("Image",e);let{boxSize:a,fit:i,fallback:r,src:x,srcSet:k,loading:c,ignoreFallback:s,crossOrigin:I,className:l,fallbackStrategy:j="beforeLoadOrError",onError:E,onLoad:F,referrerPolicy:S,...o}=O(d);a??(a=p),s=c!=null||s||!r;const n=g.useMemo(()=>({...m,boxSize:a,objectFit:i}),[m,a,i]),y=_({...e,ignoreFallback:s});return h(y,j)?g.isValidElement(r)?r:f.jsx(u.img,{ref:t,className:b("ui-image--fallback",l),src:r,__css:n,...s?{...o,onError:E,onLoad:F}:o}):f.jsx(u.img,{ref:t,src:x,srcSet:k,crossOrigin:I,loading:c,referrerPolicy:S,className:b("ui-image",l),__css:n,...s?o:P(o,["onError","onLoad"])})});export{v as I};
