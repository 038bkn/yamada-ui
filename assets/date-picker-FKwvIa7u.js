import{j as l,a as Ee}from"./jsx-runtime-5BUNAZ9W.js";import{u as Le}from"./index-hwqRZu4T.js";import{r as o}from"./index-4g5l5LRQ.js";import{d as oe,i as Se,a as Be,b as Ue,C as Qe}from"./ja-zJxjBsYD.js";import{u as Ze}from"./index-olxlcIew.js";import{u as qe}from"./index-0MKP2jTU.js";import{u as Ge,g as Je}from"./form-control-TaOpd4jQ.js";import{p as Xe,P as $e,b as et,a as tt}from"./popover-content-t10Kdinh.js";import{u as ot,o as nt}from"./theme-provider-sgFj2JQg.js";import{Q as at,Z as st,_ as rt,o as lt,a3 as it,R as ct,w as ne,h as Y,K as Re,c as ut,e as dt,a4 as pt,u as W,a as L,v as ft,f as mt}from"./factory-RXTd6Ype.js";import{P as Ct}from"./container-portal-MKckgmqP.js";import{b as ht,a as Pt}from"./icon-2cwE6nV2.js";import{f as ae}from"./forward-ref-A-8Arhkk.js";import{u as gt}from"./use-component-style-ur23iJdL.js";const kt=p=>{var Ve;const{theme:i}=ot();let{id:c,defaultIsOpen:m,closeOnBlur:f=!0,closeOnEsc:u=!0,placement:s="bottom-start",duration:d=.2,enableMultiple:P,enableRange:C,value:I,defaultValue:S,onChange:w,type:_,defaultType:T,onChangeType:D,month:B,defaultMonth:M,onChangeMonth:N,firstDayOfWeek:j,amountOfMonths:H,paginateBy:z,withWeekdays:O,disableOutsideDays:g,hiddenOutsideDays:R,minDate:h,maxDate:t,locale:n,yearFormat:x,monthFormat:re,weekdayFormat:le,dateFormat:ie,weekendDays:ce,today:ue,excludeDate:k,calendarVariant:de,calendarSize:pe,calendarColorScheme:fe,holidays:me,withHeader:Ce,withControls:he,withLabel:Pe,maxSelectValues:ge,selectMonthWith:ke,calendarProps:ye,allowInput:y=!0,allowInputBeyond:U=!1,parseDate:Q,pattern:Me=/[^0-9\-\/]/g,inputFormat:Z="YYYY/MM/DD",autoFocus:K=!0,onOpen:q,onClose:G,onClear:J,onEnter:be,onDelete:ve,...b}=Ge(p);n??(n=((Ve=i.__config.date)==null?void 0:Ve.locale)??"en");const F=at(b,Je({omit:["aria-readonly"]})),[_e,Ne]=st(lt(b,[...Xe]),[...rt,"aria-readonly"]),{disabled:X,readOnly:$}=F,[r,De]=o.useState(m??!1),ee=o.useRef(null),A=o.useRef(null),je=o.useCallback(e=>{let a=(Q==null?void 0:Q(e))??oe(e,Z,n).toDate();if(a!=null&&!(k!=null&&k(a)))return U||(t&&Se(a,t)&&(a=t),h&&Be(a,h)&&(a=h)),a},[U,k,Z,n,t,h,Q]),He=o.useCallback(e=>{if(e!=null&&!(k!=null&&k(e)))return U||(t&&Se(e,t)&&(e=t),h&&Be(e,h)&&(e=h)),oe(e).locale(n??"en").format(Z)},[U,k,Z,n,t,h]),v=o.useCallback(()=>{var e;X||$||(De(!0),K&&y&&((e=A.current)==null||e.focus()),q==null||q())},[K,y,X,$,q]),V=o.useCallback(()=>{De(!1),G==null||G()},[G]),Ie=o.useCallback(()=>{var e;r?K&&y&&((e=A.current)==null||e.focus()):v()},[K,y,r,v]),we=o.useCallback(()=>{r||v()},[r,v]),Oe=o.useCallback(e=>{const a=it(e);ct(ee.current,a)||f&&r&&V()},[f,r,V]),xe=o.useCallback(e=>{if(e.key===" "&&(e.key=e.code),X||$)return;const te={Space:r?void 0:E=>{E.preventDefault(),E.stopPropagation(),v()},Enter:r?be:E=>{E.preventDefault(),E.stopPropagation(),v()},Escape:u?E=>{E.preventDefault(),E.stopPropagation(),V()}:void 0,Backspace:ve}[e.key];te&&te(e)},[u,X,$,r,V,be,ve,v]),Fe=o.useCallback(e=>{var a;e.stopPropagation(),J==null||J(),K&&y&&r&&((a=A.current)==null||a.focus())},[K,y,r,J]);qe({ref:ee,handler:V,enabled:f});const ze=o.useCallback((e={},a=null)=>({ref:ne(ee,a),..._e,...e,...F,onClick:Y(e.onClick,b.onClick,Ie),onBlur:Y(e.onBlur,b.onBlur,Oe)}),[_e,F,Oe,Ie,b]),Ke=o.useCallback(e=>({...b,...e,isOpen:r,onOpen:v,onClose:V,placement:s,duration:d,trigger:"never",closeOnButton:!1,closeOnBlur:!1}),[d,r,V,v,s,b]),Ye=o.useCallback((e={},a=null)=>{const te={...e.style,...y?{}:{cursor:"pointer"}};return{ref:ne(A,a),tabIndex:y?-1:0,...e,...F,style:te,"data-active":Re(r),"aria-expanded":Re(r),onFocus:Y(e.onFocus,b.onFocus,we),onKeyDown:Y(e.onKeyDown,b.onKeyDown,xe)}},[y,F,r,b,we,xe]),Ae=o.useCallback(e=>({...e,type:_,defaultType:T,onChangeType:D,month:B,defaultMonth:M,onChangeMonth:N,firstDayOfWeek:j,amountOfMonths:H,paginateBy:z,withWeekdays:O,disableOutsideDays:g,hiddenOutsideDays:R,yearFormat:x,monthFormat:re,weekdayFormat:le,dateFormat:ie,weekendDays:ce,today:ue,holidays:me,withHeader:Ce,withControls:he,withLabel:Pe,maxSelectValues:ge,variant:de,size:pe,colorScheme:fe,...ye,value:I,defaultValue:S,onChange:w,minDate:h,maxDate:t,excludeDate:k,locale:n,selectMonthWith:ke,enableMultiple:P,enableRange:C}),[R,ge,P,C,H,fe,ye,pe,de,ie,M,T,S,g,k,j,me,n,t,h,B,re,w,N,D,z,ue,_,I,le,ce,he,Ce,Pe,O,x,ke]),We=o.useCallback(({clear:e,...a})=>({...a,...F,onClick:Y(a.onClick,e?Fe:void 0)}),[F,Fe]);return{id:c,allowInput:y,pattern:Me,inputProps:Ne,formControlProps:F,containerRef:ee,inputRef:A,isOpen:r,onOpen:v,onClose:V,dateToString:He,stringToDate:je,getContainerProps:ze,getPopoverProps:Ke,getFieldProps:Ye,getCalendarProps:Ae,getIconProps:We}},[yt,se]=ut({strict:!1,name:"DatePickerContext"}),bt=({value:p,defaultValue:i,onChange:c,placeholder:m,closeOnSelect:f=!0,...u})=>{const[s,d]=Ze({value:p,defaultValue:i,onChange:c,onUpdate:(t,n)=>!Ue(t,n)}),{inputRef:P,id:C,allowInput:I,pattern:S,inputProps:w,formControlProps:_,onClose:T,dateToString:D,stringToDate:B,getContainerProps:M,getPopoverProps:N,getFieldProps:j,getCalendarProps:H,getIconProps:z}=kt({...u,value:s,defaultValue:i,onChange:t=>{const n=D(t);d(t),g(n),f&&t&&T()},onClear:()=>{d(void 0),g(void 0)},onClose:()=>{var n;const t=D(s);g(t),(n=u.onClose)==null||n.call(u)}}),[O,g]=o.useState(D(s)),R=o.useCallback(t=>{let n=t.target.value;n=n.replace(S,"");const x=B(n);g(n),x&&oe(x).isValid()?d(x):d(void 0)},[S,B,g,d]);dt(()=>{if(P.current&&pt(P.current))return;const t=D(s);g(t)},[s]);const h=o.useCallback((t={},n=null)=>{const x={...t.style,...w.style,...I?{}:{pointerEvents:"none"}};return{placeholder:m,..._,...w,...t,ref:n,style:x,id:C,tabIndex:I?0:-1,value:O??"",cursor:_.readOnly?"default":"text",pointerEvents:_.disabled?"none":"auto",onChange:Y(t.onChange,R)}},[w,I,m,_,C,O,R]);return{value:s,getContainerProps:M,getPopoverProps:N,getFieldProps:j,getInputProps:h,getIconProps:z,getCalendarProps:H}},Ht=ae((p,i)=>{const[c,m]=gt("DatePicker",p);let{className:f,isClearable:u=!0,color:s,h:d,height:P,minH:C,minHeight:I,containerProps:S,inputProps:w,iconProps:_,clearIconProps:T,portalProps:D={isDisabled:!0},...B}=nt(m);const{getPopoverProps:M,getContainerProps:N,getCalendarProps:j,getFieldProps:H,getInputProps:z,getIconProps:O,value:g}=bt(B);d??(d=P),C??(C=I);const R={w:"100%",h:"fit-content",color:s,...c.container};return l(yt,{value:c,children:l($e,{...M(),children:Ee(W.div,{className:L("ui-date-picker",f),__css:R,...N(S),children:[Ee(W.div,{className:"ui-date-picker__inner",__css:{position:"relative",...c.inner},children:[l(vt,{...H({h:d,minH:C},i),inputProps:z(w)}),u&&g?l(Dt,{...O({clear:!0,...T})}):l(Te,{...O({clear:!1,..._})})]}),l(Ct,{...D,children:l(et,{className:"ui-date-picker__popover",__css:{...c.list},children:l(Qe,{className:"ui-date-picker__calendar",...j()})})})]})})})}),vt=ae(({className:p,h:i,minH:c,inputProps:m,...f},u)=>{const s=se(),{ref:d,...P}=m,C={pe:"2rem",h:i,minH:c,display:"flex",alignItems:"center",...s.field};return l(tt,{children:l(W.div,{className:L("ui-date-picker__field",p),__css:C,...f,children:l(W.input,{ref:ne(u,d),className:"ui-date-picker__field__input",display:"inline-block",w:"full",...P})})})}),Te=ae(({className:p,children:i,__css:c,...m},f)=>{const s={position:"absolute",top:"50%",transform:"translateY(-50%)",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",cursor:"pointer",...se().icon,...c},P=ft(i).map(C=>o.cloneElement(C,{focusable:!1,"aria-hidden":!0,style:{maxWidth:"1em",maxHeight:"1em",color:"currentColor"}}));return l(W.div,{ref:f,className:L("ui-date-picker__icon",p),__css:s,...m,children:mt(i)?P:l(_t,{})})}),_t=({className:p,...i})=>l(ht,{className:L("ui-date-picker__icon__calendar",p),viewBox:"0 0 24 24",...i,children:l("path",{fill:"currentColor",d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"})}),Dt=({className:p,children:i,...c})=>{const m=o.useRef(null),f=se(),u=c.disabled,s=Le({ref:m,isDisabled:u,...c});return l(Te,{"aria-label":"Clear value",className:L("ui-date-picker__icon--clear",p),__css:f.clearIcon,...s,children:i??l(Pt,{w:"0.5em",h:"0.5em"})})};export{Ht as D,yt as a,vt as b,Dt as c,Te as d,se as e,kt as u};
