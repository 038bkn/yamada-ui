import{a as g}from"./jsx-runtime-b08f8875.js";import{p as Ke,a as Te}from"./popover-content-30709599.js";import{f as Re}from"./forward-ref-cf7188bd.js";import{k as ze,D as Ie,_ as Me,$ as Be,A as Ue,a2 as $e,C as qe,B as De,a3 as Fe,x as ye,t as x,v as Ee,d as z,e as O,p as Ge,N as Je}from"./factory-7bddb6ec.js";import{u as Le}from"./index-6ea5e25b.js";import{r as o}from"./index-8ee6c85d.js";import{u as Qe}from"./index-fb6972ca.js";import{u as Xe}from"./index-9bbf54ab.js";import{d as T,i as Ve,a as xe,b as Ze}from"./ja-6846a685.js";import{u as We,f as we}from"./form-control-8e97ab42.js";import{u as en}from"./theme-provider-9d5cd644.js";import{b as nn,a as sn}from"./icon-2893f38a.js";const[mn,I]=ze({strict:!1,name:"DatePickerContext"}),Pn=({parseDate:r,defaultIsOpen:l,closeOnBlur:u=!0,closeOnEsc:m=!0,placement:P="bottom-start",duration:v=.2,defaultValue:i,type:R,defaultType:j,onChangeType:N,month:M,defaultMonth:B,onChangeMonth:U,firstDayOfWeek:$,amountOfMonths:q,paginateBy:D,withWeekdays:F,disableOutsideDays:G,minDate:f,maxDate:d,locale:_,inputFormat:S="YYYY/MM/DD",yearFormat:J,monthFormat:L,weekdayFormat:Q,dateFormat:X,weekendDays:Z,today:W,excludeDate:w,calendarVariant:ee,calendarSize:ne,calendarColorScheme:se,holidays:oe,withHeader:te,withControls:ce,withLabel:re,calendarProps:ie,placeholder:ae,closeOnSelect:le=!0,allowInput:C=!0,allowInputBeyond:A=!1,pattern:ue=/[^0-9\-\/]/g,...s})=>{var he;const{theme:je}=en();s=We(s),_??(_=((he=je.__config.date)==null?void 0:he.locale)??"en");const{id:fe}=s,t=Ie(s,we),[de,Y]=Me(Ue(s,[...Ke,"id","value","onChange"]),Be),Ce=o.useCallback(e=>{let n=r?r(e):T(e,S,_).toDate();if(n!=null)return A||(d&&Ve(n,d)&&(n=d),f&&xe(n,f)&&(n=f)),n},[A,S,_,d,f,r]),E=o.useCallback(e=>{if(e!=null)return A||(d&&Ve(e,d)&&(e=d),f&&xe(e,f)&&(e=f)),T(e).locale(_??"en").format(S)},[A,S,_,d,f]),[c,ke]=o.useState(l??!1),[k,h]=Qe({value:s.value,defaultValue:i,onChange:s.onChange,onUpdate:(e,n)=>!Ze(e,n),isShow:!0}),[H,V]=o.useState(E(k));console.log("DatePicker",k,H,i);const K=o.useRef(null),y=o.useRef(null),p=o.useCallback(()=>{var e;t.disabled||t.readOnly||(ke(!0),C&&y.current&&y.current.focus(),(e=s.onOpen)==null||e.call(s))},[C,t,s]),a=o.useCallback(()=>{var e;ke(!1),(e=s.onClose)==null||e.call(s)},[s]),pe=o.useCallback(e=>{e.stopPropagation(),h(void 0),V(void 0)},[h]),be=o.useCallback(()=>{c?C&&y.current&&y.current.focus():p()},[C,c,p]),ge=o.useCallback(()=>{c||p()},[c,p]),me=o.useCallback(e=>{const n=$e(e);if(qe(K.current,n)||!u)return;const b=E(k);V(b),c&&a()},[u,E,c,a,k]),Pe=o.useCallback(e=>{if(e.key===" "&&(e.key=e.code),t.disabled||t.readOnly)return;const b={Space:c?p:a,Enter:c?p:a,Escape:m?a:void 0}[e.key];b&&(e.preventDefault(),e.stopPropagation(),b(e))},[m,t,c,a,p]),ve=o.useCallback(e=>{const n=E(e);h(e),V(n),le&&e&&a()},[le,E,a,h]),_e=o.useCallback(e=>{let n=e.target.value;n=n.replace(ue,"");const b=Ce(n);V(n),T(b).isValid()?h(b):h(void 0)},[ue,Ce,V,h]);De(()=>{if(y.current&&Fe(y.current))return;const e=E(k);V(e)},[k]),Xe({ref:K,handler:a,enabled:u});const Ne=o.useCallback((e={},n=null)=>({ref:ye(K,n),...de,...e,...t,onClick:x(e.onClick,s.onClick,be),onBlur:x(e.onBlur,s.onBlur,me)}),[de,t,me,be,s]),Se=o.useCallback(e=>({...s,...e,isOpen:c,onOpen:p,onClose:a,placement:P,duration:v,trigger:"never",closeOnButton:!1}),[v,c,a,p,P,s]),Ae=o.useCallback((e={},n=null)=>{const b={...e.style,...C?{}:{cursor:"pointer"}};return{ref:ye(n,y),tabIndex:C?-1:0,...e,...t,style:b,"data-active":Ee(c),"aria-expanded":Ee(c),onFocus:x(e.onFocus,s.onFocus,ge),onKeyDown:x(e.onKeyDown,s.onKeyDown,Pe)}},[C,t,c,s,ge,Pe]),Oe=o.useCallback((e={})=>{const n={...e.style,...Y.style,...C?{}:{pointerEvents:"none"}};return{placeholder:ae,...t,...Y,...e,style:n,id:fe,tabIndex:C?0:-1,value:H??"",cursor:t.readOnly?"default":"text",pointerEvents:t.disabled?"none":"auto",onChange:x(e.onChange,_e)}},[Y,C,ae,t,fe,H,_e]),Ye=o.useCallback(e=>({...e,type:R,defaultType:j,onChangeType:N,month:M,defaultMonth:B,onChangeMonth:U,firstDayOfWeek:$,amountOfMonths:q,paginateBy:D,withWeekdays:F,disableOutsideDays:G,yearFormat:J,monthFormat:L,weekdayFormat:Q,dateFormat:X,weekendDays:Z,today:W,holidays:oe,withHeader:te,withControls:ce,withLabel:re,variant:ee,size:ne,colorScheme:se,...ie,value:k,defaultValue:i,onChange:ve,minDate:f,maxDate:d,excludeDate:w,locale:_}),[q,se,ie,ne,ee,X,B,j,i,G,w,$,oe,_,d,f,M,L,ve,U,N,D,W,R,k,Q,Z,ce,te,re,F,J]),He=o.useCallback(({clear:e,...n}={})=>({...n,...t,onClick:x(n.onClick,e?pe:void 0)}),[t,pe]);return{value:k,getContainerProps:Ne,getPopoverProps:Se,getFieldProps:Ae,getInputProps:Oe,getIconProps:He,getCalendarProps:Ye}},vn=Re(({className:r,h:l,minH:u,inputProps:m,...P},v)=>{const i=I(),R={paddingEnd:"2rem",h:l,minH:u,display:"flex",alignItems:"center",...i.field,cursor:"text",...i.feild};return g(Te,{children:g(z.div,{className:O("ui-date-picker__field",r),__css:R,...P,children:g(z.input,{ref:v,className:"ui-date-picker__field__input",display:"inline-block",w:"full",...m})})})}),on=Re(({className:r,children:l,__css:u,...m},P)=>{const i={position:"absolute",top:"50%",transform:"translateY(-50%)",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",cursor:"pointer",...I().icon,...u},j=Ge(l).map(N=>o.cloneElement(N,{focusable:!1,"aria-hidden":!0,style:{maxWidth:"1em",maxHeight:"1em",color:"currentColor"}}));return g(z.div,{ref:P,className:O("ui-date-picker__icon",r),__css:i,...m,children:Je(l)?j:g(tn,{})})}),tn=({className:r,...l})=>g(nn,{className:O("ui-date-picker__icon__calendar",r),viewBox:"0 0 24 24",...l,children:g("path",{fill:"currentColor",d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"})}),_n=({className:r,children:l,...u})=>{const m=o.useRef(null),P=I(),v=u.disabled,i=Le({ref:m,isDisabled:v,...u});return g(on,{className:O("ui-date-picker__icon--clear",r),__css:P.clearIcon,...i,children:l??g(sn,{w:"0.5em",h:"0.5em"})})};export{mn as D,vn as a,_n as b,on as c,Pn as u};
//# sourceMappingURL=date-picker-icon-63a19e3d.js.map
