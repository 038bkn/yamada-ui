{"version":3,"file":"scale-fade-46985d67.js","sources":["../../packages/components/transitions/src/scale-fade.tsx"],"sourcesContent":["import { ui, HTMLUIProps, forwardRef, CSSUIObject } from '@yamada-ui/core'\nimport {\n  motion,\n  HTMLMotionProps,\n  AnimatePresence,\n  transitionEnter,\n  transitionExit,\n  WithTransitionProps,\n  MotionTransitionVariants,\n} from '@yamada-ui/motion'\nimport { cx } from '@yamada-ui/utils'\n\ntype ScaleFadeOptions = {\n  /**\n   * The initial scale of the element.\n   *\n   * @default 0.95\n   */\n  scale?: number\n  /**\n   * If `true`, the element will transition back to exit state.\n   *\n   * @default true\n   */\n  reverse?: boolean\n}\n\nexport type ScaleFadeProps = WithTransitionProps<\n  HTMLUIProps<'div'> & HTMLMotionProps<'div'>\n> &\n  ScaleFadeOptions\n\nconst variants: MotionTransitionVariants = {\n  enter: ({ transition, transitionEnd, delay, duration, enter } = {}) => ({\n    opacity: 1,\n    scale: 1,\n    transition: transitionEnter(transition?.enter)(delay, duration),\n    transitionEnd: transitionEnd?.enter,\n    ...enter,\n  }),\n  exit: ({\n    scale,\n    reverse,\n    transition,\n    transitionEnd,\n    delay,\n    duration,\n    exit,\n  } = {}) => ({\n    opacity: 0,\n    transition: transitionExit(transition?.exit)(delay, duration),\n    ...(reverse\n      ? { scale, transitionEnd: transitionEnd?.exit }\n      : { transitionEnd: { scale, ...transitionEnd?.exit } }),\n    ...exit,\n  }),\n}\n\nexport const scaleFadeProps = {\n  initial: 'exit',\n  animate: 'enter',\n  exit: 'exit',\n  variants,\n}\n\nexport const ScaleFade = forwardRef<ScaleFadeProps, 'div'>(\n  (\n    {\n      unmountOnExit,\n      isOpen,\n      scale = 0.95,\n      reverse = true,\n      transition,\n      transitionEnd,\n      delay,\n      duration,\n      className,\n      ...rest\n    },\n    ref,\n  ) => {\n    const animate = isOpen || unmountOnExit ? 'enter' : 'exit'\n\n    const custom = {\n      scale,\n      reverse,\n      transition,\n      transitionEnd,\n      delay,\n      duration,\n    }\n\n    isOpen = unmountOnExit ? isOpen && unmountOnExit : true\n\n    const css: CSSUIObject = {\n      w: '100%',\n    }\n\n    return (\n      <AnimatePresence custom={custom}>\n        {isOpen ? (\n          <ui.div\n            as={motion.div}\n            ref={ref}\n            className={cx('ui-scale-fade', className)}\n            custom={custom}\n            {...scaleFadeProps}\n            animate={animate}\n            __css={css}\n            {...rest}\n          />\n        ) : null}\n      </AnimatePresence>\n    )\n  },\n)\n"],"names":["variants","transition","transitionEnd","delay","duration","enter","transitionEnter","scale","reverse","exit","transitionExit","scaleFadeProps","ScaleFade","forwardRef","unmountOnExit","isOpen","className","rest","ref","animate","custom","css","jsx","AnimatePresence","ui","motion","cx"],"mappings":"6QAgCA,MAAMA,EAAqC,CACzC,MAAO,CAAC,CAAE,WAAAC,EAAY,cAAAC,EAAe,MAAAC,EAAO,SAAAC,EAAU,MAAAC,CAAU,EAAA,MAAQ,CACtE,QAAS,EACT,MAAO,EACP,WAAYC,EAAgBL,GAAA,YAAAA,EAAY,KAAK,EAAEE,EAAOC,CAAQ,EAC9D,cAAeF,GAAA,YAAAA,EAAe,MAC9B,GAAGG,CAAA,GAEL,KAAM,CAAC,CACL,MAAAE,EACA,QAAAC,EACA,WAAAP,EACA,cAAAC,EACA,MAAAC,EACA,SAAAC,EACA,KAAAK,CACF,EAAI,MAAQ,CACV,QAAS,EACT,WAAYC,EAAeT,GAAA,YAAAA,EAAY,IAAI,EAAEE,EAAOC,CAAQ,EAC5D,GAAII,EACA,CAAE,MAAAD,EAAO,cAAeL,GAAA,YAAAA,EAAe,IAAA,EACvC,CAAE,cAAe,CAAE,MAAAK,EAAO,GAAGL,GAAA,YAAAA,EAAe,KAAO,EACvD,GAAGO,CAAA,EAEP,EAEaE,EAAiB,CAC5B,QAAS,OACT,QAAS,QACT,KAAM,OACN,SAAAX,CACF,EAEaY,EAAYC,EACvB,CACE,CACE,cAAAC,EACA,OAAAC,EACA,MAAAR,EAAQ,IACR,QAAAC,EAAU,GACV,WAAAP,EACA,cAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAY,EACA,GAAGC,GAELC,IACG,CACG,MAAAC,EAAUJ,GAAUD,EAAgB,QAAU,OAE9CM,EAAS,CACb,MAAAb,EACA,QAAAC,EACA,WAAAP,EACA,cAAAC,EACA,MAAAC,EACA,SAAAC,CAAA,EAGOW,EAAAD,EAAgBC,GAAUD,EAAgB,GAEnD,MAAMO,EAAmB,CACvB,EAAG,MAAA,EAIH,OAAAC,EAACC,EAAgB,CAAA,OAAAH,EACd,SACCL,EAAAO,EAACE,EAAG,IAAH,CACC,GAAIC,EAAO,IACX,IAAAP,EACA,UAAWQ,EAAG,gBAAiBV,CAAS,EACxC,OAAAI,EACC,GAAGT,EACJ,QAAAQ,EACA,MAAOE,EACN,GAAGJ,CAAA,CAAA,EAEJ,IACN,CAAA,CAEJ,CACF"}