{"version":3,"file":"index-70395464.js","sources":["../../packages/hooks/use-resize-observer/src/index.ts"],"sourcesContent":["import { createdDom } from '@yamada-ui/utils'\nimport { useEffect, useMemo, useRef, useState } from 'react'\n\nexport type ObserverRect = Omit<DOMRectReadOnly, 'toJSON'>\n\nconst defaultRect: ObserverRect = {\n  x: 0,\n  y: 0,\n  width: 0,\n  height: 0,\n  top: 0,\n  left: 0,\n  bottom: 0,\n  right: 0,\n}\n\nexport const useResizeObserver = <T extends HTMLElement = any>() => {\n  const id = useRef(0)\n  const ref = useRef<T>(null)\n  const [rect, setRect] = useState<ObserverRect>(defaultRect)\n\n  const observer = useMemo(() => {\n    const isBrowser = createdDom()\n\n    if (!isBrowser) return null\n\n    return new ResizeObserver(([entry]) => {\n      if (!entry) return\n\n      cancelAnimationFrame(id.current)\n\n      id.current = requestAnimationFrame(() => {\n        if (ref.current) setRect(entry.contentRect)\n      })\n    })\n  }, [])\n\n  useEffect(() => {\n    if (ref.current) observer?.observe(ref.current)\n\n    return () => {\n      observer?.disconnect()\n\n      if (id.current) cancelAnimationFrame(id.current)\n    }\n  }, [observer])\n\n  return [ref, rect] as const\n}\n\nexport const useElementSize = <T extends HTMLElement = any>() => {\n  const [ref, { width, height }] = useResizeObserver<T>()\n\n  return { ref, width, height }\n}\n"],"names":["defaultRect","useResizeObserver","id","useRef","ref","rect","setRect","useState","observer","useMemo","createdDom","entry","useEffect"],"mappings":"yFAKA,MAAMA,EAA4B,CAChC,EAAG,EACH,EAAG,EACH,MAAO,EACP,OAAQ,EACR,IAAK,EACL,KAAM,EACN,OAAQ,EACR,MAAO,CACT,EAEaC,EAAoB,IAAmC,CAC5D,MAAAC,EAAKC,SAAO,CAAC,EACbC,EAAMD,SAAU,IAAI,EACpB,CAACE,EAAMC,CAAO,EAAIC,WAAuBP,CAAW,EAEpDQ,EAAWC,EAAAA,QAAQ,IACLC,IAIX,IAAI,eAAe,CAAC,CAACC,CAAK,IAAM,CAChCA,IAEL,qBAAqBT,EAAG,OAAO,EAE5BA,EAAA,QAAU,sBAAsB,IAAM,CACnCE,EAAI,SAASE,EAAQK,EAAM,WAAW,CAAA,CAC3C,EAAA,CACF,EAVsB,KAWtB,CAAE,CAAA,EAELC,OAAAA,EAAAA,UAAU,KACJR,EAAI,UAAmBI,GAAA,MAAAA,EAAA,QAAQJ,EAAI,UAEhC,IAAM,CACXI,GAAA,MAAAA,EAAU,aAENN,EAAG,SAAS,qBAAqBA,EAAG,OAAO,CAAA,GAEhD,CAACM,CAAQ,CAAC,EAEN,CAACJ,EAAKC,CAAI,CACnB"}