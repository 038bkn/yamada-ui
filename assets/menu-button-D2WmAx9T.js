import{j as n}from"./jsx-runtime-Nms4Y4qS.js";import{r as y}from"./index-BwDkhjyp.js";import{u as A,a as h,M as R}from"./menu-list-DrLzMAYP.js";import{a as v}from"./popover-content-BKwFQgy2.js";import{c as C}from"./icon-AfnI_U7a.js";import{f as x}from"./forward-ref-BmTAT9U5.js";import{e as K,b as d,c as D,d as k,h as F,V as m}from"./factory-CUXX-tpD.js";const _=x(({className:s,children:a,as:o,...t},l)=>{const{onKeyDownRef:f,onUpstreamRestoreFocus:p}=A()??{},{isOpen:r,onOpen:e,onClose:w,onFocusFirstItem:c,onFocusLastItem:j}=h(),I=y.useCallback(i=>{const u={Enter:m(e,c),ArrowDown:m(e,c),ArrowUp:m(e,j)}[i.key];u&&(i.preventDefault(),u())},[c,j,e]),M=y.useCallback(i=>{const u={ArrowRight:r?void 0:m(e,c),ArrowLeft:r?m(p,w):void 0}[i.key];u&&(i.preventDefault(),u())},[r,e,c,p,w]);K(f,M);const b=o?d(o):B;return n.jsx(v,{children:n.jsx(b,{ref:l,className:D("ui-menu",s),"aria-haspopup":"menu","aria-expanded":r,...t,"data-active":k(r),onKeyDown:F(t.onKeyDown,I),children:a})})}),B=x((s,a)=>{const{styles:o}=h(),t={display:"inline-flex",appearance:"none",alignItems:"center",outline:0,...o.button};return n.jsx(d.button,{ref:a,__css:t,...s})}),S=x(({className:s,children:a,innerProps:o,icon:t,iconProps:l,...f},p)=>n.jsxs(_,{ref:p,className:D("ui-menu__item-button",s),flex:"1",...f,children:[n.jsx(d.span,{as:"span",flex:"1",...o,children:a}),n.jsx(R,{...l,children:t??n.jsx(C,{fontSize:"1.5em",transform:"rotate(-90deg)"})})]}));export{_ as M,S as a};
