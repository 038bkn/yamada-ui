import{j as r,a as se}from"./jsx-runtime-5BUNAZ9W.js";import{t as ae}from"./index-rg5YQ7Iz.js";import{r as a}from"./index-4g5l5LRQ.js";import{u as oe}from"./index-Q3A_zbLW.js";import{a as Q,u as ie,g as X,f as H}from"./form-control-l7lnk72n.js";import{g as B,c as ce,v as re,a as Y,o as A,p as W,Y as le,u as R,b as N,e as ue,Q as E,z,J as w,h as v}from"./factory-Ei-jEUJK.js";import{A as de}from"./index-EargzzxG.js";import{m as j}from"./motion-ukEXpwwk.js";import{u as he}from"./use-component-style-eekTqtz5.js";import{o as fe}from"./theme-provider-PZSzWP7q.js";import{F as me}from"./flex-d4IZkze6.js";const J=n=>n&&W(n)&&W(n.target),Ce=({isNative:n,...d})=>{d.onChange=B(d.onChange);const[e,i]=oe({value:d.value,defaultValue:d.defaultValue||[],onChange:d.onChange}),f=a.useCallback(o=>{const h=J(o)?o.target.checked:!e.includes(o),c=J(o)?o.target.value:o,l=h?[...e,c]:e.filter(s=>String(s)!==String(c));i(l)},[e,i]),x=a.useCallback((o={},h=null)=>({...o,ref:h,[n?"checked":"isChecked"]:e.some(c=>String(o.value)===String(c)),onChange:f}),[f,n,e]);return{value:e,setValue:i,onChange:f,getCheckboxProps:x}},[ke,be]=ce({strict:!1,name:"CheckboxGroupContext"}),ve=a.forwardRef(({className:n,size:d,variant:e,colorScheme:i,children:f,items:x=[],direction:o="column",gap:h,...c},l)=>{const{value:s,onChange:I}=Ce(c),{isRequired:D,isReadOnly:y,isDisabled:P,isInvalid:S}=Q(c),m=re(f);let g=[];return!m.length&&x.length&&(g=x.map(({label:k,value:u,...F},_)=>r(Z,{value:u,...F,children:k},_))),r(ke,{value:{size:d,variant:e,colorScheme:i,isRequired:D,isReadOnly:y,isDisabled:P,isInvalid:S,value:s,onChange:I},children:r(me,{ref:l,className:Y("ui-checkbox-group",n),role:"group",direction:o,gap:h??(o==="row"?"1rem":void 0),...A(c,["value","defaultValue","onChange","isInvalid","isDisabled","isRequired","isReadOnly"]),children:f??g})})});ve.displayName="CheckboxGroup";const ge=n=>{const{id:d,name:e,value:i,defaultIsChecked:f,tabIndex:x,required:o,disabled:h,readOnly:c,isIndeterminate:l,...s}=ie(n),[I,D]=a.useState(!1),[y,P]=a.useState(!1),[S,m]=a.useState(!1),[g,k]=a.useState(!1),u=a.useRef(null),[F,_]=a.useState(!0),[L,M]=a.useState(!!f),q=n.isChecked!==void 0,b=q?n.isChecked:L,G=B(t=>{var p;if(c||h){t.preventDefault();return}q||M(!b||l?!0:t.target.checked),(p=s.onChange)==null||p.call(s,t)},[c,h,q,b,l]),K=B(s.onBlur),U=B(s.onFocus),V=a.useCallback(({key:t})=>{t===" "&&k(!0)},[k]),O=a.useCallback(({key:t})=>{t===" "&&k(!1)},[k]);a.useEffect(()=>ae(D),[]),N(()=>{u.current&&(u.current.indeterminate=!!l)},[l]),ue(()=>{h&&P(!1)},[h,P]),N(()=>{var t;(t=u.current)!=null&&t.form&&(u.current.form.onreset=()=>M(!!f))},[]),N(()=>{u.current&&u.current.checked!==b&&M(u.current.checked)},[u.current]);const $=a.useCallback((t={},p=null)=>({...E(s,X({omit:["aria-readonly"]})),...t,ref:z(p,C=>{C&&_(C.tagName==="LABEL")}),"data-checked":w(b),onClick:v(t.onClick,()=>{var C;F||((C=u.current)==null||C.click(),requestAnimationFrame(()=>{var T;return(T=u.current)==null?void 0:T.focus()}))})}),[b,F,s]),ee=a.useCallback((t={},p=null)=>({...E(s,H),...t,ref:p,"data-active":w(g),"data-hover":w(S),"data-checked":w(b),"data-focus":w(y),"data-focus-visible":w(y&&I),"data-indeterminate":w(l),"aria-hidden":!0,onMouseDown:v(t.onMouseDown,C=>{y&&C.preventDefault(),k(!0)}),onMouseUp:v(t.onMouseUp,()=>k(!1)),onMouseEnter:v(t.onMouseEnter,()=>m(!0)),onMouseLeave:v(t.onMouseLeave,()=>m(!1))}),[g,b,y,S,I,l,s]),te=a.useCallback((t={},p=null)=>({...E(s,H),...t,ref:z(u,p),id:d,type:"checkbox",name:e,value:i,tabIndex:x,required:o,disabled:h,readOnly:c,checked:b,style:{border:"0px",clip:"rect(0px, 0px, 0px, 0px)",height:"1px",width:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},onChange:v(t.onChange,G),onBlur:v(t.onBlur,K,()=>P(!1)),onFocus:v(t.onFocus,U,()=>P(!0)),onKeyDown:v(t.onKeyDown,V),onKeyUp:v(t.onKeyUp,O)}),[s,d,e,i,x,o,h,c,b,G,K,U,V,O]),ne=a.useCallback((t={},p=null)=>({...E(s,X({omit:["aria-readonly"]})),...t,ref:p,"data-checked":w(b),onMouseDown:v(t.onMouseDown,C=>{C.preventDefault(),C.stopPropagation()}),onTouchStart:v(t.onTouchStart,C=>{C.preventDefault(),C.stopPropagation()})}),[b,s]);return{isFocusVisible:I,isFocused:y,isHovered:S,isActive:g,isChecked:b,isIndeterminate:l,getContainerProps:$,getIconProps:ee,getInputProps:te,getLabelProps:ne}},Z=a.forwardRef((n,d)=>{const e=be(),i=Q(n),[f,x]=he("Checkbox",{...e?A(e,["value"]):{},...n}),{className:o,gap:h="0.5rem",isRequired:c=(e==null?void 0:e.isRequired)??i.isRequired,isReadOnly:l=(e==null?void 0:e.isReadOnly)??i.isReadOnly,isDisabled:s=(e==null?void 0:e.isDisabled)??i.isDisabled,isInvalid:I=(e==null?void 0:e.isInvalid)??i.isInvalid,iconProps:D,inputProps:y,labelProps:P,children:S,...m}=fe(x),{isChecked:g,isIndeterminate:k,getContainerProps:u,getInputProps:F,getIconProps:_,getLabelProps:L}=ge({...m,isRequired:c,isReadOnly:l,isDisabled:s,isInvalid:I,isChecked:e!=null&&e.value&&m.value?e.value.includes(m.value):m.isChecked,onChange:e!=null&&e.onChange&&m.value?le(e.onChange,m.onChange):m.onChange}),M=a.cloneElement((D==null?void 0:D.children)??r(pe,{}),{__css:{opacity:g||k?1:0,transform:g||k?"scale(1)":"scale(0.95)",transitionProperty:"transform",transitionDuration:"normal"},isIndeterminate:k,isChecked:g,isRequired:c,isReadOnly:l,isDisabled:s,isInvalid:I});return se(R.label,{className:Y("ui-checkbox",o),...u(),__css:{cursor:"pointer",position:"relative",display:"inline-flex",alignItems:"center",verticalAlign:"top",gap:h,...f.container},...A(m,["id","name","value","defaultValue","defaultIsChecked","isChecked","isIndeterminate","onChange","onBlur","onFocus","tabIndex"]),children:[r(R.input,{className:"ui-checkbox__input",...F(y,d)}),r(R.span,{className:"ui-checkbox__icon",__css:{pointerEvents:l?"none":void 0,position:"relative",display:"inline-block",userSelect:"none",...f.icon},..._(A(D??{children:void 0},["children"])),children:M}),r(R.span,{className:"ui-checkbox__label",__css:{...f.label},...L(P),children:S})]})});Z.displayName="Checkbox";const pe=({isIndeterminate:n,isChecked:d,...e})=>{const i=A(e,["isRequired","isReadOnly","isDisabled","isInvalid"]);return r(de,{initial:!1,children:n||d?r(R.div,{__css:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:r(R.div,{as:j.div,variants:{unchecked:{scale:.5},checked:{scale:1}},initial:"unchecked",animate:"checked",exit:"unchecked",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:n?r(ye,{...i}):r(xe,{...i})})}):null})},xe=n=>r(R.svg,{as:j.svg,width:"1.2em",viewBox:"0 0 12 10",variants:{unchecked:{opacity:0,strokeDashoffset:16},checked:{opacity:1,strokeDashoffset:0,transition:{duration:.2}}},style:{fill:"none",strokeWidth:2,stroke:"currentColor",strokeDasharray:16},...n,children:r("polyline",{points:"1.5 6 4.5 9 10.5 1"})}),ye=n=>r(R.svg,{as:j.svg,width:"1.2em",viewBox:"0 0 24 24",variants:{unchecked:{scaleX:.65,opacity:0},checked:{scaleX:1,opacity:1,transition:{scaleX:{duration:0},opacity:{duration:.02}}}},style:{stroke:"currentColor",strokeWidth:4},...n,children:r("line",{x1:"21",x2:"3",y1:"12",y2:"12"})});export{Z as C,ve as a,ge as b,Ce as u};
