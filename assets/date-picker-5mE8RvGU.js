import{j as l,a as Ee}from"./jsx-runtime-5BUNAZ9W.js";import{u as Le}from"./index-sz5IJH3R.js";import{r as n}from"./index-4g5l5LRQ.js";import{d as ne,i as Se,a as Be,b as Ue,C as Qe}from"./ja-Fq13BpcP.js";import{u as $e}from"./index-Su7Oe0q6.js";import{u as qe}from"./index-wIMh_G5R.js";import{u as Ge,f as Je}from"./form-control-H3Q401dh.js";import{p as Xe,P as Ze,b as et,a as tt}from"./popover-content-oj2eJHuJ.js";import{u as nt,o as ot}from"./theme-provider-4KOeReOn.js";import{R as at,_ as st,$ as rt,o as lt,a3 as it,Q as ct,w as oe,h as Y,K as Re,c as ut,e as pt,a4 as dt,u as W,a as L,v as ft,f as mt}from"./factory-1uJrB2de.js";import{P as Ct}from"./container-portal-e1Mvj3y3.js";import{b as ht,a as Pt}from"./icon-VHqa4iO4.js";import{f as ae}from"./forward-ref-A-8Arhkk.js";import{u as gt}from"./use-component-style-a9Y1koMB.js";const kt=d=>{var Fe;const{theme:i}=nt();let{id:c,defaultIsOpen:m,closeOnBlur:f=!0,closeOnEsc:u=!0,placement:s="bottom-start",duration:p=.2,enableMultiple:P,enableRange:C,value:I,defaultValue:S,onChange:w,type:_,defaultType:T,onChangeType:D,month:B,defaultMonth:M,onChangeMonth:N,firstDayOfWeek:j,amountOfMonths:H,paginateBy:z,withWeekdays:O,disableOutsideDays:g,hiddenOutsideDays:R,minDate:h,maxDate:t,locale:o,yearFormat:x,monthFormat:re,weekdayFormat:le,dateFormat:ie,weekendDays:ce,today:ue,excludeDate:k,calendarVariant:pe,calendarSize:de,calendarColorScheme:fe,holidays:me,withHeader:Ce,withControls:he,withLabel:Pe,maxSelectValues:ge,selectMonthWith:ke,calendarProps:be,allowInput:b=!0,allowInputBeyond:U=!1,parseDate:Q,pattern:Me=/[^0-9\-\/]/g,inputFormat:$="YYYY/MM/DD",autoFocus:K=!0,onOpen:q,onClose:G,onClear:J,onEnter:ye,onDelete:ve,...y}=Ge(d);o??(o=((Fe=i.__config.date)==null?void 0:Fe.locale)??"en");const V=at(y,Je),[_e,Ne]=st(lt(y,[...Xe]),rt),{disabled:X,readOnly:Z}=V,[r,De]=n.useState(m??!1),ee=n.useRef(null),A=n.useRef(null),je=n.useCallback(e=>{let a=(Q==null?void 0:Q(e))??ne(e,$,o).toDate();if(a!=null&&!(k!=null&&k(a)))return U||(t&&Se(a,t)&&(a=t),h&&Be(a,h)&&(a=h)),a},[U,k,$,o,t,h,Q]),He=n.useCallback(e=>{if(e!=null&&!(k!=null&&k(e)))return U||(t&&Se(e,t)&&(e=t),h&&Be(e,h)&&(e=h)),ne(e).locale(o??"en").format($)},[U,k,$,o,t,h]),v=n.useCallback(()=>{var e;X||Z||(De(!0),K&&b&&((e=A.current)==null||e.focus()),q==null||q())},[K,b,X,Z,q]),F=n.useCallback(()=>{De(!1),G==null||G()},[G]),Ie=n.useCallback(()=>{var e;r?K&&b&&((e=A.current)==null||e.focus()):v()},[K,b,r,v]),we=n.useCallback(()=>{r||v()},[r,v]),Oe=n.useCallback(e=>{const a=it(e);ct(ee.current,a)||f&&r&&F()},[f,r,F]),xe=n.useCallback(e=>{if(e.key===" "&&(e.key=e.code),X||Z)return;const te={Space:r?void 0:E=>{E.preventDefault(),E.stopPropagation(),v()},Enter:r?ye:E=>{E.preventDefault(),E.stopPropagation(),v()},Escape:u?E=>{E.preventDefault(),E.stopPropagation(),F()}:void 0,Backspace:ve}[e.key];te&&te(e)},[u,X,Z,r,F,ye,ve,v]),Ve=n.useCallback(e=>{var a;e.stopPropagation(),J==null||J(),K&&b&&r&&((a=A.current)==null||a.focus())},[K,b,r,J]);qe({ref:ee,handler:F,enabled:f});const ze=n.useCallback((e={},a=null)=>({ref:oe(ee,a),..._e,...e,...V,onClick:Y(e.onClick,y.onClick,Ie),onBlur:Y(e.onBlur,y.onBlur,Oe)}),[_e,V,Oe,Ie,y]),Ke=n.useCallback(e=>({...y,...e,isOpen:r,onOpen:v,onClose:F,placement:s,duration:p,trigger:"never",closeOnButton:!1,closeOnBlur:!1}),[p,r,F,v,s,y]),Ye=n.useCallback((e={},a=null)=>{const te={...e.style,...b?{}:{cursor:"pointer"}};return{ref:oe(A,a),tabIndex:b?-1:0,...e,...V,style:te,"data-active":Re(r),"aria-expanded":Re(r),onFocus:Y(e.onFocus,y.onFocus,we),onKeyDown:Y(e.onKeyDown,y.onKeyDown,xe)}},[b,V,r,y,we,xe]),Ae=n.useCallback(e=>({...e,type:_,defaultType:T,onChangeType:D,month:B,defaultMonth:M,onChangeMonth:N,firstDayOfWeek:j,amountOfMonths:H,paginateBy:z,withWeekdays:O,disableOutsideDays:g,hiddenOutsideDays:R,yearFormat:x,monthFormat:re,weekdayFormat:le,dateFormat:ie,weekendDays:ce,today:ue,holidays:me,withHeader:Ce,withControls:he,withLabel:Pe,maxSelectValues:ge,variant:pe,size:de,colorScheme:fe,...be,value:I,defaultValue:S,onChange:w,minDate:h,maxDate:t,excludeDate:k,locale:o,selectMonthWith:ke,enableMultiple:P,enableRange:C}),[R,ge,P,C,H,fe,be,de,pe,ie,M,T,S,g,k,j,me,o,t,h,B,re,w,N,D,z,ue,_,I,le,ce,he,Ce,Pe,O,x,ke]),We=n.useCallback(({clear:e,...a})=>({...a,...V,onClick:Y(a.onClick,e?Ve:void 0)}),[V,Ve]);return{id:c,allowInput:b,pattern:Me,inputProps:Ne,formControlProps:V,containerRef:ee,inputRef:A,isOpen:r,onOpen:v,onClose:F,dateToString:He,stringToDate:je,getContainerProps:ze,getPopoverProps:Ke,getFieldProps:Ye,getCalendarProps:Ae,getIconProps:We}},[bt,se]=ut({strict:!1,name:"DatePickerContext"}),yt=({value:d,defaultValue:i,onChange:c,placeholder:m,closeOnSelect:f=!0,...u})=>{const[s,p]=$e({value:d,defaultValue:i,onChange:c,onUpdate:(t,o)=>!Ue(t,o)}),{inputRef:P,id:C,allowInput:I,pattern:S,inputProps:w,formControlProps:_,onClose:T,dateToString:D,stringToDate:B,getContainerProps:M,getPopoverProps:N,getFieldProps:j,getCalendarProps:H,getIconProps:z}=kt({...u,value:s,defaultValue:i,onChange:t=>{const o=D(t);p(t),g(o),f&&t&&T()},onClear:()=>{p(void 0),g(void 0)},onClose:()=>{var o;const t=D(s);g(t),(o=u.onClose)==null||o.call(u)}}),[O,g]=n.useState(D(s)),R=n.useCallback(t=>{let o=t.target.value;o=o.replace(S,"");const x=B(o);g(o),x&&ne(x).isValid()?p(x):p(void 0)},[S,B,g,p]);pt(()=>{if(P.current&&dt(P.current))return;const t=D(s);g(t)},[s]);const h=n.useCallback((t={},o=null)=>{const x={...t.style,...w.style,...I?{}:{pointerEvents:"none"}};return{placeholder:m,..._,...w,...t,ref:o,style:x,id:C,tabIndex:I?0:-1,value:O??"",cursor:_.readOnly?"default":"text",pointerEvents:_.disabled?"none":"auto",onChange:Y(t.onChange,R)}},[w,I,m,_,C,O,R]);return{value:s,getContainerProps:M,getPopoverProps:N,getFieldProps:j,getInputProps:h,getIconProps:z,getCalendarProps:H}},Ht=ae((d,i)=>{const[c,m]=gt("DatePicker",d);let{className:f,isClearable:u=!0,color:s,h:p,height:P,minH:C,minHeight:I,containerProps:S,inputProps:w,iconProps:_,clearIconProps:T,portalProps:D={isDisabled:!0},...B}=ot(m);const{getPopoverProps:M,getContainerProps:N,getCalendarProps:j,getFieldProps:H,getInputProps:z,getIconProps:O,value:g}=yt(B);p??(p=P),C??(C=I);const R={w:"100%",h:"fit-content",color:s,...c.container};return l(bt,{value:c,children:l(Ze,{...M(),children:Ee(W.div,{className:L("ui-date-picker",f),__css:R,...N(S),children:[Ee(W.div,{className:"ui-date-picker__inner",__css:{position:"relative",...c.inner},children:[l(vt,{...H({h:p,minH:C},i),inputProps:z(w)}),u&&g?l(Dt,{...O({clear:!0,...T})}):l(Te,{...O({clear:!1,..._})})]}),l(Ct,{...D,children:l(et,{className:"ui-date-picker__popover",__css:{...c.list},children:l(Qe,{className:"ui-date-picker__calendar",...j()})})})]})})})}),vt=ae(({className:d,h:i,minH:c,inputProps:m,...f},u)=>{const s=se(),{ref:p,...P}=m,C={pe:"2rem",h:i,minH:c,display:"flex",alignItems:"center",...s.field};return l(tt,{children:l(W.div,{className:L("ui-date-picker__field",d),__css:C,...f,children:l(W.input,{ref:oe(u,p),className:"ui-date-picker__field__input",display:"inline-block",w:"full",...P})})})}),Te=ae(({className:d,children:i,__css:c,...m},f)=>{const s={position:"absolute",top:"50%",transform:"translateY(-50%)",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",cursor:"pointer",...se().icon,...c},P=ft(i).map(C=>n.cloneElement(C,{focusable:!1,"aria-hidden":!0,style:{maxWidth:"1em",maxHeight:"1em",color:"currentColor"}}));return l(W.div,{ref:f,className:L("ui-date-picker__icon",d),__css:s,...m,children:mt(i)?P:l(_t,{})})}),_t=({className:d,...i})=>l(ht,{className:L("ui-date-picker__icon__calendar",d),viewBox:"0 0 24 24",...i,children:l("path",{fill:"currentColor",d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"})}),Dt=({className:d,children:i,...c})=>{const m=n.useRef(null),f=se(),u=c.disabled,s=Le({ref:m,isDisabled:u,...c});return l(Te,{"aria-label":"Clear value",className:L("ui-date-picker__icon--clear",d),__css:f.clearIcon,...s,children:i??l(Pt,{w:"0.5em",h:"0.5em"})})};export{Ht as D,bt as a,vt as b,Dt as c,Te as d,se as e,kt as u};
